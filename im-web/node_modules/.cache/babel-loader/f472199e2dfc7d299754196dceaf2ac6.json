{"remainingRequest":"/home/d/github/box-im/im-web/node_modules/babel-loader/lib/index.js!/home/d/github/box-im/im-web/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/d/github/box-im/im-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/d/github/box-im/im-web/src/components/chat/ChatBox.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/d/github/box-im/im-web/src/components/chat/ChatBox.vue","mtime":1727013808920},{"path":"/home/d/github/box-im/im-web/babel.config.js","mtime":1727013808912},{"path":"/home/d/github/box-im/im-web/node_modules/cache-loader/dist/cjs.js","mtime":1727014166207},{"path":"/home/d/github/box-im/im-web/node_modules/babel-loader/lib/index.js","mtime":1727014166227},{"path":"/home/d/github/box-im/im-web/node_modules/cache-loader/dist/cjs.js","mtime":1727014166207},{"path":"/home/d/github/box-im/im-web/node_modules/vue-loader/lib/index.js","mtime":1727014163811}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5kZWxldGUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuaGFzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC1zZWFyY2gtcGFyYW1zLnNpemUuanMiOwppbXBvcnQgQ2hhdEdyb3VwU2lkZSBmcm9tICIuL0NoYXRHcm91cFNpZGUudnVlIjsKaW1wb3J0IENoYXRNZXNzYWdlSXRlbSBmcm9tICIuL0NoYXRNZXNzYWdlSXRlbS52dWUiOwppbXBvcnQgRmlsZVVwbG9hZCBmcm9tICIuLi9jb21tb24vRmlsZVVwbG9hZC52dWUiOwppbXBvcnQgRW1vdGlvbiBmcm9tICIuLi9jb21tb24vRW1vdGlvbi52dWUiOwppbXBvcnQgQ2hhdFJlY29yZCBmcm9tICIuL0NoYXRSZWNvcmQudnVlIjsKaW1wb3J0IENoYXRIaXN0b3J5IGZyb20gIi4vQ2hhdEhpc3RvcnkudnVlIjsKaW1wb3J0IENoYXRBdEJveCBmcm9tICIuL0NoYXRBdEJveC52dWUiOwppbXBvcnQgR3JvdXBNZW1iZXJTZWxlY3RvciBmcm9tICIuLi9ncm91cC9Hcm91cE1lbWJlclNlbGVjdG9yLnZ1ZSI7CmltcG9ydCBSdGNHcm91cEpvaW4gZnJvbSAiLi4vcnRjL1J0Y0dyb3VwSm9pbi52dWUiOwppbXBvcnQgQ2hhdElucHV0IGZyb20gIi4vQ2hhdElucHV0IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJjaGF0UHJpdmF0ZSIsCiAgY29tcG9uZW50czogewogICAgQ2hhdElucHV0LAogICAgQ2hhdE1lc3NhZ2VJdGVtLAogICAgRmlsZVVwbG9hZCwKICAgIENoYXRHcm91cFNpZGUsCiAgICBFbW90aW9uLAogICAgQ2hhdFJlY29yZCwKICAgIENoYXRIaXN0b3J5LAogICAgQ2hhdEF0Qm94LAogICAgR3JvdXBNZW1iZXJTZWxlY3RvciwKICAgIFJ0Y0dyb3VwSm9pbgogIH0sCiAgcHJvcHM6IHsKICAgIGNoYXQ6IHsKICAgICAgdHlwZTogT2JqZWN0CiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZnJpZW5kOiB7fSwKICAgICAgZ3JvdXA6IHt9LAogICAgICBncm91cE1lbWJlcnM6IFtdLAogICAgICBzZW5kSW1hZ2VVcmw6ICIiLAogICAgICBzZW5kSW1hZ2VGaWxlOiAiIiwKICAgICAgcGxhY2Vob2xkZXI6ICIiLAogICAgICBpc1JlY2VpcHQ6IHRydWUsCiAgICAgIHNob3dSZWNvcmQ6IGZhbHNlLAogICAgICAvLyDmmK/lkKbmmL7npLror63pn7PlvZXliLblvLnnqpcKICAgICAgc2hvd1NpZGU6IGZhbHNlLAogICAgICAvLyDmmK/lkKbmmL7npLrnvqTogYrkv6Hmga/moI8KICAgICAgc2hvd0hpc3Rvcnk6IGZhbHNlLAogICAgICAvLyDmmK/lkKbmmL7npLrljoblj7LogYrlpKnorrDlvZUKICAgICAgbG9ja01lc3NhZ2U6IGZhbHNlLAogICAgICAvLyDmmK/lkKbplIHlrprlj5HpgIHvvIwKICAgICAgc2hvd01pbklkeDogMCwKICAgICAgLy8g5LiL5qCH5L2O5LqOc2hvd01pbklkeOeahOa2iOaBr+S4jeaYvuekuu+8jOWQpuWImemhtemdouS8muW+iOWNoee9rgogICAgICByZXFRdWV1ZTogW10sCiAgICAgIGlzU2VuZGluZzogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBtb3ZlQ2hhdFRvVG9wKCkgewogICAgICBsZXQgY2hhdElkeCA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZmluZENoYXRJZHgodGhpcy5jaGF0KTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJtb3ZlVG9wIiwgY2hhdElkeCk7CiAgICB9LAogICAgY2xvc2VSZWZCb3goKSB7CiAgICAgIHRoaXMuJHJlZnMuZW1vQm94LmNsb3NlKCk7CiAgICAgIC8vIHRoaXMuJHJlZnMuYXRCb3guY2xvc2UoKTsKICAgIH0sCiAgICBvbkNhbGwodHlwZSkgewogICAgICBpZiAodHlwZSA9PSB0aGlzLiRlbnVtcy5NRVNTQUdFX1RZUEUuQUNUX1JUX1ZPSUNFKSB7CiAgICAgICAgdGhpcy5zaG93UHJpdmF0ZVZpZGVvKCd2b2ljZScpOwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gdGhpcy4kZW51bXMuTUVTU0FHRV9UWVBFLkFDVF9SVF9WSURFTykgewogICAgICAgIHRoaXMuc2hvd1ByaXZhdGVWaWRlbygndmlkZW8nKTsKICAgICAgfQogICAgfSwKICAgIG9uU3dpdGNoUmVjZWlwdCgpIHsKICAgICAgdGhpcy5pc1JlY2VpcHQgPSAhdGhpcy5pc1JlY2VpcHQ7CiAgICAgIHRoaXMucmVmcmVzaFBsYWNlSG9sZGVyKCk7CiAgICB9LAogICAgb25JbWFnZVN1Y2Nlc3MoZGF0YSwgZmlsZSkgewogICAgICBsZXQgbXNnSW5mbyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZmlsZS5tc2dJbmZvKSk7CiAgICAgIG1zZ0luZm8uY29udGVudCA9IEpTT04uc3RyaW5naWZ5KGRhdGEpOwogICAgICBtc2dJbmZvLnJlY2VpcHQgPSB0aGlzLmlzUmVjZWlwdDsKICAgICAgdGhpcy5zZW5kTWVzc2FnZVJlcXVlc3QobXNnSW5mbykudGhlbihtID0+IHsKICAgICAgICBtc2dJbmZvLmxvYWRTdGF0dXMgPSAnb2snOwogICAgICAgIG1zZ0luZm8uaWQgPSBtLmlkOwogICAgICAgIHRoaXMuaXNSZWNlaXB0ID0gZmFsc2U7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJpbnNlcnRNZXNzYWdlIiwgbXNnSW5mbyk7CiAgICAgIH0pOwogICAgfSwKICAgIG9uSW1hZ2VGYWlsKGUsIGZpbGUpIHsKICAgICAgbGV0IG1zZ0luZm8gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGZpbGUubXNnSW5mbykpOwogICAgICBtc2dJbmZvLmxvYWRTdGF0dXMgPSAnZmFpbCc7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiaW5zZXJ0TWVzc2FnZSIsIG1zZ0luZm8pOwogICAgfSwKICAgIG9uSW1hZ2VCZWZvcmUoZmlsZSkgewogICAgICBsZXQgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTsKICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgb3JpZ2luVXJsOiB1cmwsCiAgICAgICAgdGh1bWJVcmw6IHVybAogICAgICB9OwogICAgICBsZXQgbXNnSW5mbyA9IHsKICAgICAgICBpZDogMCwKICAgICAgICB0bXBJZDogdGhpcy5nZW5lcmF0ZUlkKCksCiAgICAgICAgZmlsZUlkOiBmaWxlLnVpZCwKICAgICAgICBzZW5kSWQ6IHRoaXMubWluZS5pZCwKICAgICAgICBjb250ZW50OiBKU09OLnN0cmluZ2lmeShkYXRhKSwKICAgICAgICBzZW5kVGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCksCiAgICAgICAgc2VsZlNlbmQ6IHRydWUsCiAgICAgICAgdHlwZTogMSwKICAgICAgICByZWFkZWRDb3VudDogMCwKICAgICAgICBsb2FkU3RhdHVzOiAibG9hZGluZyIsCiAgICAgICAgc3RhdHVzOiB0aGlzLiRlbnVtcy5NRVNTQUdFX1NUQVRVUy5VTlNFTkQKICAgICAgfTsKICAgICAgLy8g5aGr5YWF5a+55pa5aWQKICAgICAgdGhpcy5maWxsVGFyZ2V0SWQobXNnSW5mbywgdGhpcy5jaGF0LnRhcmdldElkKTsKICAgICAgLy8g5o+S5YWl5raI5oGvCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiaW5zZXJ0TWVzc2FnZSIsIG1zZ0luZm8pOwogICAgICAvLyDkvJror53nva7pobYKICAgICAgdGhpcy5tb3ZlQ2hhdFRvVG9wKCk7CiAgICAgIC8vIOa7muWKqOWIsOW6lemDqAogICAgICB0aGlzLnNjcm9sbFRvQm90dG9tKCk7CiAgICAgIC8vIOWAn+WKqWZpbGXlr7nosaHkv53lrZgKICAgICAgZmlsZS5tc2dJbmZvID0gbXNnSW5mbzsKICAgIH0sCiAgICBvbkZpbGVTdWNjZXNzKHVybCwgZmlsZSkgewogICAgICBsZXQgZGF0YSA9IHsKICAgICAgICBuYW1lOiBmaWxlLm5hbWUsCiAgICAgICAgc2l6ZTogZmlsZS5zaXplLAogICAgICAgIHVybDogdXJsCiAgICAgIH07CiAgICAgIGxldCBtc2dJbmZvID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShmaWxlLm1zZ0luZm8pKTsKICAgICAgbXNnSW5mby5jb250ZW50ID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7CiAgICAgIG1zZ0luZm8ucmVjZWlwdCA9IHRoaXMuaXNSZWNlaXB0OwogICAgICB0aGlzLnNlbmRNZXNzYWdlUmVxdWVzdChtc2dJbmZvKS50aGVuKG0gPT4gewogICAgICAgIG1zZ0luZm8ubG9hZFN0YXR1cyA9ICdvayc7CiAgICAgICAgbXNnSW5mby5pZCA9IG0uaWQ7CiAgICAgICAgdGhpcy5pc1JlY2VpcHQgPSBmYWxzZTsKICAgICAgICB0aGlzLnJlZnJlc2hQbGFjZUhvbGRlcigpOwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiaW5zZXJ0TWVzc2FnZSIsIG1zZ0luZm8pOwogICAgICB9KTsKICAgIH0sCiAgICBvbkZpbGVGYWlsKGUsIGZpbGUpIHsKICAgICAgbGV0IG1zZ0luZm8gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGZpbGUubXNnSW5mbykpOwogICAgICBtc2dJbmZvLmxvYWRTdGF0dXMgPSAnZmFpbCc7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiaW5zZXJ0TWVzc2FnZSIsIG1zZ0luZm8pOwogICAgfSwKICAgIG9uRmlsZUJlZm9yZShmaWxlKSB7CiAgICAgIGxldCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpOwogICAgICBsZXQgZGF0YSA9IHsKICAgICAgICBuYW1lOiBmaWxlLm5hbWUsCiAgICAgICAgc2l6ZTogZmlsZS5zaXplLAogICAgICAgIHVybDogdXJsCiAgICAgIH07CiAgICAgIGxldCBtc2dJbmZvID0gewogICAgICAgIGlkOiAwLAogICAgICAgIHRtcElkOiB0aGlzLmdlbmVyYXRlSWQoKSwKICAgICAgICBzZW5kSWQ6IHRoaXMubWluZS5pZCwKICAgICAgICBjb250ZW50OiBKU09OLnN0cmluZ2lmeShkYXRhKSwKICAgICAgICBzZW5kVGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCksCiAgICAgICAgc2VsZlNlbmQ6IHRydWUsCiAgICAgICAgdHlwZTogMiwKICAgICAgICBsb2FkU3RhdHVzOiAibG9hZGluZyIsCiAgICAgICAgcmVhZGVkQ291bnQ6IDAsCiAgICAgICAgc3RhdHVzOiB0aGlzLiRlbnVtcy5NRVNTQUdFX1NUQVRVUy5VTlNFTkQKICAgICAgfTsKICAgICAgLy8g5aGr5YWF5a+55pa5aWQKICAgICAgdGhpcy5maWxsVGFyZ2V0SWQobXNnSW5mbywgdGhpcy5jaGF0LnRhcmdldElkKTsKICAgICAgLy8g5o+S5YWl5raI5oGvCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiaW5zZXJ0TWVzc2FnZSIsIG1zZ0luZm8pOwogICAgICAvLyDkvJror53nva7pobYKICAgICAgdGhpcy5tb3ZlQ2hhdFRvVG9wKCk7CiAgICAgIC8vIOa7muWKqOWIsOW6lemDqAogICAgICB0aGlzLnNjcm9sbFRvQm90dG9tKCk7CiAgICAgIC8vIOWAn+WKqWZpbGXlr7nosaHpgI/kvKAKICAgICAgZmlsZS5tc2dJbmZvID0gbXNnSW5mbzsKICAgIH0sCiAgICBvbkNsb3NlU2lkZSgpIHsKICAgICAgdGhpcy5zaG93U2lkZSA9IGZhbHNlOwogICAgfSwKICAgIG9uU2Nyb2xsVG9Ub3AoKSB7CiAgICAgIC8vIOWkmuWxleekujEw5p2h5L+h5oGvCiAgICAgIHRoaXMuc2hvd01pbklkeCA9IHRoaXMuc2hvd01pbklkeCA+IDEwID8gdGhpcy5zaG93TWluSWR4IC0gMTAgOiAwOwogICAgfSwKICAgIG9uU2Nyb2xsKGUpIHsKICAgICAgbGV0IHNjcm9sbEVsZW1lbnQgPSBlLnRhcmdldDsKICAgICAgbGV0IHNjcm9sbFRvcCA9IHNjcm9sbEVsZW1lbnQuc2Nyb2xsVG9wOwogICAgICBpZiAoc2Nyb2xsVG9wIDwgMzApIHsKICAgICAgICAvLyDlnKjpobbpg6gs5LiN5rua5Yqo55qE5oOF5Ya1CiAgICAgICAgLy8g5aSa5bGV56S6MjDmnaHkv6Hmga8KICAgICAgICB0aGlzLnNob3dNaW5JZHggPSB0aGlzLnNob3dNaW5JZHggPiAyMCA/IHRoaXMuc2hvd01pbklkeCAtIDIwIDogMDsKICAgICAgfQogICAgfSwKICAgIHNob3dFbW90aW9uQm94KCkgewogICAgICBsZXQgd2lkdGggPSB0aGlzLiRyZWZzLmVtb3Rpb24ub2Zmc2V0V2lkdGg7CiAgICAgIGxldCBsZWZ0ID0gdGhpcy4kZWxtLmZpeExlZnQodGhpcy4kcmVmcy5lbW90aW9uKTsKICAgICAgbGV0IHRvcCA9IHRoaXMuJGVsbS5maXhUb3AodGhpcy4kcmVmcy5lbW90aW9uKTsKICAgICAgdGhpcy4kcmVmcy5lbW9Cb3gub3Blbih7CiAgICAgICAgeDogbGVmdCArIHdpZHRoIC8gMiwKICAgICAgICB5OiB0b3AKICAgICAgfSk7CiAgICB9LAogICAgb25FbW90aW9uKGVtb1RleHQpIHsKICAgICAgdGhpcy4kcmVmcy5jaGF0SW5wdXRFZGl0b3IuaW5zZXJ0RW1vamkoZW1vVGV4dCk7CiAgICB9LAogICAgc2hvd1JlY29yZEJveCgpIHsKICAgICAgdGhpcy5zaG93UmVjb3JkID0gdHJ1ZTsKICAgIH0sCiAgICBjbG9zZVJlY29yZEJveCgpIHsKICAgICAgdGhpcy5zaG93UmVjb3JkID0gZmFsc2U7CiAgICB9LAogICAgc2hvd1ByaXZhdGVWaWRlbyhtb2RlKSB7CiAgICAgIGxldCBydGNJbmZvID0gewogICAgICAgIG1vZGU6IG1vZGUsCiAgICAgICAgaXNIb3N0OiB0cnVlLAogICAgICAgIGZyaWVuZDogdGhpcy5mcmllbmQKICAgICAgfTsKICAgICAgLy8g6YCa6L+HaG9tZS52dWXmiZPlvIDljZXkurrop4bpopHnqpflj6MKICAgICAgdGhpcy4kZXZlbnRCdXMuJGVtaXQoIm9wZW5Qcml2YXRlVmlkZW8iLCBydGNJbmZvKTsKICAgIH0sCiAgICBvbkdyb3VwVmlkZW8oKSB7CiAgICAgIHRoaXMuJGh0dHAoewogICAgICAgIHVybDogIi93ZWJydGMvZ3JvdXAvaW5mbz9ncm91cElkPSIgKyB0aGlzLmdyb3VwLmlkLAogICAgICAgIG1ldGhvZDogJ0dFVCcKICAgICAgfSkudGhlbihydGNJbmZvID0+IHsKICAgICAgICBpZiAocnRjSW5mby5pc0NoYXRpbmcpIHsKICAgICAgICAgIC8vIOW3suWcqOmAmuivneS4re+8jOWPr+S7peebtOaOpeWKoOWFpemAmuivnQogICAgICAgICAgdGhpcy4kcmVmcy5ydGNKb2luLm9wZW4ocnRjSW5mbyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIOmCgOivt+aIkOWRmOWPkei1t+mAmuivnQogICAgICAgICAgbGV0IGlkcyA9IFt0aGlzLm1pbmUuaWRdOwogICAgICAgICAgbGV0IG1heENoYW5uZWwgPSB0aGlzLiRzdG9yZS5zdGF0ZS5jb25maWdTdG9yZS53ZWJydGMubWF4Q2hhbm5lbDsKICAgICAgICAgIHRoaXMuJHJlZnMucnRjU2VsLm9wZW4obWF4Q2hhbm5lbCwgaWRzLCBpZHMpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgb25JbnZpdGVPayhtZW1iZXJzKSB7CiAgICAgIGlmIChtZW1iZXJzLmxlbmd0aCA8IDIpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgbGV0IHVzZXJJbmZvcyA9IFtdOwogICAgICBtZW1iZXJzLmZvckVhY2gobSA9PiB7CiAgICAgICAgdXNlckluZm9zLnB1c2goewogICAgICAgICAgaWQ6IG0udXNlcklkLAogICAgICAgICAgbmlja05hbWU6IG0uc2hvd05pY2tOYW1lLAogICAgICAgICAgaGVhZEltYWdlOiBtLmhlYWRJbWFnZSwKICAgICAgICAgIGlzQ2FtZXJhOiBmYWxzZSwKICAgICAgICAgIGlzTWljcm9QaG9uZTogdHJ1ZQogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgbGV0IHJ0Y0luZm8gPSB7CiAgICAgICAgaXNIb3N0OiB0cnVlLAogICAgICAgIGdyb3VwSWQ6IHRoaXMuZ3JvdXAuaWQsCiAgICAgICAgaW52aXRlcklkOiB0aGlzLm1pbmUuaWQsCiAgICAgICAgdXNlckluZm9zOiB1c2VySW5mb3MKICAgICAgfTsKICAgICAgLy8g6YCa6L+HaG9tZS52dWXmiZPlvIDlpJrkurrop4bpopHnqpflj6MKICAgICAgdGhpcy4kZXZlbnRCdXMuJGVtaXQoIm9wZW5Hcm91cFZpZGVvIiwgcnRjSW5mbyk7CiAgICB9LAogICAgc2hvd0hpc3RvcnlCb3goKSB7CiAgICAgIHRoaXMuc2hvd0hpc3RvcnkgPSB0cnVlOwogICAgfSwKICAgIGNsb3NlSGlzdG9yeUJveCgpIHsKICAgICAgdGhpcy5zaG93SGlzdG9yeSA9IGZhbHNlOwogICAgfSwKICAgIG9uU2VuZFJlY29yZChkYXRhKSB7CiAgICAgIGxldCBtc2dJbmZvID0gewogICAgICAgIGNvbnRlbnQ6IEpTT04uc3RyaW5naWZ5KGRhdGEpLAogICAgICAgIHR5cGU6IDMsCiAgICAgICAgcmVjZWlwdDogdGhpcy5pc1JlY2VpcHQKICAgICAgfTsKICAgICAgLy8g5aGr5YWF5a+55pa5aWQKICAgICAgdGhpcy5maWxsVGFyZ2V0SWQobXNnSW5mbywgdGhpcy5jaGF0LnRhcmdldElkKTsKICAgICAgdGhpcy5zZW5kTWVzc2FnZVJlcXVlc3QobXNnSW5mbykudGhlbihtID0+IHsKICAgICAgICBtLnNlbGZTZW5kID0gdHJ1ZTsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoImluc2VydE1lc3NhZ2UiLCBtKTsKICAgICAgICAvLyDkvJror53nva7pobYKICAgICAgICB0aGlzLm1vdmVDaGF0VG9Ub3AoKTsKICAgICAgICAvLyDkv53mjIHovpPlhaXmoYbnhKbngrkKICAgICAgICB0aGlzLiRyZWZzLmNoYXRJbnB1dEVkaXRvci5mb2N1cygpOwogICAgICAgIC8vIOa7muWKqOWIsOW6lemDqAogICAgICAgIHRoaXMuc2Nyb2xsVG9Cb3R0b20oKTsKICAgICAgICAvLyDlhbPpl63lvZXpn7Pnqpflj6MKICAgICAgICB0aGlzLnNob3dSZWNvcmQgPSBmYWxzZTsKICAgICAgICB0aGlzLmlzUmVjZWlwdCA9IGZhbHNlOwogICAgICAgIHRoaXMucmVmcmVzaFBsYWNlSG9sZGVyKCk7CiAgICAgIH0pOwogICAgfSwKICAgIGZpbGxUYXJnZXRJZChtc2dJbmZvLCB0YXJnZXRJZCkgewogICAgICBpZiAodGhpcy5jaGF0LnR5cGUgPT0gIkdST1VQIikgewogICAgICAgIG1zZ0luZm8uZ3JvdXBJZCA9IHRhcmdldElkOwogICAgICB9IGVsc2UgewogICAgICAgIG1zZ0luZm8ucmVjdklkID0gdGFyZ2V0SWQ7CiAgICAgIH0KICAgIH0sCiAgICBub3RpZnlTZW5kKCkgewogICAgICB0aGlzLiRyZWZzLmNoYXRJbnB1dEVkaXRvci5zdWJtaXQoKTsKICAgIH0sCiAgICBhc3luYyBzZW5kTWVzc2FnZShmdWxsTGlzdCkgewogICAgICB0aGlzLnJlc2V0RWRpdG9yKCk7CiAgICAgIHRoaXMucmVhZGVkTWVzc2FnZSgpOwogICAgICBsZXQgc2VuZFRleHQgPSB0aGlzLmlzUmVjZWlwdCA/ICLjgJDlm57miafmtojmga/jgJEiIDogIiI7CiAgICAgIGxldCBwcm9taXNlTGlzdCA9IFtdOwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZ1bGxMaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgbGV0IG1zZyA9IGZ1bGxMaXN0W2ldOwogICAgICAgIHN3aXRjaCAobXNnLnR5cGUpIHsKICAgICAgICAgIGNhc2UgInRleHQiOgogICAgICAgICAgICBhd2FpdCB0aGlzLnNlbmRUZXh0TWVzc2FnZShzZW5kVGV4dCArIG1zZy5jb250ZW50LCBtc2cuYXRVc2VySWRzKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICJpbWFnZSI6CiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2VuZEltYWdlTWVzc2FnZShtc2cuY29udGVudC5maWxlKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICJmaWxlIjoKICAgICAgICAgICAgYXdhaXQgdGhpcy5zZW5kRmlsZU1lc3NhZ2UobXNnLmNvbnRlbnQuZmlsZSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHNlbmRJbWFnZU1lc3NhZ2UoZmlsZSkgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgIHRoaXMub25JbWFnZUJlZm9yZShmaWxlKTsKICAgICAgICBsZXQgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKTsKICAgICAgICB0aGlzLiRodHRwLnBvc3QoIi9pbWFnZS91cGxvYWQiLCBmb3JtRGF0YSwgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnCiAgICAgICAgICB9CiAgICAgICAgfSkudGhlbihkYXRhID0+IHsKICAgICAgICAgIHRoaXMub25JbWFnZVN1Y2Nlc3MoZGF0YSwgZmlsZSk7CiAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgfSkuY2F0Y2gocmVzID0+IHsKICAgICAgICAgIHRoaXMub25JbWFnZUZhaWwocmVzLCBmaWxlKTsKICAgICAgICAgIHJlamVjdCgpOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHRoaXMuJHJlZnMuY2hhdElucHV0RWRpdG9yLmZvY3VzKCkpOwogICAgICAgIHRoaXMuc2Nyb2xsVG9Cb3R0b20oKTsKICAgICAgfSk7CiAgICB9LAogICAgc2VuZFRleHRNZXNzYWdlKHNlbmRUZXh0LCBhdFVzZXJJZHMpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICBpZiAoIXNlbmRUZXh0LnRyaW0oKSkgewogICAgICAgICAgcmVqZWN0KCk7CiAgICAgICAgfQogICAgICAgIGxldCBtc2dJbmZvID0gewogICAgICAgICAgY29udGVudDogc2VuZFRleHQsCiAgICAgICAgICB0eXBlOiAwCiAgICAgICAgfTsKICAgICAgICAvLyDloavlhYXlr7nmlrlpZAogICAgICAgIHRoaXMuZmlsbFRhcmdldElkKG1zZ0luZm8sIHRoaXMuY2hhdC50YXJnZXRJZCk7CiAgICAgICAgLy8g6KKrQOS6uuWRmOWIl+ihqAogICAgICAgIGlmICh0aGlzLmNoYXQudHlwZSA9PSAiR1JPVVAiKSB7CiAgICAgICAgICBtc2dJbmZvLmF0VXNlcklkcyA9IGF0VXNlcklkczsKICAgICAgICAgIG1zZ0luZm8ucmVjZWlwdCA9IHRoaXMuaXNSZWNlaXB0OwogICAgICAgIH0KICAgICAgICB0aGlzLmxvY2tNZXNzYWdlID0gdHJ1ZTsKICAgICAgICB0aGlzLnNlbmRNZXNzYWdlUmVxdWVzdChtc2dJbmZvKS50aGVuKG0gPT4gewogICAgICAgICAgbS5zZWxmU2VuZCA9IHRydWU7CiAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoImluc2VydE1lc3NhZ2UiLCBtKTsKICAgICAgICAgIC8vIOS8muivnee9rumhtgogICAgICAgICAgdGhpcy5tb3ZlQ2hhdFRvVG9wKCk7CiAgICAgICAgfSkuZmluYWxseSgoKSA9PiB7CiAgICAgICAgICAvLyDop6PpmaTplIHlrpoKICAgICAgICAgIHRoaXMuc2Nyb2xsVG9Cb3R0b20oKTsKICAgICAgICAgIHRoaXMuaXNSZWNlaXB0ID0gZmFsc2U7CiAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIHNlbmRGaWxlTWVzc2FnZShmaWxlKSB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgbGV0IGNoZWNrID0gdGhpcy4kcmVmcy5maWxlVXBsb2FkLmJlZm9yZVVwbG9hZChmaWxlKTsKICAgICAgICBpZiAoY2hlY2spIHsKICAgICAgICAgIHRoaXMuJHJlZnMuZmlsZVVwbG9hZC5vbkZpbGVVcGxvYWQoewogICAgICAgICAgICBmaWxlCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZU1lc3NhZ2UobXNnSW5mbykgewogICAgICB0aGlzLiRjb25maXJtKCfnoa7orqTliKDpmaTmtojmga8/JywgJ+WIoOmZpOa2iOaBrycsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiZGVsZXRlTWVzc2FnZSIsIG1zZ0luZm8pOwogICAgICB9KTsKICAgIH0sCiAgICByZWNhbGxNZXNzYWdlKG1zZ0luZm8pIHsKICAgICAgdGhpcy4kY29uZmlybSgn56Gu6K6k5pKk5Zue5raI5oGvPycsICfmkqTlm57mtojmga8nLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICBsZXQgdXJsID0gYC9tZXNzYWdlLyR7dGhpcy5jaGF0LnR5cGUudG9Mb3dlckNhc2UoKX0vcmVjYWxsLyR7bXNnSW5mby5pZH1gOwogICAgICAgIHRoaXMuJGh0dHAoewogICAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgICBtZXRob2Q6ICdkZWxldGUnCiAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIua2iOaBr+W3suaSpOWbniIpOwogICAgICAgICAgbXNnSW5mbyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobXNnSW5mbykpOwogICAgICAgICAgbXNnSW5mby50eXBlID0gMTA7CiAgICAgICAgICBtc2dJbmZvLmNvbnRlbnQgPSAn5L2g5pKk5Zue5LqG5LiA5p2h5raI5oGvJzsKICAgICAgICAgIG1zZ0luZm8uc3RhdHVzID0gdGhpcy4kZW51bXMuTUVTU0FHRV9TVEFUVVMuUkVDQUxMOwogICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJpbnNlcnRNZXNzYWdlIiwgbXNnSW5mbyk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIHJlYWRlZE1lc3NhZ2UoKSB7CiAgICAgIGlmICh0aGlzLmNoYXQudW5yZWFkQ291bnQgPT0gMCkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLiRzdG9yZS5jb21taXQoInJlc2V0VW5yZWFkQ291bnQiLCB0aGlzLmNoYXQpOwogICAgICBpZiAodGhpcy5jaGF0LnR5cGUgPT0gIkdST1VQIikgewogICAgICAgIHZhciB1cmwgPSBgL21lc3NhZ2UvZ3JvdXAvcmVhZGVkP2dyb3VwSWQ9JHt0aGlzLmNoYXQudGFyZ2V0SWR9YDsKICAgICAgfSBlbHNlIHsKICAgICAgICB1cmwgPSBgL21lc3NhZ2UvcHJpdmF0ZS9yZWFkZWQ/ZnJpZW5kSWQ9JHt0aGlzLmNoYXQudGFyZ2V0SWR9YDsKICAgICAgfQogICAgICB0aGlzLiRodHRwKHsKICAgICAgICB1cmw6IHVybCwKICAgICAgICBtZXRob2Q6ICdwdXQnCiAgICAgIH0pLnRoZW4oKCkgPT4ge30pOwogICAgfSwKICAgIGxvYWRSZWFkZWQoZklkKSB7CiAgICAgIHRoaXMuJGh0dHAoewogICAgICAgIHVybDogYC9tZXNzYWdlL3ByaXZhdGUvbWF4UmVhZGVkSWQ/ZnJpZW5kSWQ9JHtmSWR9YCwKICAgICAgICBtZXRob2Q6ICdnZXQnCiAgICAgIH0pLnRoZW4oaWQgPT4gewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgicmVhZGVkTWVzc2FnZSIsIHsKICAgICAgICAgIGZyaWVuZElkOiBmSWQsCiAgICAgICAgICBtYXhJZDogaWQKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgbG9hZEdyb3VwKGdyb3VwSWQpIHsKICAgICAgdGhpcy4kaHR0cCh7CiAgICAgICAgdXJsOiBgL2dyb3VwL2ZpbmQvJHtncm91cElkfWAsCiAgICAgICAgbWV0aG9kOiAnZ2V0JwogICAgICB9KS50aGVuKGdyb3VwID0+IHsKICAgICAgICB0aGlzLmdyb3VwID0gZ3JvdXA7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJ1cGRhdGVDaGF0RnJvbUdyb3VwIiwgZ3JvdXApOwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgidXBkYXRlR3JvdXAiLCBncm91cCk7CiAgICAgIH0pOwogICAgICB0aGlzLiRodHRwKHsKICAgICAgICB1cmw6IGAvZ3JvdXAvbWVtYmVycy8ke2dyb3VwSWR9YCwKICAgICAgICBtZXRob2Q6ICdnZXQnCiAgICAgIH0pLnRoZW4oZ3JvdXBNZW1iZXJzID0+IHsKICAgICAgICB0aGlzLmdyb3VwTWVtYmVycyA9IGdyb3VwTWVtYmVyczsKICAgICAgfSk7CiAgICB9LAogICAgbG9hZEZyaWVuZChmcmllbmRJZCkgewogICAgICAvLyDojrflj5blr7nmlrnmnIDmlrDkv6Hmga8KICAgICAgdGhpcy4kaHR0cCh7CiAgICAgICAgdXJsOiBgL3VzZXIvZmluZC8ke2ZyaWVuZElkfWAsCiAgICAgICAgbWV0aG9kOiAnZ2V0JwogICAgICB9KS50aGVuKGZyaWVuZCA9PiB7CiAgICAgICAgdGhpcy5mcmllbmQgPSBmcmllbmQ7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJ1cGRhdGVDaGF0RnJvbUZyaWVuZCIsIGZyaWVuZCk7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJ1cGRhdGVGcmllbmQiLCBmcmllbmQpOwogICAgICB9KTsKICAgIH0sCiAgICBzaG93TmFtZShtc2dJbmZvKSB7CiAgICAgIGlmICh0aGlzLmNoYXQudHlwZSA9PSAnR1JPVVAnKSB7CiAgICAgICAgbGV0IG1lbWJlciA9IHRoaXMuZ3JvdXBNZW1iZXJzLmZpbmQobSA9PiBtLnVzZXJJZCA9PSBtc2dJbmZvLnNlbmRJZCk7CiAgICAgICAgcmV0dXJuIG1lbWJlciA/IG1lbWJlci5zaG93Tmlja05hbWUgOiAiIjsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gbXNnSW5mby5zZW5kSWQgPT0gdGhpcy5taW5lLmlkID8gdGhpcy5taW5lLm5pY2tOYW1lIDogdGhpcy5jaGF0LnNob3dOYW1lOwogICAgICB9CiAgICB9LAogICAgaGVhZEltYWdlKG1zZ0luZm8pIHsKICAgICAgaWYgKHRoaXMuY2hhdC50eXBlID09ICdHUk9VUCcpIHsKICAgICAgICBsZXQgbWVtYmVyID0gdGhpcy5ncm91cE1lbWJlcnMuZmluZChtID0+IG0udXNlcklkID09IG1zZ0luZm8uc2VuZElkKTsKICAgICAgICByZXR1cm4gbWVtYmVyID8gbWVtYmVyLmhlYWRJbWFnZSA6ICIiOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBtc2dJbmZvLnNlbmRJZCA9PSB0aGlzLm1pbmUuaWQgPyB0aGlzLm1pbmUuaGVhZEltYWdlVGh1bWIgOiB0aGlzLmNoYXQuaGVhZEltYWdlOwogICAgICB9CiAgICB9LAogICAgcmVzZXRFZGl0b3IoKSB7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLiRyZWZzLmNoYXRJbnB1dEVkaXRvci5jbGVhcigpOwogICAgICAgIHRoaXMuJHJlZnMuY2hhdElucHV0RWRpdG9yLmZvY3VzKCk7CiAgICAgIH0pOwogICAgfSwKICAgIHNjcm9sbFRvQm90dG9tKCkgewogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgbGV0IGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaGF0U2Nyb2xsQm94Iik7CiAgICAgICAgZGl2LnNjcm9sbFRvcCA9IGRpdi5zY3JvbGxIZWlnaHQ7CiAgICAgIH0pOwogICAgfSwKICAgIHJlZnJlc2hQbGFjZUhvbGRlcigpIHsKICAgICAgaWYgKHRoaXMuaXNSZWNlaXB0KSB7CiAgICAgICAgdGhpcy5wbGFjZWhvbGRlciA9ICLjgJDlm57miafmtojmga/jgJEiOwogICAgICB9IGVsc2UgaWYgKHRoaXMuJHJlZnMuZWRpdEJveCAmJiB0aGlzLiRyZWZzLmVkaXRCb3guaW5uZXJIVE1MKSB7CiAgICAgICAgdGhpcy5wbGFjZWhvbGRlciA9ICIiOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucGxhY2Vob2xkZXIgPSAi6IGK54K55LuA5LmI5ZCnfiI7CiAgICAgIH0KICAgIH0sCiAgICBzZW5kTWVzc2FnZVJlcXVlc3QobXNnSW5mbykgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgIC8vIOivt+axguWFpemYn+WIl++8jOmYsuatouivt+axgiLlkI7lj5HlhYjoh7Mi77yM5a+86Ie05raI5oGv6ZSZ5bqPCiAgICAgICAgdGhpcy5yZXFRdWV1ZS5wdXNoKHsKICAgICAgICAgIG1zZ0luZm8sCiAgICAgICAgICByZXNvbHZlLAogICAgICAgICAgcmVqZWN0CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5wcm9jZXNzUmVxUXVldWUoKTsKICAgICAgfSk7CiAgICB9LAogICAgcHJvY2Vzc1JlcVF1ZXVlKCkgewogICAgICBpZiAodGhpcy5yZXFRdWV1ZS5sZW5ndGggJiYgIXRoaXMuaXNTZW5kaW5nKSB7CiAgICAgICAgdGhpcy5pc1NlbmRpbmcgPSB0cnVlOwogICAgICAgIGNvbnN0IHJlcURhdGEgPSB0aGlzLnJlcVF1ZXVlLnNoaWZ0KCk7CiAgICAgICAgdGhpcy4kaHR0cCh7CiAgICAgICAgICB1cmw6IHRoaXMubWVzc2FnZUFjdGlvbiwKICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgICAgZGF0YTogcmVxRGF0YS5tc2dJbmZvCiAgICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgICAgcmVxRGF0YS5yZXNvbHZlKHJlcyk7CiAgICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgICByZXFEYXRhLnJlamVjdChlKTsKICAgICAgICB9KS5maW5hbGx5KCgpID0+IHsKICAgICAgICAgIHRoaXMuaXNTZW5kaW5nID0gZmFsc2U7CiAgICAgICAgICAvLyDlj5HpgIHkuIvkuIDmnaHor7fmsYIKICAgICAgICAgIHRoaXMucHJvY2Vzc1JlcVF1ZXVlKCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBnZW5lcmF0ZUlkKCkgewogICAgICAvLyDnlJ/miJDkuLTml7ZpZAogICAgICByZXR1cm4gU3RyaW5nKG5ldyBEYXRlKCkuZ2V0VGltZSgpKSArIFN0cmluZyhNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwKSk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgbWluZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJTdG9yZS51c2VySW5mbzsKICAgIH0sCiAgICB0aXRsZSgpIHsKICAgICAgbGV0IHRpdGxlID0gdGhpcy5jaGF0LnNob3dOYW1lOwogICAgICBpZiAodGhpcy5jaGF0LnR5cGUgPT0gIkdST1VQIikgewogICAgICAgIGxldCBzaXplID0gdGhpcy5ncm91cE1lbWJlcnMuZmlsdGVyKG0gPT4gIW0ucXVpdCkubGVuZ3RoOwogICAgICAgIHRpdGxlICs9IGAoJHtzaXplfSlgOwogICAgICB9CiAgICAgIHJldHVybiB0aXRsZTsKICAgIH0sCiAgICBtZXNzYWdlQWN0aW9uKCkgewogICAgICByZXR1cm4gYC9tZXNzYWdlLyR7dGhpcy5jaGF0LnR5cGUudG9Mb3dlckNhc2UoKX0vc2VuZGA7CiAgICB9LAogICAgdW5yZWFkQ291bnQoKSB7CiAgICAgIHJldHVybiB0aGlzLmNoYXQudW5yZWFkQ291bnQ7CiAgICB9LAogICAgbWVzc2FnZVNpemUoKSB7CiAgICAgIGlmICghdGhpcy5jaGF0IHx8ICF0aGlzLmNoYXQubWVzc2FnZXMpIHsKICAgICAgICByZXR1cm4gMDsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5jaGF0Lm1lc3NhZ2VzLmxlbmd0aDsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBjaGF0OiB7CiAgICAgIGhhbmRsZXIobmV3Q2hhdCwgb2xkQ2hhdCkgewogICAgICAgIGlmIChuZXdDaGF0LnRhcmdldElkID4gMCAmJiAoIW9sZENoYXQgfHwgbmV3Q2hhdC50eXBlICE9IG9sZENoYXQudHlwZSB8fCBuZXdDaGF0LnRhcmdldElkICE9IG9sZENoYXQudGFyZ2V0SWQpKSB7CiAgICAgICAgICBpZiAodGhpcy5jaGF0LnR5cGUgPT0gIkdST1VQIikgewogICAgICAgICAgICB0aGlzLmxvYWRHcm91cCh0aGlzLmNoYXQudGFyZ2V0SWQpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5sb2FkRnJpZW5kKHRoaXMuY2hhdC50YXJnZXRJZCk7CiAgICAgICAgICAgIC8vIOWKoOi9veW3suivu+eKtuaAgQogICAgICAgICAgICB0aGlzLmxvYWRSZWFkZWQodGhpcy5jaGF0LnRhcmdldElkKTsKICAgICAgICAgIH0KICAgICAgICAgIC8vIOa7muWIsOW6lemDqAogICAgICAgICAgdGhpcy5zY3JvbGxUb0JvdHRvbSgpOwogICAgICAgICAgdGhpcy5zaG93U2lkZSA9IGZhbHNlOwogICAgICAgICAgLy8g5raI5oGv5bey6K+7CiAgICAgICAgICB0aGlzLnJlYWRlZE1lc3NhZ2UoKTsKICAgICAgICAgIC8vIOWIneWni+eKtuaAgeWPquaYvuekujMw5p2h5raI5oGvCiAgICAgICAgICBsZXQgc2l6ZSA9IHRoaXMuY2hhdC5tZXNzYWdlcy5sZW5ndGg7CiAgICAgICAgICB0aGlzLnNob3dNaW5JZHggPSBzaXplID4gMzAgPyBzaXplIC0gMzAgOiAwOwogICAgICAgICAgLy8g6YeN572u6L6T5YWl5qGGCiAgICAgICAgICB0aGlzLnJlc2V0RWRpdG9yKCk7CiAgICAgICAgICAvLyDlpI3kvY3lm57miafmtojmga8KICAgICAgICAgIHRoaXMuaXNSZWNlaXB0ID0gZmFsc2U7CiAgICAgICAgICAvLyDmm7TmlrBwbGFjZWhvbGRlcgogICAgICAgICAgdGhpcy5yZWZyZXNoUGxhY2VIb2xkZXIoKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfSwKICAgIG1lc3NhZ2VTaXplOiB7CiAgICAgIGhhbmRsZXIobmV3U2l6ZSwgb2xkU2l6ZSkgewogICAgICAgIGlmIChuZXdTaXplID4gb2xkU2l6ZSkgewogICAgICAgICAgLy8g5ouJ6Iez5bqV6YOoCiAgICAgICAgICB0aGlzLnNjcm9sbFRvQm90dG9tKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgbGV0IGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaGF0U2Nyb2xsQm94Iik7CiAgICBkaXYuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5vblNjcm9sbCk7CiAgfQp9Ow=="},{"version":3,"names":["ChatGroupSide","ChatMessageItem","FileUpload","Emotion","ChatRecord","ChatHistory","ChatAtBox","GroupMemberSelector","RtcGroupJoin","ChatInput","name","components","props","chat","type","Object","data","friend","group","groupMembers","sendImageUrl","sendImageFile","placeholder","isReceipt","showRecord","showSide","showHistory","lockMessage","showMinIdx","reqQueue","isSending","methods","moveChatToTop","chatIdx","$store","getters","findChatIdx","commit","closeRefBox","$refs","emoBox","close","onCall","$enums","MESSAGE_TYPE","ACT_RT_VOICE","showPrivateVideo","ACT_RT_VIDEO","onSwitchReceipt","refreshPlaceHolder","onImageSuccess","file","msgInfo","JSON","parse","stringify","content","receipt","sendMessageRequest","then","m","loadStatus","id","onImageFail","e","onImageBefore","url","URL","createObjectURL","originUrl","thumbUrl","tmpId","generateId","fileId","uid","sendId","mine","sendTime","Date","getTime","selfSend","readedCount","status","MESSAGE_STATUS","UNSEND","fillTargetId","targetId","scrollToBottom","onFileSuccess","size","onFileFail","onFileBefore","onCloseSide","onScrollToTop","onScroll","scrollElement","target","scrollTop","showEmotionBox","width","emotion","offsetWidth","left","$elm","fixLeft","top","fixTop","open","x","y","onEmotion","emoText","chatInputEditor","insertEmoji","showRecordBox","closeRecordBox","mode","rtcInfo","isHost","$eventBus","$emit","onGroupVideo","$http","method","isChating","rtcJoin","ids","maxChannel","state","configStore","webrtc","rtcSel","onInviteOk","members","length","userInfos","forEach","push","userId","nickName","showNickName","headImage","isCamera","isMicroPhone","groupId","inviterId","showHistoryBox","closeHistoryBox","onSendRecord","focus","recvId","notifySend","submit","sendMessage","fullList","resetEditor","readedMessage","sendText","promiseList","i","msg","sendTextMessage","atUserIds","sendImageMessage","sendFileMessage","Promise","resolve","reject","formData","FormData","append","post","headers","catch","res","$nextTick","trim","finally","check","fileUpload","beforeUpload","onFileUpload","deleteMessage","$confirm","confirmButtonText","cancelButtonText","recallMessage","toLowerCase","$message","success","RECALL","unreadCount","loadReaded","fId","friendId","maxId","loadGroup","loadFriend","showName","member","find","headImageThumb","clear","div","document","getElementById","scrollHeight","editBox","innerHTML","processReqQueue","reqData","shift","messageAction","String","Math","floor","random","computed","userStore","userInfo","title","filter","quit","messageSize","messages","watch","handler","newChat","oldChat","immediate","newSize","oldSize","mounted","addEventListener"],"sources":["src/components/chat/ChatBox.vue"],"sourcesContent":["<template>\n\t<div class=\"chat-box\" @click=\"closeRefBox()\" @mousemove=\"readedMessage()\">\n\t\t<el-container>\n\t\t\t<el-header height=\"56px\">\n\t\t\t\t<span>{{ title }}</span>\n\t\t\t\t<span title=\"群聊信息\" v-show=\"this.chat.type == 'GROUP'\" class=\"btn-side el-icon-more\"\n\t\t\t\t\t@click=\"showSide = !showSide\"></span>\n\t\t\t</el-header>\n\t\t\t<el-main style=\"padding: 0;\">\n\t\t\t\t<el-container>\n\t\t\t\t\t<el-container class=\"content-box\">\n\t\t\t\t\t\t<el-main class=\"im-chat-main\" id=\"chatScrollBox\" @scroll=\"onScroll\">\n\t\t\t\t\t\t\t<div class=\"im-chat-box\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t<li v-for=\"(msgInfo, idx) in chat.messages\" :key=\"idx\">\n\t\t\t\t\t\t\t\t\t\t<chat-message-item v-if=\"idx >= showMinIdx\" @call=\"onCall(msgInfo.type)\"\n\t\t\t\t\t\t\t\t\t\t\t:mine=\"msgInfo.sendId == mine.id\" :headImage=\"headImage(msgInfo)\"\n\t\t\t\t\t\t\t\t\t\t\t:showName=\"showName(msgInfo)\" :msgInfo=\"msgInfo\"\n\t\t\t\t\t\t\t\t\t\t\t:groupMembers=\"groupMembers\" @delete=\"deleteMessage\"\n\t\t\t\t\t\t\t\t\t\t\t@recall=\"recallMessage\">\n\t\t\t\t\t\t\t\t\t\t</chat-message-item>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</el-main>\n\t\t\t\t\t\t<el-footer height=\"240px\" class=\"im-chat-footer\">\n\t\t\t\t\t\t\t<div class=\"chat-tool-bar\">\n\t\t\t\t\t\t\t\t<div title=\"表情\" class=\"icon iconfont icon-emoji\" ref=\"emotion\"\n\t\t\t\t\t\t\t\t\t@click.stop=\"showEmotionBox()\">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div title=\"发送图片\">\n\t\t\t\t\t\t\t\t\t<file-upload :action=\"'/image/upload'\" :maxSize=\"5 * 1024 * 1024\"\n\t\t\t\t\t\t\t\t\t\t:fileTypes=\"['image/jpeg', 'image/png', 'image/jpg', 'image/webp', 'image/gif']\"\n\t\t\t\t\t\t\t\t\t\t@before=\"onImageBefore\" @success=\"onImageSuccess\" @fail=\"onImageFail\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"el-icon-picture-outline\"></i>\n\t\t\t\t\t\t\t\t\t</file-upload>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div title=\"发送文件\">\n\t\t\t\t\t\t\t\t\t<file-upload ref=\"fileUpload\" :action=\"'/file/upload'\" :maxSize=\"10 * 1024 * 1024\"\n\t\t\t\t\t\t\t\t\t\t@before=\"onFileBefore\" @success=\"onFileSuccess\" @fail=\"onFileFail\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"el-icon-wallet\"></i>\n\t\t\t\t\t\t\t\t\t</file-upload>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div title=\"回执消息\" v-show=\"chat.type == 'GROUP'\" class=\"icon iconfont icon-receipt\"\n\t\t\t\t\t\t\t\t\t:class=\"isReceipt ? 'chat-tool-active' : ''\" @click=\"onSwitchReceipt\">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div title=\"发送语音\" class=\"el-icon-microphone\" @click=\"showRecordBox()\">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div title=\"语音通话\" v-show=\"chat.type == 'PRIVATE'\" class=\"el-icon-phone-outline\"\n\t\t\t\t\t\t\t\t\t@click=\"showPrivateVideo('voice')\">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div title=\"语音通话\" v-show=\"chat.type == 'GROUP'\" class=\"el-icon-phone-outline\"\n\t\t\t\t\t\t\t\t\t@click=\"onGroupVideo()\">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div title=\"视频通话\" v-show=\"chat.type == 'PRIVATE'\" class=\"el-icon-video-camera\"\n\t\t\t\t\t\t\t\t\t@click=\"showPrivateVideo('video')\">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div title=\"聊天记录\" class=\"el-icon-chat-dot-round\" @click=\"showHistoryBox()\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"send-content-area\">\n\t\t\t\t\t\t\t\t<ChatInput :ownerId=\"group.ownerId\" ref=\"chatInputEditor\" :group-members=\"groupMembers\"\n\t\t\t\t\t\t\t\t\t@submit=\"sendMessage\" />\n\t\t\t\t\t\t\t\t<div class=\"send-btn-area\">\n\t\t\t\t\t\t\t\t\t<el-button type=\"primary\" size=\"small\" @click=\"notifySend()\">发送</el-button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</el-footer>\n\t\t\t\t\t</el-container>\n\t\t\t\t\t<el-aside class=\"chat-group-side-box\" width=\"300px\" v-if=\"showSide\">\n\t\t\t\t\t\t<chat-group-side :group=\"group\" :groupMembers=\"groupMembers\" @reload=\"loadGroup(group.id)\">\n\t\t\t\t\t\t</chat-group-side>\n\t\t\t\t\t</el-aside>\n\t\t\t\t</el-container>\n\t\t\t</el-main>\n\t\t\t<emotion ref=\"emoBox\" @emotion=\"onEmotion\"></Emotion>\n\t\t\t<chat-record :visible=\"showRecord\" @close=\"closeRecordBox\" @send=\"onSendRecord\"></chat-record>\n\t\t\t<group-member-selector ref=\"rtcSel\" :groupId=\"group.id\" @complete=\"onInviteOk\"></group-member-selector>\n\t\t\t<rtc-group-join ref=\"rtcJoin\" :groupId=\"group.id\"></rtc-group-join>\n\t\t\t<chat-history :visible=\"showHistory\" :chat=\"chat\" :friend=\"friend\" :group=\"group\"\n\t\t\t\t:groupMembers=\"groupMembers\" @close=\"closeHistoryBox\"></chat-history>\n\t\t</el-container>\n\t</div>\n</template>\n\n<script>\n\timport ChatGroupSide from \"./ChatGroupSide.vue\";\n\timport ChatMessageItem from \"./ChatMessageItem.vue\";\n\timport FileUpload from \"../common/FileUpload.vue\";\n\timport Emotion from \"../common/Emotion.vue\";\n\timport ChatRecord from \"./ChatRecord.vue\";\n\timport ChatHistory from \"./ChatHistory.vue\";\n\timport ChatAtBox from \"./ChatAtBox.vue\"\n\timport GroupMemberSelector from \"../group/GroupMemberSelector.vue\"\n\timport RtcGroupJoin from \"../rtc/RtcGroupJoin.vue\"\n\timport ChatInput from \"./ChatInput\";\n\n\n\texport default {\n\t\tname: \"chatPrivate\",\n\t\tcomponents: {\n\t\t\tChatInput,\n\t\t\tChatMessageItem,\n\t\t\tFileUpload,\n\t\t\tChatGroupSide,\n\t\t\tEmotion,\n\t\t\tChatRecord,\n\t\t\tChatHistory,\n\t\t\tChatAtBox,\n\t\t\tGroupMemberSelector,\n\t\t\tRtcGroupJoin\n\t\t},\n\t\tprops: {\n\t\t\tchat: {\n\t\t\t\ttype: Object\n\t\t\t}\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tfriend: {},\n\t\t\t\tgroup: {},\n\t\t\t\tgroupMembers: [],\n\t\t\t\tsendImageUrl: \"\",\n\t\t\t\tsendImageFile: \"\",\n\t\t\t\tplaceholder: \"\",\n\t\t\t\tisReceipt: true,\n\t\t\t\tshowRecord: false, // 是否显示语音录制弹窗\n\t\t\t\tshowSide: false, // 是否显示群聊信息栏\n\t\t\t\tshowHistory: false, // 是否显示历史聊天记录\n\t\t\t\tlockMessage: false, // 是否锁定发送，\n\t\t\t\tshowMinIdx: 0, // 下标低于showMinIdx的消息不显示，否则页面会很卡置\n\t\t\t\treqQueue: [],\n\t\t\t\tisSending : false\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tmoveChatToTop() {\n\t\t\t\tlet chatIdx = this.$store.getters.findChatIdx(this.chat);\n\t\t\t\tthis.$store.commit(\"moveTop\", chatIdx);\n\t\t\t},\n\t\t\tcloseRefBox() {\n\t\t\t\tthis.$refs.emoBox.close();\n\t\t\t\t// this.$refs.atBox.close();\n\t\t\t},\n\t\t\tonCall(type) {\n\t\t\t\tif (type == this.$enums.MESSAGE_TYPE.ACT_RT_VOICE) {\n\t\t\t\t\tthis.showPrivateVideo('voice');\n\t\t\t\t} else if (type == this.$enums.MESSAGE_TYPE.ACT_RT_VIDEO) {\n\t\t\t\t\tthis.showPrivateVideo('video');\n\t\t\t\t}\n\t\t\t},\n\t\t\tonSwitchReceipt() {\n\t\t\t\tthis.isReceipt = !this.isReceipt;\n\t\t\t\tthis.refreshPlaceHolder();\n\t\t\t},\n\t\t\tonImageSuccess(data, file) {\n\t\t\t\tlet msgInfo = JSON.parse(JSON.stringify(file.msgInfo));\n\t\t\t\tmsgInfo.content = JSON.stringify(data);\n\t\t\t\tmsgInfo.receipt = this.isReceipt;\n\t\t\t\tthis.sendMessageRequest(msgInfo).then((m) => {\n\t\t\t\t\tmsgInfo.loadStatus = 'ok';\n\t\t\t\t\tmsgInfo.id = m.id;\n\t\t\t\t\tthis.isReceipt = false;\n\t\t\t\t\tthis.$store.commit(\"insertMessage\", msgInfo);\n\t\t\t\t})\n\t\t\t},\n\t\t\tonImageFail(e, file) {\n\t\t\t\tlet msgInfo = JSON.parse(JSON.stringify(file.msgInfo));\n\t\t\t\tmsgInfo.loadStatus = 'fail';\n\t\t\t\tthis.$store.commit(\"insertMessage\", msgInfo);\n\t\t\t},\n\t\t\tonImageBefore(file) {\n\t\t\t\tlet url = URL.createObjectURL(file);\n\t\t\t\tlet data = {\n\t\t\t\t\toriginUrl: url,\n\t\t\t\t\tthumbUrl: url\n\t\t\t\t}\n\t\t\t\tlet msgInfo = {\n\t\t\t\t\tid: 0,\n\t\t\t\t\ttmpId: this.generateId(),\n\t\t\t\t\tfileId: file.uid,\n\t\t\t\t\tsendId: this.mine.id,\n\t\t\t\t\tcontent: JSON.stringify(data),\n\t\t\t\t\tsendTime: new Date().getTime(),\n\t\t\t\t\tselfSend: true,\n\t\t\t\t\ttype: 1,\n\t\t\t\t\treadedCount: 0,\n\t\t\t\t\tloadStatus: \"loading\",\n\t\t\t\t\tstatus: this.$enums.MESSAGE_STATUS.UNSEND\n\t\t\t\t}\n\t\t\t\t// 填充对方id\n\t\t\t\tthis.fillTargetId(msgInfo, this.chat.targetId);\n\t\t\t\t// 插入消息\n\t\t\t\tthis.$store.commit(\"insertMessage\", msgInfo);\n\t\t\t\t// 会话置顶\n\t\t\t\tthis.moveChatToTop();\n\t\t\t\t// 滚动到底部\n\t\t\t\tthis.scrollToBottom();\n\t\t\t\t// 借助file对象保存\n\t\t\t\tfile.msgInfo = msgInfo;\n\t\t\t},\n\t\t\tonFileSuccess(url, file) {\n\t\t\t\tlet data = {\n\t\t\t\t\tname: file.name,\n\t\t\t\t\tsize: file.size,\n\t\t\t\t\turl: url\n\t\t\t\t}\n\t\t\t\tlet msgInfo = JSON.parse(JSON.stringify(file.msgInfo));\n\t\t\t\tmsgInfo.content = JSON.stringify(data);\n\t\t\t\tmsgInfo.receipt = this.isReceipt\n\t\t\t\tthis.sendMessageRequest(msgInfo).then((m) => {\n\t\t\t\t\tmsgInfo.loadStatus = 'ok';\n\t\t\t\t\tmsgInfo.id = m.id;\n\t\t\t\t\tthis.isReceipt = false;\n\t\t\t\t\tthis.refreshPlaceHolder();\n\t\t\t\t\tthis.$store.commit(\"insertMessage\", msgInfo);\n\t\t\t\t})\n\t\t\t},\n\t\t\tonFileFail(e, file) {\n\t\t\t\tlet msgInfo = JSON.parse(JSON.stringify(file.msgInfo));\n\t\t\t\tmsgInfo.loadStatus = 'fail';\n\t\t\t\tthis.$store.commit(\"insertMessage\", msgInfo);\n\t\t\t},\n\t\t\tonFileBefore(file) {\n\t\t\t\tlet url = URL.createObjectURL(file);\n\t\t\t\tlet data = {\n\t\t\t\t\tname: file.name,\n\t\t\t\t\tsize: file.size,\n\t\t\t\t\turl: url\n\t\t\t\t}\n\t\t\t\tlet msgInfo = {\n\t\t\t\t\tid: 0,\n\t\t\t\t\ttmpId: this.generateId(),\n\t\t\t\t\tsendId: this.mine.id,\n\t\t\t\t\tcontent: JSON.stringify(data),\n\t\t\t\t\tsendTime: new Date().getTime(),\n\t\t\t\t\tselfSend: true,\n\t\t\t\t\ttype: 2,\n\t\t\t\t\tloadStatus: \"loading\",\n\t\t\t\t\treadedCount: 0,\n\t\t\t\t\tstatus: this.$enums.MESSAGE_STATUS.UNSEND\n\t\t\t\t}\n\t\t\t\t// 填充对方id\n\t\t\t\tthis.fillTargetId(msgInfo, this.chat.targetId);\n\t\t\t\t// 插入消息\n\t\t\t\tthis.$store.commit(\"insertMessage\", msgInfo);\n\t\t\t\t// 会话置顶\n\t\t\t\tthis.moveChatToTop();\n\t\t\t\t// 滚动到底部\n\t\t\t\tthis.scrollToBottom();\n\t\t\t\t// 借助file对象透传\n\t\t\t\tfile.msgInfo = msgInfo;\n\t\t\t},\n\t\t\tonCloseSide() {\n\t\t\t\tthis.showSide = false;\n\t\t\t},\n\t\t\tonScrollToTop() {\n\t\t\t\t// 多展示10条信息\n\t\t\t\tthis.showMinIdx = this.showMinIdx > 10 ? this.showMinIdx - 10 : 0;\n\t\t\t},\n\t\t\tonScroll(e) {\n\t\t\t\tlet scrollElement = e.target\n\t\t\t\tlet scrollTop = scrollElement.scrollTop\n\t\t\t\tif (scrollTop < 30) { // 在顶部,不滚动的情况\n\t\t\t\t\t// 多展示20条信息\n\t\t\t\t\tthis.showMinIdx = this.showMinIdx > 20 ? this.showMinIdx - 20 : 0;\n\t\t\t\t}\n\t\t\t},\n\t\t\tshowEmotionBox() {\n\t\t\t\tlet width = this.$refs.emotion.offsetWidth;\n\t\t\t\tlet left = this.$elm.fixLeft(this.$refs.emotion);\n\t\t\t\tlet top = this.$elm.fixTop(this.$refs.emotion);\n\t\t\t\tthis.$refs.emoBox.open({\n\t\t\t\t\tx: left + width / 2,\n\t\t\t\t\ty: top\n\t\t\t\t})\n\t\t\t},\n\t\t\tonEmotion(emoText) {\n\t\t\t\tthis.$refs.chatInputEditor.insertEmoji(emoText);\n\t\t\t},\n\t\t\tshowRecordBox() {\n\t\t\t\tthis.showRecord = true;\n\t\t\t},\n\t\t\tcloseRecordBox() {\n\t\t\t\tthis.showRecord = false;\n\t\t\t},\n\t\t\tshowPrivateVideo(mode) {\n\t\t\t\tlet rtcInfo = {\n\t\t\t\t\tmode: mode,\n\t\t\t\t\tisHost: true,\n\t\t\t\t\tfriend: this.friend,\n\t\t\t\t}\n\t\t\t\t// 通过home.vue打开单人视频窗口\n\t\t\t\tthis.$eventBus.$emit(\"openPrivateVideo\", rtcInfo);\n\t\t\t},\n\t\t\tonGroupVideo() {\n\t\t\t\tthis.$http({\n\t\t\t\t\turl: \"/webrtc/group/info?groupId=\" + this.group.id,\n\t\t\t\t\tmethod: 'GET'\n\t\t\t\t}).then((rtcInfo) => {\n\t\t\t\t\tif (rtcInfo.isChating) {\n\t\t\t\t\t\t// 已在通话中，可以直接加入通话\n\t\t\t\t\t\tthis.$refs.rtcJoin.open(rtcInfo);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// 邀请成员发起通话\n\t\t\t\t\t\tlet ids = [this.mine.id];\n\t\t\t\t\t\tlet maxChannel = this.$store.state.configStore.webrtc.maxChannel;\n\t\t\t\t\t\tthis.$refs.rtcSel.open(maxChannel, ids, ids);\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t},\n\t\t\tonInviteOk(members) {\n\t\t\t\tif (members.length < 2) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet userInfos = [];\n\t\t\t\tmembers.forEach(m => {\n\t\t\t\t\tuserInfos.push({\n\t\t\t\t\t\tid: m.userId,\n\t\t\t\t\t\tnickName: m.showNickName,\n\t\t\t\t\t\theadImage: m.headImage,\n\t\t\t\t\t\tisCamera: false,\n\t\t\t\t\t\tisMicroPhone: true\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\tlet rtcInfo = {\n\t\t\t\t\tisHost: true,\n\t\t\t\t\tgroupId: this.group.id,\n\t\t\t\t\tinviterId: this.mine.id,\n\t\t\t\t\tuserInfos: userInfos\n\t\t\t\t}\n\t\t\t\t// 通过home.vue打开多人视频窗口\n\t\t\t\tthis.$eventBus.$emit(\"openGroupVideo\", rtcInfo);\n\t\t\t},\n\t\t\tshowHistoryBox() {\n\t\t\t\tthis.showHistory = true;\n\t\t\t},\n\t\t\tcloseHistoryBox() {\n\t\t\t\tthis.showHistory = false;\n\t\t\t},\n\t\t\tonSendRecord(data) {\n\t\t\t\tlet msgInfo = {\n\t\t\t\t\tcontent: JSON.stringify(data),\n\t\t\t\t\ttype: 3,\n\t\t\t\t\treceipt: this.isReceipt\n\t\t\t\t}\n\t\t\t\t// 填充对方id\n\t\t\t\tthis.fillTargetId(msgInfo, this.chat.targetId);\n\t\t\t\tthis.sendMessageRequest(msgInfo).then((m) => {\n\t\t\t\t\tm.selfSend = true;\n\t\t\t\t\tthis.$store.commit(\"insertMessage\", m);\n\t\t\t\t\t// 会话置顶\n\t\t\t\t\tthis.moveChatToTop();\n\t\t\t\t\t// 保持输入框焦点\n\t\t\t\t\tthis.$refs.chatInputEditor.focus();\n\t\t\t\t\t// 滚动到底部\n\t\t\t\t\tthis.scrollToBottom();\n\t\t\t\t\t// 关闭录音窗口\n\t\t\t\t\tthis.showRecord = false;\n\t\t\t\t\tthis.isReceipt = false;\n\t\t\t\t\tthis.refreshPlaceHolder();\n\t\t\t\t})\n\t\t\t},\n\t\t\tfillTargetId(msgInfo, targetId) {\n\t\t\t\tif (this.chat.type == \"GROUP\") {\n\t\t\t\t\tmsgInfo.groupId = targetId;\n\t\t\t\t} else {\n\t\t\t\t\tmsgInfo.recvId = targetId;\n\t\t\t\t}\n\t\t\t},\n\t\t\tnotifySend() {\n\t\t\t\tthis.$refs.chatInputEditor.submit();\n\t\t\t},\n\t\t\tasync sendMessage(fullList) {\n\t\t\t\tthis.resetEditor();\n\t\t\t\tthis.readedMessage();\n\t\t\t\tlet sendText = this.isReceipt ? \"【回执消息】\" : \"\";\n\t\t\t\tlet promiseList = [];\n\t\t\t\tfor (let i = 0; i < fullList.length; i++) {\n\t\t\t\t\tlet msg = fullList[i];\n\t\t\t\t\tswitch (msg.type) {\n\t\t\t\t\t\tcase \"text\":\n\t\t\t\t\t\t\tawait this.sendTextMessage(sendText + msg.content,msg.atUserIds);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"image\":\n\t\t\t\t\t\t\tawait this.sendImageMessage(msg.content.file);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"file\":\n\t\t\t\t\t\t\tawait this.sendFileMessage(msg.content.file);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t}\n\t\t\t},\n\t\t\tsendImageMessage(file) {\n\t\t\t\treturn new Promise((resolve,reject)=>{\n\t\t\t\t\tthis.onImageBefore(file);\n\t\t\t\t\tlet formData = new FormData()\n\t\t\t\t\tformData.append('file', file)\n\t\t\t\t\tthis.$http.post(\"/image/upload\", formData, {\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data'\n\t\t\t\t\t\t}\n\t\t\t\t\t}).then((data) => {\n\t\t\t\t\t\tthis.onImageSuccess(data, file);\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t}).catch((res) => {\n\t\t\t\t\t\tthis.onImageFail(res, file);\n\t\t\t\t\t\treject();\n\t\t\t\t\t})\n\t\t\t\t\tthis.$nextTick(() => this.$refs.chatInputEditor.focus());\n\t\t\t\t\tthis.scrollToBottom();\n\t\t\t\t\t});\n\t\t\t},\n\t\t\t sendTextMessage(sendText,atUserIds) {\n\t\t\t\treturn new Promise((resolve,reject)=>{\n\t\t\t\t\tif (!sendText.trim()) {\n\t\t\t\t\t\treject();\n\t\t\t\t\t}\n\t\t\t\t\tlet msgInfo = {\n\t\t\t\t\t\tcontent: sendText,\n\t\t\t\t\t\ttype: 0\n\t\t\t\t\t}\n\t\t\t\t\t// 填充对方id\n\t\t\t\t\tthis.fillTargetId(msgInfo, this.chat.targetId);\n\t\t\t\t\t// 被@人员列表\n\t\t\t\t\tif (this.chat.type == \"GROUP\") {\n\t\t\t\t\t\tmsgInfo.atUserIds = atUserIds;\n\t\t\t\t\t\tmsgInfo.receipt = this.isReceipt;\n\t\t\t\t\t}\n\t\t\t\t\tthis.lockMessage = true;\n\t\t\t\t\tthis.sendMessageRequest(msgInfo).then((m) => {\n\t\t\t\t\t\tm.selfSend = true;\n\t\t\t\t\t\tthis.$store.commit(\"insertMessage\", m);\n\t\t\t\t\t\t// 会话置顶\n\t\t\t\t\t\tthis.moveChatToTop();\n\t\t\t\t\t}).finally(() => {\n\t\t\t\t\t\t// 解除锁定\n\t\t\t\t\t\tthis.scrollToBottom();\n\t\t\t\t\t\tthis.isReceipt = false;\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\tsendFileMessage(file) {\n\t\t\t\treturn new Promise((resolve,reject)=>{\n\t\t\t\t\tlet check = this.$refs.fileUpload.beforeUpload(file);\n\t\t\t\t\tif (check) {\n\t\t\t\t\t\tthis.$refs.fileUpload.onFileUpload({ file });\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tdeleteMessage(msgInfo) {\n\t\t\t\tthis.$confirm('确认删除消息?', '删除消息', {\n\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\tcancelButtonText: '取消',\n\t\t\t\t\ttype: 'warning'\n\t\t\t\t}).then(() => {\n\t\t\t\t\tthis.$store.commit(\"deleteMessage\", msgInfo);\n\t\t\t\t});\n\t\t\t},\n\t\t\trecallMessage(msgInfo) {\n\t\t\t\tthis.$confirm('确认撤回消息?', '撤回消息', {\n\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\tcancelButtonText: '取消',\n\t\t\t\t\ttype: 'warning'\n\t\t\t\t}).then(() => {\n\t\t\t\t\tlet url = `/message/${this.chat.type.toLowerCase()}/recall/${msgInfo.id}`\n\t\t\t\t\tthis.$http({\n\t\t\t\t\t\turl: url,\n\t\t\t\t\t\tmethod: 'delete'\n\t\t\t\t\t}).then(() => {\n\t\t\t\t\t\tthis.$message.success(\"消息已撤回\");\n\t\t\t\t\t\tmsgInfo = JSON.parse(JSON.stringify(msgInfo));\n\t\t\t\t\t\tmsgInfo.type = 10;\n\t\t\t\t\t\tmsgInfo.content = '你撤回了一条消息';\n\t\t\t\t\t\tmsgInfo.status = this.$enums.MESSAGE_STATUS.RECALL;\n\t\t\t\t\t\tthis.$store.commit(\"insertMessage\", msgInfo);\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t},\n\t\t\treadedMessage() {\n\t\t\t\tif (this.chat.unreadCount == 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.$store.commit(\"resetUnreadCount\", this.chat)\n\t\t\t\tif (this.chat.type == \"GROUP\") {\n\t\t\t\t\tvar url = `/message/group/readed?groupId=${this.chat.targetId}`\n\t\t\t\t} else {\n\t\t\t\t\turl = `/message/private/readed?friendId=${this.chat.targetId}`\n\t\t\t\t}\n\t\t\t\tthis.$http({\n\t\t\t\t\turl: url,\n\t\t\t\t\tmethod: 'put'\n\t\t\t\t}).then(() => {})\n\t\t\t},\n\t\t\tloadReaded(fId) {\n\t\t\t\tthis.$http({\n\t\t\t\t\turl: `/message/private/maxReadedId?friendId=${fId}`,\n\t\t\t\t\tmethod: 'get'\n\t\t\t\t}).then((id) => {\n\t\t\t\t\tthis.$store.commit(\"readedMessage\", {\n\t\t\t\t\t\tfriendId: fId,\n\t\t\t\t\t\tmaxId: id\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\tloadGroup(groupId) {\n\t\t\t\tthis.$http({\n\t\t\t\t\turl: `/group/find/${groupId}`,\n\t\t\t\t\tmethod: 'get'\n\t\t\t\t}).then((group) => {\n\t\t\t\t\tthis.group = group;\n\t\t\t\t\tthis.$store.commit(\"updateChatFromGroup\", group);\n\t\t\t\t\tthis.$store.commit(\"updateGroup\", group);\n\t\t\t\t});\n\n\t\t\t\tthis.$http({\n\t\t\t\t\turl: `/group/members/${groupId}`,\n\t\t\t\t\tmethod: 'get'\n\t\t\t\t}).then((groupMembers) => {\n\t\t\t\t\tthis.groupMembers = groupMembers;\n\t\t\t\t});\n\t\t\t},\n\t\t\tloadFriend(friendId) {\n\t\t\t\t// 获取对方最新信息\n\t\t\t\tthis.$http({\n\t\t\t\t\turl: `/user/find/${friendId}`,\n\t\t\t\t\tmethod: 'get'\n\t\t\t\t}).then((friend) => {\n\t\t\t\t\tthis.friend = friend;\n\t\t\t\t\tthis.$store.commit(\"updateChatFromFriend\", friend);\n\t\t\t\t\tthis.$store.commit(\"updateFriend\", friend);\n\t\t\t\t})\n\t\t\t},\n\t\t\tshowName(msgInfo) {\n\t\t\t\tif (this.chat.type == 'GROUP') {\n\t\t\t\t\tlet member = this.groupMembers.find((m) => m.userId == msgInfo.sendId);\n\t\t\t\t\treturn member ? member.showNickName : \"\";\n\t\t\t\t} else {\n\t\t\t\t\treturn msgInfo.sendId == this.mine.id ? this.mine.nickName : this.chat.showName\n\t\t\t\t}\n\n\t\t\t},\n\t\t\theadImage(msgInfo) {\n\t\t\t\tif (this.chat.type == 'GROUP') {\n\t\t\t\t\tlet member = this.groupMembers.find((m) => m.userId == msgInfo.sendId);\n\t\t\t\t\treturn member ? member.headImage : \"\";\n\t\t\t\t} else {\n\t\t\t\t\treturn msgInfo.sendId == this.mine.id ? this.mine.headImageThumb : this.chat.headImage\n\t\t\t\t}\n\t\t\t},\n\t\t\tresetEditor() {\n\t\t\t\t\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tthis.$refs.chatInputEditor.clear();\n\t\t\t\t\tthis.$refs.chatInputEditor.focus();\n\t\t\t\t});\n\t\t\t},\n\t\t\tscrollToBottom() {\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tlet div = document.getElementById(\"chatScrollBox\");\n\t\t\t\t\tdiv.scrollTop = div.scrollHeight;\n\t\t\t\t});\n\t\t\t},\n\t\t\trefreshPlaceHolder() {\n\t\t\t\tif (this.isReceipt) {\n\t\t\t\t\tthis.placeholder = \"【回执消息】\"\n\t\t\t\t} else if (this.$refs.editBox && this.$refs.editBox.innerHTML) {\n\t\t\t\t\tthis.placeholder = \"\"\n\t\t\t\t} else {\n\t\t\t\t\tthis.placeholder = \"聊点什么吧~\";\n\t\t\t\t}\n\t\t\t},\n\t\t\tsendMessageRequest(msgInfo){\n\t\t\t\treturn  new Promise((resolve,reject)=>{\n\t\t\t\t\t// 请求入队列，防止请求\"后发先至\"，导致消息错序\n\t\t\t\t\tthis.reqQueue.push({msgInfo,resolve,reject});\n\t\t\t\t\tthis.processReqQueue();\n\t\t\t\t})\n\t\t\t},\n\t\t\tprocessReqQueue(){\n\t\t\t\tif (this.reqQueue.length && !this.isSending) {\n\t\t\t\t\tthis.isSending = true;\n\t\t\t\t\tconst reqData = this.reqQueue.shift();\n\t\t\t\t\tthis.$http({\n\t\t\t\t\t\turl: this.messageAction,\n\t\t\t\t\t\tmethod: 'post',\n\t\t\t\t\t\tdata: reqData.msgInfo\n\t\t\t\t\t}).then((res)=>{\n\t\t\t\t\t\treqData.resolve(res)\n\t\t\t\t\t}).catch((e)=>{\n\t\t\t\t\t\treqData.reject(e)\n\t\t\t\t\t}).finally(()=>{\n\t\t\t\t\t\tthis.isSending = false;\n\t\t\t\t\t\t// 发送下一条请求\n\t\t\t\t\t\tthis.processReqQueue();\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\tgenerateId() {\n\t\t\t\t// 生成临时id\n\t\t\t\treturn String(new Date().getTime()) + String(Math.floor(Math.random() * 1000));\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\tmine() {\n\t\t\t\treturn this.$store.state.userStore.userInfo;\n\t\t\t},\n\t\t\ttitle() {\n\t\t\t\tlet title = this.chat.showName;\n\t\t\t\tif (this.chat.type == \"GROUP\") {\n\t\t\t\t\tlet size = this.groupMembers.filter(m => !m.quit).length;\n\t\t\t\t\ttitle += `(${size})`;\n\t\t\t\t}\n\t\t\t\treturn title;\n\t\t\t},\n\t\t\tmessageAction() {\n\t\t\t\treturn `/message/${this.chat.type.toLowerCase()}/send`;\n\t\t\t},\n\t\t\tunreadCount() {\n\t\t\t\treturn this.chat.unreadCount;\n\t\t\t},\n\t\t\tmessageSize() {\n\t\t\t\tif (!this.chat || !this.chat.messages) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t\treturn this.chat.messages.length;\n\t\t\t}\n\t\t},\n\t\twatch: {\n\t\t\tchat: {\n\t\t\t\thandler(newChat, oldChat) {\n\t\t\t\t\tif (newChat.targetId > 0 && (!oldChat || newChat.type != oldChat.type ||\n\t\t\t\t\t\t\tnewChat.targetId != oldChat.targetId)) {\n\t\t\t\t\t\tif (this.chat.type == \"GROUP\") {\n\t\t\t\t\t\t\tthis.loadGroup(this.chat.targetId);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.loadFriend(this.chat.targetId);\n\t\t\t\t\t\t\t// 加载已读状态\n\t\t\t\t\t\t\tthis.loadReaded(this.chat.targetId)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// 滚到底部\n\t\t\t\t\t\tthis.scrollToBottom();\n\t\t\t\t\t\tthis.showSide = false;\n\t\t\t\t\t\t// 消息已读\n\t\t\t\t\t\tthis.readedMessage()\n\t\t\t\t\t\t// 初始状态只显示30条消息\n\t\t\t\t\t\tlet size = this.chat.messages.length;\n\t\t\t\t\t\tthis.showMinIdx = size > 30 ? size - 30 : 0;\n\t\t\t\t\t\t// 重置输入框\n\t\t\t\t\t\tthis.resetEditor();\n\t\t\t\t\t\t// 复位回执消息\n\t\t\t\t\t\tthis.isReceipt = false;\n\t\t\t\t\t\t// 更新placeholder\n\t\t\t\t\t\tthis.refreshPlaceHolder();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\timmediate: true\n\t\t\t},\n\t\t\tmessageSize: {\n\t\t\t\thandler(newSize, oldSize) {\n\t\t\t\t\tif (newSize > oldSize) {\n\t\t\t\t\t\t// 拉至底部\n\t\t\t\t\t\tthis.scrollToBottom();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmounted() {\n\t\t\tlet div = document.getElementById(\"chatScrollBox\");\n\t\t\tdiv.addEventListener('scroll', this.onScroll)\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n\t.chat-box {\n\t\tposition: relative;\n\t\twidth: 100%;\n\t\tbackground: #f8f8f8;\n\t\tborder: #dddddd solid 1px;\n\n\t\t.el-header {\n\t\t\tpadding: 3px;\n\t\t\tbackground-color: white;\n\t\t\tline-height: 50px;\n\t\t\tfont-size: 20px;\n\t\t\tfont-weight: 600;\n\t\t\tborder-bottom: 1px #ddd solid;\n\n\t\t\t.btn-side {\n\t\t\t\tposition: absolute;\n\t\t\t\tright: 20px;\n\t\t\t\tline-height: 50px;\n\t\t\t\tfont-size: 25px;\n\t\t\t\tcursor: pointer;\n\t\t\t}\n\t\t}\n\n\t\t.im-chat-main {\n\t\t\tpadding: 0;\n\t\t\tbackground-color: #f8f8f8;\n\n\t\t\t.im-chat-box {\n\t\t\t\t>ul {\n\t\t\t\t\tpadding: 0 20px;\n\n\t\t\t\t\tli {\n\t\t\t\t\t\tlist-style-type: none;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t.im-chat-footer {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tpadding: 0;\n\n\t\t\t.chat-tool-bar {\n\t\t\t\tdisplay: flex;\n\t\t\t\tposition: relative;\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 40px;\n\t\t\t\ttext-align: left;\n\t\t\t\tbox-sizing: border-box;\n\t\t\t\tborder-top: #ccc solid 1px;\n\t\t\t\tpadding: 2px;\n\t\t\t\tbackground-color: #e8f2ff;\n\n\t\t\t\t>div {\n\t\t\t\t\tfont-size: 22px;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\tcolor: black;\n\t\t\t\t\tline-height: 30px;\n\t\t\t\t\twidth: 30px;\n\t\t\t\t\theight: 30px;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\tborder-radius: 3px;\n\t\t\t\t\tmargin: 3px;\n\n\t\t\t\t\t&:hover {\n\t\t\t\t\t\tcolor: black;\n\t\t\t\t\t}\n\n\t\t\t\t\t&.chat-tool-active {\n\t\t\t\t\t\tfont-weight: 600;\n\t\t\t\t\t\tcolor: #195ee2;\n\t\t\t\t\t\tbackground-color: #ddd;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t>div:hover {\n\t\t\t\t\tcolor: #949494;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.send-content-area {\n\t\t\t\tposition: relative;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\theight: 100%;\n\t\t\t\tbackground-color: white !important;\n\n\t\t\t\t.send-text-area {\n\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t\tpadding: 5px;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tflex: 1;\n\t\t\t\t\tresize: none;\n\t\t\t\t\tfont-size: 16px;\n\t\t\t\t\tcolor: black;\n\t\t\t\t\toutline: none;\n\n\t\t\t\t\ttext-align: left;\n\t\t\t\t\tline-height: 30px;\n\n\t\t\t\t\t&:before {\n\t\t\t\t\t\tcontent: attr(placeholder);\n\t\t\t\t\t\tcolor: gray;\n\t\t\t\t\t}\n\n\t\t\t\t\t.at {\n\t\t\t\t\t\tcolor: blue;\n\t\t\t\t\t\tfont-weight: 600;\n\t\t\t\t\t}\n\n\t\t\t\t\t.receipt {\n\t\t\t\t\t\tcolor: darkblue;\n\t\t\t\t\t\tfont-size: 15px;\n\t\t\t\t\t\tfont-weight: 600;\n\t\t\t\t\t}\n\n\t\t\t\t\t.emo {\n\t\t\t\t\t\twidth: 30px;\n\t\t\t\t\t\theight: 30px;\n\t\t\t\t\t\tvertical-align: bottom;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t.send-image-area {\n\t\t\t\t\ttext-align: left;\n\t\t\t\t\tborder: #53a0e7 solid 1px;\n\n\t\t\t\t\t.send-image-box {\n\t\t\t\t\t\tposition: relative;\n\t\t\t\t\t\tdisplay: inline-block;\n\n\t\t\t\t\t\t.send-image {\n\t\t\t\t\t\t\tmax-height: 180px;\n\t\t\t\t\t\t\tborder: 1px solid #ccc;\n\t\t\t\t\t\t\tborder-radius: 2%;\n\t\t\t\t\t\t\tmargin: 2px;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t.send-image-close {\n\t\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\t\tpadding: 3px;\n\t\t\t\t\t\t\tright: 7px;\n\t\t\t\t\t\t\ttop: 7px;\n\t\t\t\t\t\t\tcolor: white;\n\t\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\t\tfont-size: 15px;\n\t\t\t\t\t\t\tfont-weight: 600;\n\t\t\t\t\t\t\tbackground-color: #aaa;\n\t\t\t\t\t\t\tborder-radius: 50%;\n\t\t\t\t\t\t\tborder: 1px solid #ccc;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t.send-btn-area {\n\t\t\t\t\tpadding: 10px;\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tbottom: 0;\n\t\t\t\t\tright: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t.chat-group-side-box {\n\t\t\tborder: #dddddd solid 1px;\n\t\t\tanimation: rtl-drawer-in .3s 1ms;\n\t\t}\n\t}\n</style>"],"mappings":"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","ignoreList":[]}]}