{"remainingRequest":"/home/d/github/box-im/im-web/node_modules/babel-loader/lib/index.js!/home/d/github/box-im/im-web/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/d/github/box-im/im-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/d/github/box-im/im-web/src/components/group/AddGroupMember.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/d/github/box-im/im-web/src/components/group/AddGroupMember.vue","mtime":1727013808920},{"path":"/home/d/github/box-im/im-web/babel.config.js","mtime":1727013808912},{"path":"/home/d/github/box-im/im-web/node_modules/cache-loader/dist/cjs.js","mtime":1727014166207},{"path":"/home/d/github/box-im/im-web/node_modules/babel-loader/lib/index.js","mtime":1727014166227},{"path":"/home/d/github/box-im/im-web/node_modules/cache-loader/dist/cjs.js","mtime":1727014166207},{"path":"/home/d/github/box-im/im-web/node_modules/vue-loader/lib/index.js","mtime":1727014163811}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBGcmllbmRJdGVtIGZyb20gJy4uL2ZyaWVuZC9GcmllbmRJdGVtLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiYWRkR3JvdXBNZW1iZXIiLAogIGNvbXBvbmVudHM6IHsKICAgIEZyaWVuZEl0ZW0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWFyY2hUZXh0OiAiIiwKICAgICAgZnJpZW5kczogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkNsb3NlKCkgewogICAgICB0aGlzLiRlbWl0KCJjbG9zZSIpOwogICAgfSwKICAgIG9uT2soKSB7CiAgICAgIGxldCBpbnZpdGVWTyA9IHsKICAgICAgICBncm91cElkOiB0aGlzLmdyb3VwSWQsCiAgICAgICAgZnJpZW5kSWRzOiBbXQogICAgICB9OwogICAgICB0aGlzLmZyaWVuZHMuZm9yRWFjaChmID0+IHsKICAgICAgICBpZiAoZi5pc0NoZWNrICYmICFmLmRpc2FibGVkKSB7CiAgICAgICAgICBpbnZpdGVWTy5mcmllbmRJZHMucHVzaChmLmlkKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBpZiAoaW52aXRlVk8uZnJpZW5kSWRzLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLiRodHRwKHsKICAgICAgICAgIHVybDogIi9ncm91cC9pbnZpdGUiLAogICAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgICBkYXRhOiBpbnZpdGVWTwogICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLpgoDor7fmiJDlip8iKTsKICAgICAgICAgIHRoaXMuJGVtaXQoInJlbG9hZCIpOwogICAgICAgICAgdGhpcy4kZW1pdCgiY2xvc2UiKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIG9uUmVtb3ZlRnJpZW5kKGZyaWVuZCwgaW5kZXgpIHsKICAgICAgZnJpZW5kLmlzQ2hlY2sgPSBmYWxzZTsKICAgIH0sCiAgICBvblN3aXRjaENoZWNrKGZyaWVuZCkgewogICAgICBpZiAoIWZyaWVuZC5kaXNhYmxlZCkgewogICAgICAgIGZyaWVuZC5pc0NoZWNrID0gIWZyaWVuZC5pc0NoZWNrOwogICAgICB9CiAgICB9CiAgfSwKICBwcm9wczogewogICAgdmlzaWJsZTogewogICAgICB0eXBlOiBCb29sZWFuCiAgICB9LAogICAgZ3JvdXBJZDogewogICAgICB0eXBlOiBOdW1iZXIKICAgIH0sCiAgICBtZW1iZXJzOiB7CiAgICAgIHR5cGU6IEFycmF5CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgY2hlY2tDb3VudCgpIHsKICAgICAgcmV0dXJuIHRoaXMuZnJpZW5kcy5maWx0ZXIoZiA9PiBmLmlzQ2hlY2sgJiYgIWYuZGlzYWJsZWQpLmxlbmd0aDsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICB2aXNpYmxlOiBmdW5jdGlvbiAobmV3RGF0YSwgb2xkRGF0YSkgewogICAgICBpZiAobmV3RGF0YSkgewogICAgICAgIHRoaXMuZnJpZW5kcyA9IFtdOwogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmZyaWVuZFN0b3JlLmZyaWVuZHMuZm9yRWFjaChmID0+IHsKICAgICAgICAgIGxldCBmcmllbmQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGYpKTsKICAgICAgICAgIGxldCBtID0gdGhpcy5tZW1iZXJzLmZpbHRlcihtID0+ICFtLnF1aXQpLmZpbmQobSA9PiBtLnVzZXJJZCA9PSBmLmlkKTsKICAgICAgICAgIGlmIChtKSB7CiAgICAgICAgICAgIC8vIOWlveWPi+W3sue7j+WcqOe+pOmHjAogICAgICAgICAgICBmcmllbmQuZGlzYWJsZWQgPSB0cnVlOwogICAgICAgICAgICBmcmllbmQuaXNDaGVjayA9IHRydWU7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBmcmllbmQuZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICAgICAgZnJpZW5kLmlzQ2hlY2sgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuZnJpZW5kcy5wdXNoKGZyaWVuZCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"names":["FriendItem","name","components","data","searchText","friends","methods","onClose","$emit","onOk","inviteVO","groupId","friendIds","forEach","f","isCheck","disabled","push","id","length","$http","url","method","then","$message","success","onRemoveFriend","friend","index","onSwitchCheck","props","visible","type","Boolean","Number","members","Array","computed","checkCount","filter","watch","newData","oldData","$store","state","friendStore","JSON","parse","stringify","m","quit","find","userId"],"sources":["src/components/group/AddGroupMember.vue"],"sourcesContent":["<template>\n\t<el-dialog title=\"邀请好友\" :visible.sync=\"visible\" width=\"50%\" :before-close=\"onClose\">\n\t\t<div class=\"agm-container\">\n\t\t\t<div class=\"agm-l-box\">\n\t\t\t\t<el-input placeholder=\"搜索好友\" v-model=\"searchText\"\n\t\t\t\t\t@keyup.enter.native=\"onSearch()\">\n\t\t\t\t\t<i class=\"el-icon-search el-input__icon\" slot=\"suffix\"> </i>\n\t\t\t\t</el-input>\n\t\t\t\t<el-scrollbar style=\"height:400px;\">\n\t\t\t\t\t<div v-for=\"(friend,index) in friends\" :key=\"friend.id\">\n\t\t\t\t\t\t<friend-item v-show=\"friend.nickName.includes(searchText)\" :showDelete=\"false\"\n\t\t\t\t\t\t\t@click.native=\"onSwitchCheck(friend)\" :menu=\"false\" :friend=\"friend\" :index=\"index\"\n\t\t\t\t\t\t\t:active=\"false\">\n\t\t\t\t\t\t\t<el-checkbox :disabled=\"friend.disabled\" @click.native.stop=\"\" class=\"agm-friend-checkbox\"\n\t\t\t\t\t\t\t\tv-model=\"friend.isCheck\" size=\"medium\"></el-checkbox>\n\t\t\t\t\t\t</friend-item>\n\t\t\t\t\t</div>\n\t\t\t\t</el-scrollbar>\n\t\t\t</div>\n\t\t\t<div class=\"agm-arrow el-icon-d-arrow-right\"></div>\n\t\t\t<div class=\"agm-r-box\">\n\t\t\t\t<div class=\"agm-select-tip\"> 已勾选{{checkCount}}位好友</div>\n\t\t\t\t<el-scrollbar style=\"height:400px;\">\n\t\t\t\t\t<div v-for=\"(friend,index) in friends\" :key=\"friend.id\">\n\t\t\t\t\t\t<friend-item v-if=\"friend.isCheck && !friend.disabled\" :friend=\"friend\" :index=\"index\"\n\t\t\t\t\t\t\t:active=\"false\" @del=\"onRemoveFriend(friend,index)\" :menu=\"false\">\n\t\t\t\t\t\t</friend-item>\n\t\t\t\t\t</div>\n\t\t\t\t</el-scrollbar>\n\t\t\t</div>\n\t\t</div>\n\t\t<span slot=\"footer\" class=\"dialog-footer\">\n\t\t\t<el-button @click=\"onClose()\">取 消</el-button>\n\t\t\t<el-button type=\"primary\" @click=\"onOk()\">确 定</el-button>\n\t\t</span>\n\t</el-dialog>\n</template>\n\n<script>\n\timport FriendItem from '../friend/FriendItem.vue';\n\n\texport default {\n\t\tname: \"addGroupMember\",\n\t\tcomponents: {\n\t\t\tFriendItem\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tsearchText: \"\",\n\t\t\t\tfriends: []\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tonClose() {\n\t\t\t\tthis.$emit(\"close\");\n\t\t\t},\n\t\t\tonOk() {\n\n\t\t\t\tlet inviteVO = {\n\t\t\t\t\tgroupId: this.groupId,\n\t\t\t\t\tfriendIds: []\n\t\t\t\t}\n\t\t\t\tthis.friends.forEach((f) => {\n\t\t\t\t\tif (f.isCheck && !f.disabled) {\n\t\t\t\t\t\tinviteVO.friendIds.push(f.id);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tif (inviteVO.friendIds.length > 0) {\n\t\t\t\t\tthis.$http({\n\t\t\t\t\t\turl: \"/group/invite\",\n\t\t\t\t\t\tmethod: 'post',\n\t\t\t\t\t\tdata: inviteVO\n\t\t\t\t\t}).then(() => {\n\t\t\t\t\t\tthis.$message.success(\"邀请成功\");\n\t\t\t\t\t\tthis.$emit(\"reload\");\n\t\t\t\t\t\tthis.$emit(\"close\");\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\tonRemoveFriend(friend, index) {\n\t\t\t\tfriend.isCheck = false;\n\t\t\t},\n\t\t\tonSwitchCheck(friend) {\n\t\t\t\tif (!friend.disabled) {\n\t\t\t\t\tfriend.isCheck = !friend.isCheck\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tprops: {\n\t\t\tvisible: {\n\t\t\t\ttype: Boolean\n\t\t\t},\n\t\t\tgroupId: {\n\t\t\t\ttype: Number\n\t\t\t},\n\t\t\tmembers: {\n\t\t\t\ttype: Array\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\tcheckCount() {\n\t\t\t\treturn this.friends.filter((f) => f.isCheck && !f.disabled).length;\n\t\t\t}\n\t\t},\n\t\twatch: {\n\t\t\tvisible: function(newData, oldData) {\n\t\t\t\tif (newData) {\n\t\t\t\t\tthis.friends = [];\n\t\t\t\t\tthis.$store.state.friendStore.friends.forEach((f) => {\n\t\t\t\t\t\tlet friend = JSON.parse(JSON.stringify(f))\n\t\t\t\t\t\tlet m = this.members.filter((m) => !m.quit)\n\t\t\t\t\t\t\t.find((m) => m.userId == f.id);\n\t\t\t\t\t\tif (m) {\n\t\t\t\t\t\t\t// 好友已经在群里\n\t\t\t\t\t\t\tfriend.disabled = true;\n\t\t\t\t\t\t\tfriend.isCheck = true\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfriend.disabled = false;\n\t\t\t\t\t\t\tfriend.isCheck = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.friends.push(friend);\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}\n</script>\n\n<style lang=\"scss\">\n\t.agm-container {\n\t\tdisplay: flex;\n\t\t.agm-l-box {\n\t\t\tflex: 1;\n\t\t\tborder: #587FF0 solid 1px;\n\t\t\tborder-radius: 5px;\n\t\t\toverflow: hidden;\n\t\t\t\n\t\t\n\t\t\t.agm-friend-checkbox {\n\t\t\t\tmargin-right: 20px;\n\t\t\t}\n\t\t}\n\n\t\t.agm-arrow {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tfont-size: 20px;\n\t\t\tpadding: 10px;\n\t\t\tfont-weight: 600;\n\t\t\tcolor: #687Ff0;\n\t\t}\n\n\t\t.agm-r-box {\n\t\t\tflex: 1;\n\t\t\tborder: #587FF0 solid 1px;\n\t\t\tborder-radius: 5px;\n\n\t\t\t.agm-select-tip {\n\t\t\t\ttext-align: left;\n\t\t\t\theight: 40px;\n\t\t\t\tline-height: 40px;\n\t\t\t\ttext-indent: 5px;\n\t\t\t}\n\t\t}\n\t}\n</style>"],"mappings":";AAuCA,OAAAA,UAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IACAF;EACA;EACAG,KAAA;IACA;MACAC,UAAA;MACAC,OAAA;IACA;EACA;EACAC,OAAA;IACAC,QAAA;MACA,KAAAC,KAAA;IACA;IACAC,KAAA;MAEA,IAAAC,QAAA;QACAC,OAAA,OAAAA,OAAA;QACAC,SAAA;MACA;MACA,KAAAP,OAAA,CAAAQ,OAAA,CAAAC,CAAA;QACA,IAAAA,CAAA,CAAAC,OAAA,KAAAD,CAAA,CAAAE,QAAA;UACAN,QAAA,CAAAE,SAAA,CAAAK,IAAA,CAAAH,CAAA,CAAAI,EAAA;QACA;MACA;MACA,IAAAR,QAAA,CAAAE,SAAA,CAAAO,MAAA;QACA,KAAAC,KAAA;UACAC,GAAA;UACAC,MAAA;UACAnB,IAAA,EAAAO;QACA,GAAAa,IAAA;UACA,KAAAC,QAAA,CAAAC,OAAA;UACA,KAAAjB,KAAA;UACA,KAAAA,KAAA;QACA;MACA;IACA;IACAkB,eAAAC,MAAA,EAAAC,KAAA;MACAD,MAAA,CAAAZ,OAAA;IACA;IACAc,cAAAF,MAAA;MACA,KAAAA,MAAA,CAAAX,QAAA;QACAW,MAAA,CAAAZ,OAAA,IAAAY,MAAA,CAAAZ,OAAA;MACA;IACA;EACA;EACAe,KAAA;IACAC,OAAA;MACAC,IAAA,EAAAC;IACA;IACAtB,OAAA;MACAqB,IAAA,EAAAE;IACA;IACAC,OAAA;MACAH,IAAA,EAAAI;IACA;EACA;EACAC,QAAA;IACAC,WAAA;MACA,YAAAjC,OAAA,CAAAkC,MAAA,CAAAzB,CAAA,IAAAA,CAAA,CAAAC,OAAA,KAAAD,CAAA,CAAAE,QAAA,EAAAG,MAAA;IACA;EACA;EACAqB,KAAA;IACAT,OAAA,WAAAA,CAAAU,OAAA,EAAAC,OAAA;MACA,IAAAD,OAAA;QACA,KAAApC,OAAA;QACA,KAAAsC,MAAA,CAAAC,KAAA,CAAAC,WAAA,CAAAxC,OAAA,CAAAQ,OAAA,CAAAC,CAAA;UACA,IAAAa,MAAA,GAAAmB,IAAA,CAAAC,KAAA,CAAAD,IAAA,CAAAE,SAAA,CAAAlC,CAAA;UACA,IAAAmC,CAAA,QAAAd,OAAA,CAAAI,MAAA,CAAAU,CAAA,KAAAA,CAAA,CAAAC,IAAA,EACAC,IAAA,CAAAF,CAAA,IAAAA,CAAA,CAAAG,MAAA,IAAAtC,CAAA,CAAAI,EAAA;UACA,IAAA+B,CAAA;YACA;YACAtB,MAAA,CAAAX,QAAA;YACAW,MAAA,CAAAZ,OAAA;UACA;YACAY,MAAA,CAAAX,QAAA;YACAW,MAAA,CAAAZ,OAAA;UACA;UACA,KAAAV,OAAA,CAAAY,IAAA,CAAAU,MAAA;QACA;MACA;IACA;EACA;AAEA","ignoreList":[]}]}