{"remainingRequest":"/home/d/github/box-im/im-web/node_modules/babel-loader/lib/index.js!/home/d/github/box-im/im-web/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/d/github/box-im/im-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/d/github/box-im/im-web/src/components/group/GroupMemberSelector.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/d/github/box-im/im-web/src/components/group/GroupMemberSelector.vue","mtime":1727013808920},{"path":"/home/d/github/box-im/im-web/babel.config.js","mtime":1727013808912},{"path":"/home/d/github/box-im/im-web/node_modules/cache-loader/dist/cjs.js","mtime":1727014166207},{"path":"/home/d/github/box-im/im-web/node_modules/babel-loader/lib/index.js","mtime":1727014166227},{"path":"/home/d/github/box-im/im-web/node_modules/cache-loader/dist/cjs.js","mtime":1727014166207},{"path":"/home/d/github/box-im/im-web/node_modules/vue-loader/lib/index.js","mtime":1727014163811}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBHcm91cE1lbWJlckl0ZW0gZnJvbSAnLi9Hcm91cE1lbWJlckl0ZW0udnVlJzsKaW1wb3J0IEdyb3VwTWVtYmVyIGZyb20gJy4vR3JvdXBNZW1iZXIudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJhZGRHcm91cE1lbWJlciIsCiAgY29tcG9uZW50czogewogICAgR3JvdXBNZW1iZXJJdGVtLAogICAgR3JvdXBNZW1iZXIKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc1Nob3c6IGZhbHNlLAogICAgICBzZWFyY2hUZXh0OiAiIiwKICAgICAgbWF4U2l6ZTogLTEsCiAgICAgIG1lbWJlcnM6IFtdCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIGdyb3VwSWQ6IHsKICAgICAgdHlwZTogTnVtYmVyCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBvcGVuKG1heFNpemUsIGNoZWNrZWRJZHMsIGxvY2tlZElkcykgewogICAgICB0aGlzLm1heFNpemUgPSBtYXhTaXplOwogICAgICB0aGlzLmlzU2hvdyA9IHRydWU7CiAgICAgIHRoaXMubG9hZEdyb3VwTWVtYmVycyhjaGVja2VkSWRzLCBsb2NrZWRJZHMpOwogICAgfSwKICAgIGxvYWRHcm91cE1lbWJlcnMoY2hlY2tlZElkcywgbG9ja2VkSWRzKSB7CiAgICAgIHRoaXMuJGh0dHAoewogICAgICAgIHVybDogYC9ncm91cC9tZW1iZXJzLyR7dGhpcy5ncm91cElkfWAsCiAgICAgICAgbWV0aG9kOiAnZ2V0JwogICAgICB9KS50aGVuKG1lbWJlcnMgPT4gewogICAgICAgIG1lbWJlcnMuZm9yRWFjaChtID0+IHsKICAgICAgICAgIC8vIOm7mOiupOmAieaLqeWSjOmUgeWumueahOeUqOaItwogICAgICAgICAgbS5jaGVja2VkID0gY2hlY2tlZElkcy5pbmRleE9mKG0udXNlcklkKSA+PSAwOwogICAgICAgICAgbS5sb2NrZWQgPSBsb2NrZWRJZHMuaW5kZXhPZihtLnVzZXJJZCkgPj0gMDsKICAgICAgICB9KTsKICAgICAgICB0aGlzLm1lbWJlcnMgPSBtZW1iZXJzOwogICAgICB9KTsKICAgIH0sCiAgICBvbkNsaWNrTWVtYmVyKG0pIHsKICAgICAgaWYgKCFtLmxvY2tlZCkgewogICAgICAgIG0uY2hlY2tlZCA9ICFtLmNoZWNrZWQ7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuY2hlY2tlZE1lbWJlcnMubGVuZ3RoID4gdGhpcy5tYXhTaXplKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihg5pyA5aSa6YCJ5oupJHt0aGlzLm1heFNpemV95L2N5oiQ5ZGYYCk7CiAgICAgICAgbS5jaGVja2VkID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBvbkNoYW5nZShtKSB7CiAgICAgIGlmICh0aGlzLmNoZWNrZWRNZW1iZXJzLmxlbmd0aCA+IHRoaXMubWF4U2l6ZSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoYOacgOWkmumAieaLqSR7dGhpcy5tYXhTaXplfeS9jeaIkOWRmGApOwogICAgICAgIG0uY2hlY2tlZCA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgb2soKSB7CiAgICAgIHRoaXMuJGVtaXQoImNvbXBsZXRlIiwgdGhpcy5jaGVja2VkTWVtYmVycyk7CiAgICAgIHRoaXMuaXNTaG93ID0gZmFsc2U7CiAgICB9LAogICAgY2xvc2UoKSB7CiAgICAgIHRoaXMuaXNTaG93ID0gZmFsc2U7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgY2hlY2tlZE1lbWJlcnMoKSB7CiAgICAgIGxldCBpZHMgPSBbXTsKICAgICAgdGhpcy5tZW1iZXJzLmZvckVhY2gobSA9PiB7CiAgICAgICAgaWYgKG0uY2hlY2tlZCkgewogICAgICAgICAgaWRzLnB1c2gobSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIGlkczsKICAgIH0KICB9Cn07"},{"version":3,"names":["GroupMemberItem","GroupMember","name","components","data","isShow","searchText","maxSize","members","props","groupId","type","Number","methods","open","checkedIds","lockedIds","loadGroupMembers","$http","url","method","then","forEach","m","checked","indexOf","userId","locked","onClickMember","checkedMembers","length","$message","error","onChange","ok","$emit","close","computed","ids","push"],"sources":["src/components/group/GroupMemberSelector.vue"],"sourcesContent":["<template>\n\t<el-dialog title=\"选择成员\" :visible.sync=\"isShow\" width=\"50%\">\n\t\t<div class=\"group-member-selector\">\n\t\t\t<div class=\"left-box\">\n\t\t\t\t<el-input placeholder=\"搜索\" v-model=\"searchText\">\n\t\t\t\t\t<i class=\"el-icon-search el-input__icon\" slot=\"suffix\"> </i>\n\t\t\t\t</el-input>\n\t\t\t\t<el-scrollbar style=\"height:400px;\">\n\t\t\t\t\t<div v-for=\"m in members\" :key=\"m.userId\">\n\t\t\t\t\t\t<group-member-item v-show=\"!m.quit&&m.showNickName.includes(searchText)\"\n\t\t\t\t\t\t\t:member=\"m\" @click.native=\"onClickMember(m)\">\n\t\t\t\t\t\t\t<el-checkbox :disabled=\"m.locked\" v-model=\"m.checked\" @change=\"onChange(m)\"\n\t\t\t\t\t\t\t\t@click.native.stop=\"\"></el-checkbox>\n\t\t\t\t\t\t</group-member-item>\n\t\t\t\t\t</div>\n\t\t\t\t</el-scrollbar>\n\t\t\t</div>\n\t\t\t<div class=\"arrow el-icon-d-arrow-right\"></div>\n\t\t\t<div class=\"right-box\">\n\t\t\t\t<div class=\"select-tip\"> 已勾选{{checkedMembers.length}}位成员</div>\n\t\t\t\t<div class=\"checked-member-list\">\n\t\t\t\t\t<div v-for=\"m in members\" :key=\"m.userId\">\n\t\t\t\t\t\t<group-member class=\"member-item\" v-if=\"m.checked\" :member=\"m\"></group-member>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<span slot=\"footer\" class=\"dialog-footer\">\n\t\t\t<el-button @click=\"close()\">取 消</el-button>\n\t\t\t<el-button type=\"primary\" @click=\"ok()\">确 定</el-button>\n\t\t</span>\n\t</el-dialog>\n</template>\n\n<script>\n\timport GroupMemberItem from './GroupMemberItem.vue';\n\timport GroupMember from './GroupMember.vue';\n\n\texport default {\n\t\tname: \"addGroupMember\",\n\t\tcomponents: {\n\t\t\tGroupMemberItem,\n\t\t\tGroupMember\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tisShow: false,\n\t\t\t\tsearchText: \"\",\n\t\t\t\tmaxSize: -1,\n\t\t\t\tmembers: []\n\t\t\t}\n\t\t},\n\t\tprops: {\n\t\t\tgroupId: {\n\t\t\t\ttype: Number\n\t\t\t}\t\n\t\t},\n\t\tmethods: {\n\t\t\topen(maxSize, checkedIds, lockedIds) {\n\t\t\t\tthis.maxSize = maxSize;\n\t\t\t\tthis.isShow = true;\n\t\t\t\tthis.loadGroupMembers(checkedIds, lockedIds);\n\t\t\t},\n\t\t\tloadGroupMembers(checkedIds, lockedIds) {\n\t\t\t\tthis.$http({\n\t\t\t\t\turl: `/group/members/${this.groupId}`,\n\t\t\t\t\tmethod: 'get'\n\t\t\t\t}).then((members) => {\n\t\t\t\t\tmembers.forEach((m) => {\n\t\t\t\t\t\t// 默认选择和锁定的用户\n\t\t\t\t\t\tm.checked = checkedIds.indexOf(m.userId) >= 0;\n\t\t\t\t\t\tm.locked = lockedIds.indexOf(m.userId) >= 0;\n\t\t\t\t\t});\n\t\t\t\t\tthis.members = members;\n\t\t\t\t});\n\t\t\t},\n\t\t\tonClickMember(m) {\n\t\t\t\tif (!m.locked) {\n\t\t\t\t\tm.checked = !m.checked;\n\t\t\t\t}\n\t\t\t\tif (this.checkedMembers.length > this.maxSize) {\n\t\t\t\t\tthis.$message.error(`最多选择${this.maxSize}位成员`)\n\t\t\t\t\tm.checked = false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tonChange(m) {\n\t\t\t\tif (this.checkedMembers.length > this.maxSize) {\n\t\t\t\t\tthis.$message.error(`最多选择${this.maxSize}位成员`)\n\t\t\t\t\tm.checked = false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tok() {\n\t\t\t\tthis.$emit(\"complete\", this.checkedMembers);\n\t\t\t\tthis.isShow = false;\n\t\t\t},\n\t\t\tclose() {\n\t\t\t\tthis.isShow = false;\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\tcheckedMembers() {\n\t\t\t\tlet ids = [];\n\t\t\t\tthis.members.forEach((m) => {\n\t\t\t\t\tif (m.checked) {\n\t\t\t\t\t\tids.push(m);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\treturn ids;\n\t\t\t}\n\t\t}\n\n\t}\n</script>\n\n<style lang=\"scss\">\n\t.group-member-selector {\n\t\tdisplay: flex;\n\n\t\t.left-box {\n\t\t\twidth: 48%;\n\t\t\tborder: #587FF0 solid 1px;\n\t\t\tborder-radius: 5px;\n\t\t\toverflow: hidden;\n\t\t}\n\n\n\t\t.arrow {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tfont-size: 20px;\n\t\t\tpadding: 10px;\n\t\t\tfont-weight: 600;\n\t\t\tcolor: #687Ff0;\n\t\t}\n\n\t\t.right-box {\n\n\t\t\twidth: 48%;\n\t\t\tborder: #587FF0 solid 1px;\n\t\t\tborder-radius: 5px;\n\n\t\t\t.select-tip {\n\t\t\t\ttext-align: left;\n\t\t\t\theight: 40px;\n\t\t\t\tline-height: 40px;\n\t\t\t\ttext-indent: 5px;\n\t\t\t}\n\n\t\t\t.checked-member-list {\n\t\t\t\tpadding: 10px;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\tflex-wrap: wrap;\n\n\t\t\t\t.member-item {\n\t\t\t\t\tpadding: 2px;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</style>"],"mappings":";AAmCA,OAAAA,eAAA;AACA,OAAAC,WAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IACAH,eAAA;IACAC;EACA;EACAG,KAAA;IACA;MACAC,MAAA;MACAC,UAAA;MACAC,OAAA;MACAC,OAAA;IACA;EACA;EACAC,KAAA;IACAC,OAAA;MACAC,IAAA,EAAAC;IACA;EACA;EACAC,OAAA;IACAC,KAAAP,OAAA,EAAAQ,UAAA,EAAAC,SAAA;MACA,KAAAT,OAAA,GAAAA,OAAA;MACA,KAAAF,MAAA;MACA,KAAAY,gBAAA,CAAAF,UAAA,EAAAC,SAAA;IACA;IACAC,iBAAAF,UAAA,EAAAC,SAAA;MACA,KAAAE,KAAA;QACAC,GAAA,yBAAAT,OAAA;QACAU,MAAA;MACA,GAAAC,IAAA,CAAAb,OAAA;QACAA,OAAA,CAAAc,OAAA,CAAAC,CAAA;UACA;UACAA,CAAA,CAAAC,OAAA,GAAAT,UAAA,CAAAU,OAAA,CAAAF,CAAA,CAAAG,MAAA;UACAH,CAAA,CAAAI,MAAA,GAAAX,SAAA,CAAAS,OAAA,CAAAF,CAAA,CAAAG,MAAA;QACA;QACA,KAAAlB,OAAA,GAAAA,OAAA;MACA;IACA;IACAoB,cAAAL,CAAA;MACA,KAAAA,CAAA,CAAAI,MAAA;QACAJ,CAAA,CAAAC,OAAA,IAAAD,CAAA,CAAAC,OAAA;MACA;MACA,SAAAK,cAAA,CAAAC,MAAA,QAAAvB,OAAA;QACA,KAAAwB,QAAA,CAAAC,KAAA,aAAAzB,OAAA;QACAgB,CAAA,CAAAC,OAAA;MACA;IACA;IACAS,SAAAV,CAAA;MACA,SAAAM,cAAA,CAAAC,MAAA,QAAAvB,OAAA;QACA,KAAAwB,QAAA,CAAAC,KAAA,aAAAzB,OAAA;QACAgB,CAAA,CAAAC,OAAA;MACA;IACA;IACAU,GAAA;MACA,KAAAC,KAAA,kBAAAN,cAAA;MACA,KAAAxB,MAAA;IACA;IACA+B,MAAA;MACA,KAAA/B,MAAA;IACA;EACA;EACAgC,QAAA;IACAR,eAAA;MACA,IAAAS,GAAA;MACA,KAAA9B,OAAA,CAAAc,OAAA,CAAAC,CAAA;QACA,IAAAA,CAAA,CAAAC,OAAA;UACAc,GAAA,CAAAC,IAAA,CAAAhB,CAAA;QACA;MACA;MACA,OAAAe,GAAA;IACA;EACA;AAEA","ignoreList":[]}]}