{"remainingRequest":"/home/d/github/box-im/im-web/node_modules/babel-loader/lib/index.js!/home/d/github/box-im/im-web/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/d/github/box-im/im-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/d/github/box-im/im-web/src/components/rtc/RtcPrivateVideo.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/d/github/box-im/im-web/src/components/rtc/RtcPrivateVideo.vue","mtime":1727013808920},{"path":"/home/d/github/box-im/im-web/babel.config.js","mtime":1727013808912},{"path":"/home/d/github/box-im/im-web/node_modules/cache-loader/dist/cjs.js","mtime":1727014166207},{"path":"/home/d/github/box-im/im-web/node_modules/babel-loader/lib/index.js","mtime":1727014166227},{"path":"/home/d/github/box-im/im-web/node_modules/cache-loader/dist/cjs.js","mtime":1727014166207},{"path":"/home/d/github/box-im/im-web/node_modules/vue-loader/lib/index.js","mtime":1727014163811}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBIZWFkSW1hZ2UgZnJvbSAnLi4vY29tbW9uL0hlYWRJbWFnZS52dWUnOwppbXBvcnQgUnRjUHJpdmF0ZUFjY2VwdG9yIGZyb20gJy4vUnRjUHJpdmF0ZUFjY2VwdG9yLnZ1ZSc7CmltcG9ydCBJbVdlYlJ0YyBmcm9tICdAL2FwaS93ZWJydGMnOwppbXBvcnQgSW1DYW1lcmEgZnJvbSAnQC9hcGkvY2FtZXJhJzsKaW1wb3J0IFJ0Y1ByaXZhdGVBcGkgZnJvbSAnQC9hcGkvcnRjUHJpdmF0ZUFwaSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAncnRjUHJpdmF0ZVZpZGVvJywKICBjb21wb25lbnRzOiB7CiAgICBIZWFkSW1hZ2UsCiAgICBSdGNQcml2YXRlQWNjZXB0b3IKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjYW1lcmE6IG5ldyBJbUNhbWVyYSgpLAogICAgICAvLyDmkYTlg4/lpLTlkozpuqblhYvpo44KICAgICAgd2VicnRjOiBuZXcgSW1XZWJSdGMoKSwKICAgICAgLy8gd2VicnRj55u45YWzCiAgICAgIEFQSTogbmV3IFJ0Y1ByaXZhdGVBcGkoKSwKICAgICAgLy8gQVBJCiAgICAgIGF1ZGlvOiBuZXcgQXVkaW8oKSwKICAgICAgLy8g5ZG85Y+r6Z+z6aKRCiAgICAgIHNob3dSb29tOiBmYWxzZSwKICAgICAgZnJpZW5kOiB7fSwKICAgICAgaXNIb3N0OiBmYWxzZSwKICAgICAgLy8g5piv5ZCm5Y+R6LW35Lq6CiAgICAgIHN0YXRlOiAiQ0xPU0UiLAogICAgICAvLyBDTE9TRTrlhbPpl60gIFdBSVRJTkc6562J5b6F5ZG85Y+r5oiW5o6l5ZCsIENIQVRJTkc66IGK5aSp5LitICBFUlJPUjrlh7rnjrDlvILluLgKICAgICAgbW9kZTogJ3ZpZGVvJywKICAgICAgLy8g5qih5byPIHZpZGVvOuinhumikeiBiiB2b2ljZTror63pn7PogYrlpKkKICAgICAgbG9jYWxTdHJlYW06IG51bGwsCiAgICAgIC8vIOacrOWcsOinhumikea1gQogICAgICByZW1vdGVTdHJlYW06IG51bGwsCiAgICAgIC8vIOWvueaWueinhumikea1gQogICAgICB2aWRlb1RpbWU6IDAsCiAgICAgIHZpZGVvVGltZXI6IG51bGwsCiAgICAgIGhlYXJ0YmVhdFRpbWVyOiBudWxsLAogICAgICBjYW5kaWRhdGVzOiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9wZW4ocnRjSW5mbykgewogICAgICB0aGlzLnNob3dSb29tID0gdHJ1ZTsKICAgICAgdGhpcy5tb2RlID0gcnRjSW5mby5tb2RlOwogICAgICB0aGlzLmlzSG9zdCA9IHJ0Y0luZm8uaXNIb3N0OwogICAgICB0aGlzLmZyaWVuZCA9IHJ0Y0luZm8uZnJpZW5kOwogICAgICBpZiAodGhpcy5pc0hvc3QpIHsKICAgICAgICB0aGlzLm9uQ2FsbCgpOwogICAgICB9CiAgICB9LAogICAgaW5pdEF1ZGlvKCkgewogICAgICBsZXQgdXJsID0gcmVxdWlyZShgQC9hc3NldHMvYXVkaW8vY2FsbC53YXZgKTsKICAgICAgdGhpcy5hdWRpby5zcmMgPSB1cmw7CiAgICAgIHRoaXMuYXVkaW8ubG9vcCA9IHRydWU7CiAgICB9LAogICAgaW5pdFJ0YygpIHsKICAgICAgdGhpcy53ZWJydGMuaW5pdCh0aGlzLmNvbmZpZ3VyYXRpb24pOwogICAgICB0aGlzLndlYnJ0Yy5zZXR1cFBlZXJDb25uZWN0aW9uKHN0cmVhbSA9PiB7CiAgICAgICAgdGhpcy4kcmVmcy5yZW1vdGVWaWRlby5zcmNPYmplY3QgPSBzdHJlYW07CiAgICAgICAgdGhpcy5yZW1vdGVTdHJlYW0gPSBzdHJlYW07CiAgICAgIH0pOwogICAgICAvLyDnm5HlkKzlgJnpgInkv6Hmga8KICAgICAgdGhpcy53ZWJydGMub25JY2VjYW5kaWRhdGUoY2FuZGlkYXRlID0+IHsKICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PSAiQ0hBVElORyIpIHsKICAgICAgICAgIC8vIOi/nuaOpeW3suWwsee7qiznm7TmjqXlj5HpgIEKICAgICAgICAgIHRoaXMuQVBJLnNlbmRDYW5kaWRhdGUodGhpcy5mcmllbmQuaWQsIGNhbmRpZGF0ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIOi/nuaOpeacquWwsee7qiznvJPlrZjotbfmnaXvvIzov57mjqXlkI7lho3lj5HpgIEKICAgICAgICAgIHRoaXMuY2FuZGlkYXRlcy5wdXNoKGNhbmRpZGF0ZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgLy8g55uR5ZCs6L+e5o6l5oiQ5Yqf54q25oCBCiAgICAgIHRoaXMud2VicnRjLm9uU3RhdGVDaGFuZ2Uoc3RhdGUgPT4gewogICAgICAgIGlmIChzdGF0ZSA9PSAiY29ubmVjdGVkIikgewogICAgICAgICAgY29uc29sZS5sb2coIndlYnJ0Y+i/nuaOpeaIkOWKnyIpOwogICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT0gImRpc2Nvbm5lY3RlZCIpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJ3ZWJydGPov57mjqXmlq3lvIAiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIG9uQ2FsbCgpIHsKICAgICAgaWYgKCF0aGlzLmNoZWNrRGV2RW5hYmxlKCkpIHsKICAgICAgICB0aGlzLmNsb3NlKCk7CiAgICAgIH0KICAgICAgLy8g5Yid5aeL5YyWd2VicnRjCiAgICAgIHRoaXMuaW5pdFJ0YygpOwogICAgICAvLyDlkK/liqjlv4Pot7MKICAgICAgdGhpcy5zdGFydEhlYXJ0QmVhdCgpOwogICAgICAvLyDmiZPlvIDmkYTlg4/lpLQKICAgICAgdGhpcy5vcGVuU3RyZWFtKCkudGhlbigoKSA9PiB7CiAgICAgICAgdGhpcy53ZWJydGMuc2V0U3RyZWFtKHRoaXMubG9jYWxTdHJlYW0pOwogICAgICAgIHRoaXMud2VicnRjLmNyZWF0ZU9mZmVyKCkudGhlbihvZmZlciA9PiB7CiAgICAgICAgICAvLyDlj5Hotbflkbzlj6sKICAgICAgICAgIHRoaXMuQVBJLmNhbGwodGhpcy5mcmllbmQuaWQsIHRoaXMubW9kZSwgb2ZmZXIpLnRoZW4oKCkgPT4gewogICAgICAgICAgICAvLyDnm7TmjqXov5vlhaXogYrlpKnnirbmgIEKICAgICAgICAgICAgdGhpcy5zdGF0ZSA9ICJXQUlUSU5HIjsKICAgICAgICAgICAgLy8g5pKt5pS+5ZG85Y+r6ZOD5aOwCiAgICAgICAgICAgIHRoaXMuYXVkaW8ucGxheSgpOwogICAgICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgICAgICB0aGlzLmNsb3NlKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgIC8vIOWRvOWPq+aWueW/hemhu+iDveaJk+W8gOaRhOWDj+WktO+8jOWQpuWImeaXoOazleato+W4uOW7uueri+i/nuaOpQogICAgICAgIHRoaXMuY2xvc2UoKTsKICAgICAgfSk7CiAgICB9LAogICAgb25BY2NlcHQoKSB7CiAgICAgIGlmICghdGhpcy5jaGVja0RldkVuYWJsZSgpKSB7CiAgICAgICAgdGhpcy5BUEkuZmFpbGVkKHRoaXMuZnJpZW5kLmlkLCAi5a+55pa56K6+5aSH5LiN5pSv5oyB6YCa6K+dIik7CiAgICAgICAgdGhpcy5jbG9zZSgpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICAvLyDov5vlhaXmiL/pl7QKICAgICAgdGhpcy5zaG93Um9vbSA9IHRydWU7CiAgICAgIHRoaXMuc3RhdGUgPSAiQ0hBVElORyI7CiAgICAgIC8vIOWBnOatouWRvOWPq+mTg+WjsAogICAgICB0aGlzLmF1ZGlvLnBhdXNlKCk7CiAgICAgIC8vIOWIneWni+WMlndlYnJ0YwogICAgICB0aGlzLmluaXRSdGMoKTsKICAgICAgLy8g5omT5byA5pGE5YOP5aS0CiAgICAgIHRoaXMub3BlblN0cmVhbSgpLmZpbmFsbHkoKCkgPT4gewogICAgICAgIHRoaXMud2VicnRjLnNldFN0cmVhbSh0aGlzLmxvY2FsU3RyZWFtKTsKICAgICAgICB0aGlzLndlYnJ0Yy5jcmVhdGVBbnN3ZXIodGhpcy5vZmZlcikudGhlbihhbnN3ZXIgPT4gewogICAgICAgICAgdGhpcy5BUEkuYWNjZXB0KHRoaXMuZnJpZW5kLmlkLCBhbnN3ZXIpOwogICAgICAgICAgLy8g6K6w5b2V5pe26ZW/CiAgICAgICAgICB0aGlzLnN0YXJ0Q2hhdFRpbWUoKTsKICAgICAgICAgIC8vIOa4heeQhuWumuaXtuWZqAogICAgICAgICAgdGhpcy53YWl0VGltZXIgJiYgY2xlYXJUaW1lb3V0KHRoaXMud2FpdFRpbWVyKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgb25SZWplY3QoKSB7CiAgICAgIGNvbnNvbGUubG9nKCJvblJlamVjdCIpOwogICAgICAvLyDpgIDlh7rpgJror50KICAgICAgdGhpcy5BUEkucmVqZWN0KHRoaXMuZnJpZW5kLmlkKTsKICAgICAgLy8g6YCA5Ye6CiAgICAgIHRoaXMuY2xvc2UoKTsKICAgIH0sCiAgICBvbkhhbmR1cCgpIHsKICAgICAgdGhpcy5BUEkuaGFuZHVwKHRoaXMuZnJpZW5kLmlkKTsKICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmgqjlt7LmjILmlq0s6YCa6K+d57uT5p2fIik7CiAgICAgIHRoaXMuY2xvc2UoKTsKICAgIH0sCiAgICBvbkNhbmNlbCgpIHsKICAgICAgdGhpcy5BUEkuY2FuY2VsKHRoaXMuZnJpZW5kLmlkKTsKICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLlt7Llj5bmtojlkbzlj6ss6YCa6K+d57uT5p2fIik7CiAgICAgIHRoaXMuY2xvc2UoKTsKICAgIH0sCiAgICBvblJUQ01lc3NhZ2UobXNnKSB7CiAgICAgIC8vIOmZpOS6huWPkei1t+mAmuivne+8jOWmguaenOWcqOWFs+mXreeKtuaAgeWwseaXoOmcgOWkhOeQhgogICAgICBpZiAobXNnLnR5cGUgIT0gdGhpcy4kZW51bXMuTUVTU0FHRV9UWVBFLlJUQ19DQUxMX1ZPSUNFICYmIG1zZy50eXBlICE9IHRoaXMuJGVudW1zLk1FU1NBR0VfVFlQRS5SVENfQ0FMTF9WSURFTyAmJiB0aGlzLmlzQ2xvc2UpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgLy8gUlRD5L+h5Luk5aSE55CGCiAgICAgIHN3aXRjaCAobXNnLnR5cGUpIHsKICAgICAgICBjYXNlIHRoaXMuJGVudW1zLk1FU1NBR0VfVFlQRS5SVENfQ0FMTF9WT0lDRToKICAgICAgICAgIHRoaXMub25SVENDYWxsKG1zZywgJ3ZvaWNlJyk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIHRoaXMuJGVudW1zLk1FU1NBR0VfVFlQRS5SVENfQ0FMTF9WSURFTzoKICAgICAgICAgIHRoaXMub25SVENDYWxsKG1zZywgJ3ZpZGVvJyk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIHRoaXMuJGVudW1zLk1FU1NBR0VfVFlQRS5SVENfQUNDRVBUOgogICAgICAgICAgdGhpcy5vblJUQ0FjY2VwdChtc2cpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSB0aGlzLiRlbnVtcy5NRVNTQUdFX1RZUEUuUlRDX1JFSkVDVDoKICAgICAgICAgIHRoaXMub25SVENSZWplY3QobXNnKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgdGhpcy4kZW51bXMuTUVTU0FHRV9UWVBFLlJUQ19DQU5DRUw6CiAgICAgICAgICB0aGlzLm9uUlRDQ2FuY2VsKG1zZyk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIHRoaXMuJGVudW1zLk1FU1NBR0VfVFlQRS5SVENfRkFJTEVEOgogICAgICAgICAgdGhpcy5vblJUQ0ZhaWxlZChtc2cpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSB0aGlzLiRlbnVtcy5NRVNTQUdFX1RZUEUuUlRDX0hBTkRVUDoKICAgICAgICAgIHRoaXMub25SVENIYW5kdXAobXNnKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgdGhpcy4kZW51bXMuTUVTU0FHRV9UWVBFLlJUQ19DQU5ESURBVEU6CiAgICAgICAgICB0aGlzLm9uUlRDQ2FuZGlkYXRlKG1zZyk7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfSwKICAgIG9uUlRDQ2FsbChtc2csIG1vZGUpIHsKICAgICAgdGhpcy5vZmZlciA9IEpTT04ucGFyc2UobXNnLmNvbnRlbnQpOwogICAgICB0aGlzLmlzSG9zdCA9IGZhbHNlOwogICAgICB0aGlzLm1vZGUgPSBtb2RlOwogICAgICB0aGlzLiRodHRwKHsKICAgICAgICB1cmw6IGAvZnJpZW5kL2ZpbmQvJHttc2cuc2VuZElkfWAsCiAgICAgICAgbWV0aG9kOiAnZ2V0JwogICAgICB9KS50aGVuKGZyaWVuZCA9PiB7CiAgICAgICAgdGhpcy5mcmllbmQgPSBmcmllbmQ7CiAgICAgICAgdGhpcy5zdGF0ZSA9ICJXQUlUSU5HIjsKICAgICAgICB0aGlzLmF1ZGlvLnBsYXkoKTsKICAgICAgICB0aGlzLnN0YXJ0SGVhcnRCZWF0KCk7CiAgICAgICAgLy8gMzBz5pyq5o6l5ZCs6Ieq5Yqo5oyC5o6JCiAgICAgICAgdGhpcy53YWl0VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHRoaXMuQVBJLmZhaWxlZCh0aGlzLmZyaWVuZC5pZCwgIuWvueaWueaXoOW6lOetlCIpOwogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5oKo5pyq5o6l5ZCsIik7CiAgICAgICAgICB0aGlzLmNsb3NlKCk7CiAgICAgICAgfSwgMzAwMDApOwogICAgICB9KTsKICAgIH0sCiAgICBvblJUQ0FjY2VwdChtc2cpIHsKICAgICAgaWYgKG1zZy5zZWxmU2VuZCkgewogICAgICAgIC8vIOWcqOWFtuS7luiuvuWkh+aOpeWQrAogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5bey5Zyo5YW25LuW6K6+5aSH5o6l5ZCsIik7CiAgICAgICAgdGhpcy5jbG9zZSgpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIOWvueaWueaOpeWPl+S6hueahOmAmuivnQogICAgICAgIGxldCBvZmZlciA9IEpTT04ucGFyc2UobXNnLmNvbnRlbnQpOwogICAgICAgIHRoaXMud2VicnRjLnNldFJlbW90ZURlc2NyaXB0aW9uKG9mZmVyKTsKICAgICAgICAvLyDnirbmgIHkuLrogYrlpKnkuK0KICAgICAgICB0aGlzLnN0YXRlID0gJ0NIQVRJTkcnOwogICAgICAgIC8vIOWBnOatouaSreaUvuivremfswogICAgICAgIHRoaXMuYXVkaW8ucGF1c2UoKTsKICAgICAgICAvLyDlj5HpgIFjYW5kaWRhdGUKICAgICAgICB0aGlzLmNhbmRpZGF0ZXMuZm9yRWFjaChjYW5kaWRhdGUgPT4gewogICAgICAgICAgdGhpcy5BUEkuc2VuZENhbmRpZGF0ZSh0aGlzLmZyaWVuZC5pZCwgY2FuZGlkYXRlKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIG9uUlRDUmVqZWN0KG1zZykgewogICAgICBpZiAobXNnLnNlbGZTZW5kKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLlt7LlnKjlhbbku5borr7lpIfmi5Lnu50iKTsKICAgICAgICB0aGlzLmNsb3NlKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5a+55pa55ouS57ud5LqG5oKo55qE6YCa6K+d6K+35rGCIik7CiAgICAgICAgdGhpcy5jbG9zZSgpOwogICAgICB9CiAgICB9LAogICAgb25SVENGYWlsZWQobXNnKSB7CiAgICAgIC8vIOWRvOWPq+Wksei0pQogICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKG1zZy5jb250ZW50KTsKICAgICAgdGhpcy5jbG9zZSgpOwogICAgfSwKICAgIG9uUlRDQ2FuY2VsKCkgewogICAgICAvLyDlr7nmlrnlj5bmtojpgJror50KICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLlr7nmlrnlj5bmtojkuoblkbzlj6siKTsKICAgICAgdGhpcy5jbG9zZSgpOwogICAgfSwKICAgIG9uUlRDSGFuZHVwKCkgewogICAgICAvLyDlr7nmlrnmjILmlq0KICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLlr7nmlrnlt7LmjILmlq0iKTsKICAgICAgdGhpcy5jbG9zZSgpOwogICAgfSwKICAgIG9uUlRDQ2FuZGlkYXRlKG1zZykgewogICAgICBsZXQgY2FuZGlkYXRlID0gSlNPTi5wYXJzZShtc2cuY29udGVudCk7CiAgICAgIHRoaXMud2VicnRjLmFkZEljZUNhbmRpZGF0ZShjYW5kaWRhdGUpOwogICAgfSwKICAgIG9wZW5TdHJlYW0oKSB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgaWYgKHRoaXMuaXNWaWRlbykgewogICAgICAgICAgLy8g5omT5byA5pGE5YOP5aS0K+m6puWFi+mjjgogICAgICAgICAgdGhpcy5jYW1lcmEub3BlblZpZGVvKCkudGhlbihzdHJlYW0gPT4gewogICAgICAgICAgICB0aGlzLmxvY2FsU3RyZWFtID0gc3RyZWFtOwogICAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy4kcmVmcy5sb2NhbFZpZGVvLnNyY09iamVjdCA9IHN0cmVhbTsKICAgICAgICAgICAgICB0aGlzLiRyZWZzLmxvY2FsVmlkZW8ubXV0ZWQgPSB0cnVlOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmVzb2x2ZShzdHJlYW0pOwogICAgICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuaJk+W8gOaRhOWDj+WktOWksei0pSIpOwogICAgICAgICAgICBjb25zb2xlLmxvZygi5pys5pGE5YOP5aS05omT5byA5aSx6LSlOiIgKyBlLm1lc3NhZ2UpOwogICAgICAgICAgICByZWplY3QoZSk7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8g5omT5byA6bqm5YWL6aOOCiAgICAgICAgICB0aGlzLmNhbWVyYS5vcGVuQXVkaW8oKS50aGVuKHN0cmVhbSA9PiB7CiAgICAgICAgICAgIHRoaXMubG9jYWxTdHJlYW0gPSBzdHJlYW07CiAgICAgICAgICAgIHRoaXMuJHJlZnMubG9jYWxWaWRlby5zcmNPYmplY3QgPSBzdHJlYW07CiAgICAgICAgICAgIHJlc29sdmUoc3RyZWFtKTsKICAgICAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLmiZPlvIDpuqblhYvpo47lpLHotKUiKTsKICAgICAgICAgICAgY29uc29sZS5sb2coIuaJk+W8gOm6puWFi+mjjuWksei0pToiICsgZS5tZXNzYWdlKTsKICAgICAgICAgICAgcmVqZWN0KGUpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzdGFydENoYXRUaW1lKCkgewogICAgICB0aGlzLnZpZGVvVGltZSA9IDA7CiAgICAgIHRoaXMudmlkZW9UaW1lciAmJiBjbGVhckludGVydmFsKHRoaXMudmlkZW9UaW1lcik7CiAgICAgIHRoaXMudmlkZW9UaW1lciA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICB0aGlzLnZpZGVvVGltZSsrOwogICAgICB9LCAxMDAwKTsKICAgIH0sCiAgICBjaGVja0RldkVuYWJsZSgpIHsKICAgICAgLy8g5qOA5rWL5pGE5YOP5aS0CiAgICAgIGlmICghdGhpcy5jYW1lcmEuaXNFbmFibGUoKSkgewogICAgICAgIHRoaXMubWVzc2FnZS5lcnJvcigi6K6/6Zeu5pGE5YOP5aS05aSx6LSlIik7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIC8vIOajgOa1i3dlYnJ0YwogICAgICBpZiAoIXRoaXMud2VicnRjLmlzRW5hYmxlKCkpIHsKICAgICAgICB0aGlzLm1lc3NhZ2UuZXJyb3IoIuWIneWni+WMllJUQ+Wksei0pe+8jOWOn+WboOWPr+iDveaYrzogMS7mnI3liqHlmajnvLrlsJFzc2zor4HkuaYgMi7mgqjnmoTorr7lpIfkuI3mlK/mjIFXZWJSVEMiKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAogICAgc3RhcnRIZWFydEJlYXQoKSB7CiAgICAgIC8vIOavjzE1c+aOqOmAgeS4gOasoeW/g+i3swogICAgICB0aGlzLmhlYXJ0YmVhdFRpbWVyICYmIGNsZWFySW50ZXJ2YWwodGhpcy5oZWFydGJlYXRUaW1lcik7CiAgICAgIHRoaXMuaGVhcnRiZWF0VGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgdGhpcy5BUEkuaGVhcnRiZWF0KHRoaXMuZnJpZW5kLmlkKTsKICAgICAgfSwgMTUwMDApOwogICAgfSwKICAgIGNsb3NlKCkgewogICAgICB0aGlzLnNob3dSb29tID0gZmFsc2U7CiAgICAgIHRoaXMuY2FtZXJhLmNsb3NlKCk7CiAgICAgIHRoaXMud2VicnRjLmNsb3NlKCk7CiAgICAgIHRoaXMuYXVkaW8ucGF1c2UoKTsKICAgICAgdGhpcy52aWRlb1RpbWUgPSAwOwogICAgICB0aGlzLnZpZGVvVGltZXIgJiYgY2xlYXJJbnRlcnZhbCh0aGlzLnZpZGVvVGltZXIpOwogICAgICB0aGlzLmhlYXJ0YmVhdFRpbWVyICYmIGNsZWFySW50ZXJ2YWwodGhpcy5oZWFydGJlYXRUaW1lcik7CiAgICAgIHRoaXMud2FpdFRpbWVyICYmIGNsZWFyVGltZW91dCh0aGlzLndhaXRUaW1lcik7CiAgICAgIHRoaXMudmlkZW9UaW1lciA9IG51bGw7CiAgICAgIHRoaXMuaGVhcnRiZWF0VGltZXIgPSBudWxsOwogICAgICB0aGlzLndhaXRUaW1lciA9IG51bGw7CiAgICAgIHRoaXMuc3RhdGUgPSAnQ0xPU0UnOwogICAgICB0aGlzLmNhbmRpZGF0ZXMgPSBbXTsKICAgIH0sCiAgICBvblF1aXQoKSB7CiAgICAgIGlmICh0aGlzLmlzQ2hhdGluZykgewogICAgICAgIHRoaXMub25IYW5kdXAoKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmlzV2FpdGluZykgewogICAgICAgIHRoaXMub25DYW5jZWwoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNsb3NlKCk7CiAgICAgIH0KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICB0aXRsZSgpIHsKICAgICAgbGV0IHN0clRpdGxlID0gYCR7dGhpcy5tb2RlVGV4dH3pgJror50tJHt0aGlzLmZyaWVuZC5uaWNrTmFtZX1gOwogICAgICBpZiAodGhpcy5pc0NoYXRpbmcpIHsKICAgICAgICBzdHJUaXRsZSArPSBgKCR7dGhpcy5jdXJyZW50VGltZX0pYDsKICAgICAgfSBlbHNlIGlmICh0aGlzLmlzV2FpdGluZykgewogICAgICAgIHN0clRpdGxlICs9IGAo5ZG85Y+r5LitKWA7CiAgICAgIH0KICAgICAgcmV0dXJuIHN0clRpdGxlOwogICAgfSwKICAgIGN1cnJlbnRUaW1lKCkgewogICAgICBsZXQgbWluID0gTWF0aC5mbG9vcih0aGlzLnZpZGVvVGltZSAvIDYwKTsKICAgICAgbGV0IHNlYyA9IHRoaXMudmlkZW9UaW1lICUgNjA7CiAgICAgIGxldCBzdHJUaW1lID0gbWluIDwgMTAgPyAiMCIgOiAiIjsKICAgICAgc3RyVGltZSArPSBtaW47CiAgICAgIHN0clRpbWUgKz0gIjoiOwogICAgICBzdHJUaW1lICs9IHNlYyA8IDEwID8gIjAiIDogIiI7CiAgICAgIHN0clRpbWUgKz0gc2VjOwogICAgICByZXR1cm4gc3RyVGltZTsKICAgIH0sCiAgICBjb25maWd1cmF0aW9uKCkgewogICAgICBjb25zdCBpY2VTZXJ2ZXJzID0gdGhpcy4kc3RvcmUuc3RhdGUuY29uZmlnU3RvcmUud2VicnRjLmljZVNlcnZlcnM7CiAgICAgIHJldHVybiB7CiAgICAgICAgaWNlU2VydmVyczogaWNlU2VydmVycwogICAgICB9OwogICAgfSwKICAgIGlzVmlkZW8oKSB7CiAgICAgIHJldHVybiB0aGlzLm1vZGUgPT0gInZpZGVvIjsKICAgIH0sCiAgICBtb2RlVGV4dCgpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNWaWRlbyA/ICLop4bpopEiIDogIuivremfsyI7CiAgICB9LAogICAgaXNDaGF0aW5nKCkgewogICAgICByZXR1cm4gdGhpcy5zdGF0ZSA9PSAiQ0hBVElORyI7CiAgICB9LAogICAgaXNXYWl0aW5nKCkgewogICAgICByZXR1cm4gdGhpcy5zdGF0ZSA9PSAiV0FJVElORyI7CiAgICB9LAogICAgaXNDbG9zZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuc3RhdGUgPT0gIkNMT1NFIjsKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICAvLyDliJ3lp4vljJbpn7PpopHmlofku7YKICAgIHRoaXMuaW5pdEF1ZGlvKCk7CiAgfSwKICBjcmVhdGVkKCkgewogICAgLy8g55uR5ZCs6aG16Z2i5Yi35paw5LqL5Lu2CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgKCkgPT4gewogICAgICB0aGlzLm9uUXVpdCgpOwogICAgfSk7CiAgfSwKICBiZWZvcmVVbm1vdW50KCkgewogICAgdGhpcy5vblF1aXQoKTsKICB9Cn07"},{"version":3,"names":["HeadImage","RtcPrivateAcceptor","ImWebRtc","ImCamera","RtcPrivateApi","name","components","data","camera","webrtc","API","audio","Audio","showRoom","friend","isHost","state","mode","localStream","remoteStream","videoTime","videoTimer","heartbeatTimer","candidates","methods","open","rtcInfo","onCall","initAudio","url","require","src","loop","initRtc","init","configuration","setupPeerConnection","stream","$refs","remoteVideo","srcObject","onIcecandidate","candidate","sendCandidate","id","push","onStateChange","console","log","checkDevEnable","close","startHeartBeat","openStream","then","setStream","createOffer","offer","call","play","catch","onAccept","failed","pause","finally","createAnswer","answer","accept","startChatTime","waitTimer","clearTimeout","onReject","reject","onHandup","handup","$message","success","onCancel","cancel","onRTCMessage","msg","type","$enums","MESSAGE_TYPE","RTC_CALL_VOICE","RTC_CALL_VIDEO","isClose","onRTCCall","RTC_ACCEPT","onRTCAccept","RTC_REJECT","onRTCReject","RTC_CANCEL","onRTCCancel","RTC_FAILED","onRTCFailed","RTC_HANDUP","onRTCHandup","RTC_CANDIDATE","onRTCCandidate","JSON","parse","content","$http","sendId","method","setTimeout","error","selfSend","setRemoteDescription","forEach","addIceCandidate","Promise","resolve","isVideo","openVideo","$nextTick","localVideo","muted","e","message","openAudio","clearInterval","setInterval","isEnable","heartbeat","onQuit","isChating","isWaiting","computed","title","strTitle","modeText","nickName","currentTime","min","Math","floor","sec","strTime","iceServers","$store","configStore","mounted","created","window","addEventListener","beforeUnmount"],"sources":["src/components/rtc/RtcPrivateVideo.vue"],"sourcesContent":["<template>\n\t<div>\n\t\t<el-dialog v-dialogDrag :title=\"title\" top=\"5vh\" :close-on-click-modal=\"false\" :close-on-press-escape=\"false\"\n\t\t\t:visible.sync=\"showRoom\" width=\"50%\" height=\"70%\" :before-close=\"onQuit\">\n\t\t\t<div class=\"rtc-private-video\">\n\t\t\t\t<div v-show=\"isVideo\" class=\"rtc-video-box\">\n\t\t\t\t\t<div class=\"rtc-video-friend\" v-loading=\"!isChating\"  element-loading-text=\"等待对方接听...\"\n\t\t\t\t\t\telement-loading-background=\"rgba(0, 0, 0, 0.3)\" >\n\t\t\t\t\t\t<head-image class=\"friend-head-image\" :id=\"friend.id\" :size=\"80\" :name=\"friend.nickName\"\n\t\t\t\t\t\t\t:url=\"friend.headImage\">\n\t\t\t\t\t\t</head-image>\n\t\t\t\t\t\t<video ref=\"remoteVideo\" autoplay=\"\"></video>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"rtc-video-mine\">\n\t\t\t\t\t\t<video ref=\"localVideo\" autoplay=\"\"></video>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div v-show=\"!isVideo\" class=\"rtc-voice-box\" v-loading=\"!isChating\" element-loading-text=\"等待对方接听...\"\n\t\t\t\t\telement-loading-background=\"rgba(0, 0, 0, 0.3)\">\n\t\t\t\t\t<head-image class=\"friend-head-image\" :id=\"friend.id\" :size=\"200\" :name=\"friend.nickName\"\n\t\t\t\t\t\t:url=\"friend.headImage\">\n\t\t\t\t\t\t<div class=\"rtc-voice-name\">{{friend.nickName}}</div>\n\t\t\t\t\t</head-image>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"rtc-control-bar\">\n\t\t\t\t\t<div title=\"取消\" class=\"icon iconfont icon-phone-reject reject\"\n\t\t\t\t\t\tstyle=\"color: red;\" @click=\"onQuit()\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</el-dialog>\n\t\t<rtc-private-acceptor v-if=\"!isHost&&isWaiting\" ref=\"acceptor\" :friend=\"friend\" :mode=\"mode\" @accept=\"onAccept\"\n\t\t\t@reject=\"onReject\"></rtc-private-acceptor>\n\t</div>\n</template>\n\n<script>\n\timport HeadImage from '../common/HeadImage.vue';\n\timport RtcPrivateAcceptor from './RtcPrivateAcceptor.vue';\n\timport ImWebRtc from '@/api/webrtc';\n\timport ImCamera from '@/api/camera';\n\timport RtcPrivateApi from '@/api/rtcPrivateApi'\n\n\texport default {\n\t\tname: 'rtcPrivateVideo',\n\t\tcomponents: {\n\t\t\tHeadImage,\n\t\t\tRtcPrivateAcceptor\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tcamera: new ImCamera(), // 摄像头和麦克风\n\t\t\t\twebrtc: new ImWebRtc(), // webrtc相关\n\t\t\t\tAPI: new RtcPrivateApi(), // API\n\t\t\t\taudio: new Audio(), // 呼叫音频\n\t\t\t\tshowRoom: false,\n\t\t\t\tfriend: {},\n\t\t\t\tisHost: false, // 是否发起人\n\t\t\t\tstate: \"CLOSE\", // CLOSE:关闭  WAITING:等待呼叫或接听 CHATING:聊天中  ERROR:出现异常\n\t\t\t\tmode: 'video', // 模式 video:视频聊 voice:语音聊天\n\t\t\t\tlocalStream: null, // 本地视频流\n\t\t\t\tremoteStream: null, // 对方视频流\n\t\t\t\tvideoTime: 0,\n\t\t\t\tvideoTimer: null,\n\t\t\t\theartbeatTimer: null,\n\t\t\t\tcandidates: [],\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\topen(rtcInfo) {\n\t\t\t\tthis.showRoom = true;\n\t\t\t\tthis.mode = rtcInfo.mode;\n\t\t\t\tthis.isHost = rtcInfo.isHost;\n\t\t\t\tthis.friend = rtcInfo.friend;\n\t\t\t\tif (this.isHost) {\n\t\t\t\t\tthis.onCall();\n\t\t\t\t}\n\t\t\t},\n\t\t\tinitAudio() {\n\t\t\t\tlet url = require(`@/assets/audio/call.wav`);\n\t\t\t\tthis.audio.src = url;\n\t\t\t\tthis.audio.loop = true;\n\t\t\t},\n\t\t\tinitRtc() {\n\t\t\t\tthis.webrtc.init(this.configuration)\n\t\t\t\tthis.webrtc.setupPeerConnection((stream) => {\n\t\t\t\t\tthis.$refs.remoteVideo.srcObject = stream;\n\t\t\t\t\tthis.remoteStream = stream;\n\t\t\t\t})\n\t\t\t\t// 监听候选信息\n\t\t\t\tthis.webrtc.onIcecandidate((candidate) => {\n\t\t\t\t\tif (this.state == \"CHATING\") {\n\t\t\t\t\t\t// 连接已就绪,直接发送\n\t\t\t\t\t\tthis.API.sendCandidate(this.friend.id, candidate);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// 连接未就绪,缓存起来，连接后再发送\n\t\t\t\t\t\tthis.candidates.push(candidate)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t// 监听连接成功状态\n\t\t\t\tthis.webrtc.onStateChange((state) => {\n\t\t\t\t\tif (state == \"connected\") {\n\t\t\t\t\t\tconsole.log(\"webrtc连接成功\")\n\t\t\t\t\t} else if (state == \"disconnected\") {\n\t\t\t\t\t\tconsole.log(\"webrtc连接断开\")\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tonCall() {\n\t\t\t\tif (!this.checkDevEnable()) {\n\t\t\t\t\tthis.close();\n\t\t\t\t}\n\t\t\t\t// 初始化webrtc\n\t\t\t\tthis.initRtc();\n\t\t\t\t// 启动心跳\n\t\t\t\tthis.startHeartBeat();\n\t\t\t\t// 打开摄像头\n\t\t\t\tthis.openStream().then(() => {\n\t\t\t\t\tthis.webrtc.setStream(this.localStream);\n\t\t\t\t\tthis.webrtc.createOffer().then((offer) => {\n\t\t\t\t\t\t// 发起呼叫\n\t\t\t\t\t\tthis.API.call(this.friend.id, this.mode, offer).then(() => {\n\t\t\t\t\t\t\t// 直接进入聊天状态\n\t\t\t\t\t\t\tthis.state = \"WAITING\";\n\t\t\t\t\t\t\t// 播放呼叫铃声\n\t\t\t\t\t\t\tthis.audio.play();\n\t\t\t\t\t\t}).catch(()=>{\n\t\t\t\t\t\t\tthis.close();\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t}).catch(()=>{\n\t\t\t\t\t// 呼叫方必须能打开摄像头，否则无法正常建立连接\n\t\t\t\t\tthis.close();\n\t\t\t\t})\n\t\t\t},\n\t\t\tonAccept() {\n\t\t\t\tif (!this.checkDevEnable()) {\n\t\t\t\t\tthis.API.failed(this.friend.id, \"对方设备不支持通话\")\n\t\t\t\t\tthis.close();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// 进入房间\n\t\t\t\tthis.showRoom = true;\n\t\t\t\tthis.state = \"CHATING\";\n\t\t\t\t// 停止呼叫铃声\n\t\t\t\tthis.audio.pause();\n\t\t\t\t// 初始化webrtc\n\t\t\t\tthis.initRtc();\n\t\t\t\t// 打开摄像头\n\t\t\t\tthis.openStream().finally(() => {\n\t\t\t\t\tthis.webrtc.setStream(this.localStream);\n\t\t\t\t\tthis.webrtc.createAnswer(this.offer).then((answer) => {\n\t\t\t\t\t\tthis.API.accept(this.friend.id, answer);\n\t\t\t\t\t\t// 记录时长\n\t\t\t\t\t\tthis.startChatTime();\n\t\t\t\t\t\t// 清理定时器\n\t\t\t\t\t\tthis.waitTimer && clearTimeout(this.waitTimer);\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t},\n\t\t\tonReject() {\n\t\t\t\tconsole.log(\"onReject\")\n\t\t\t\t// 退出通话\n\t\t\t\tthis.API.reject(this.friend.id);\n\t\t\t\t// 退出\n\t\t\t\tthis.close();\n\t\t\t},\n\t\t\tonHandup() {\n\t\t\t\tthis.API.handup(this.friend.id)\n\t\t\t\tthis.$message.success(\"您已挂断,通话结束\")\n\t\t\t\tthis.close();\n\t\t\t},\n\t\t\tonCancel() {\n\t\t\t\tthis.API.cancel(this.friend.id)\n\t\t\t\tthis.$message.success(\"已取消呼叫,通话结束\")\n\t\t\t\tthis.close();\n\t\t\t},\n\t\t\tonRTCMessage(msg) {\n\t\t\t\t// 除了发起通话，如果在关闭状态就无需处理\n\t\t\t\tif (msg.type != this.$enums.MESSAGE_TYPE.RTC_CALL_VOICE &&\n\t\t\t\t\tmsg.type != this.$enums.MESSAGE_TYPE.RTC_CALL_VIDEO &&\n\t\t\t\t\tthis.isClose) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// RTC信令处理\n\t\t\t\tswitch (msg.type) {\n\t\t\t\t\tcase this.$enums.MESSAGE_TYPE.RTC_CALL_VOICE:\n\t\t\t\t\t\tthis.onRTCCall(msg, 'voice')\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase this.$enums.MESSAGE_TYPE.RTC_CALL_VIDEO:\n\t\t\t\t\t\tthis.onRTCCall(msg, 'video')\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase this.$enums.MESSAGE_TYPE.RTC_ACCEPT:\n\t\t\t\t\t\tthis.onRTCAccept(msg)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase this.$enums.MESSAGE_TYPE.RTC_REJECT:\n\t\t\t\t\t\tthis.onRTCReject(msg)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase this.$enums.MESSAGE_TYPE.RTC_CANCEL:\n\t\t\t\t\t\tthis.onRTCCancel(msg)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase this.$enums.MESSAGE_TYPE.RTC_FAILED:\n\t\t\t\t\t\tthis.onRTCFailed(msg)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase this.$enums.MESSAGE_TYPE.RTC_HANDUP:\n\t\t\t\t\t\tthis.onRTCHandup(msg)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase this.$enums.MESSAGE_TYPE.RTC_CANDIDATE:\n\t\t\t\t\t\tthis.onRTCCandidate(msg)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t},\n\t\t\tonRTCCall(msg, mode) {\n\t\t\t\tthis.offer = JSON.parse(msg.content);\n\t\t\t\tthis.isHost = false;\n\t\t\t\tthis.mode = mode;\n\t\t\t\tthis.$http({\n\t\t\t\t\turl: `/friend/find/${msg.sendId}`,\n\t\t\t\t\tmethod: 'get'\n\t\t\t\t}).then((friend) => {\n\t\t\t\t\tthis.friend = friend;\n\t\t\t\t\tthis.state = \"WAITING\";\n\t\t\t\t\tthis.audio.play();\n\t\t\t\t\tthis.startHeartBeat();\n\t\t\t\t\t// 30s未接听自动挂掉\n\t\t\t\t\tthis.waitTimer = setTimeout(() => {\n\t\t\t\t\t\tthis.API.failed(this.friend.id,\"对方无应答\");\n\t\t\t\t\t\tthis.$message.error(\"您未接听\");\n\t\t\t\t\t\tthis.close();\n\t\t\t\t\t}, 30000)\n\t\t\t\t})\n\t\t\t},\n\t\t\tonRTCAccept(msg) {\n\t\t\t\tif (msg.selfSend) {\n\t\t\t\t\t// 在其他设备接听\n\t\t\t\t\tthis.$message.success(\"已在其他设备接听\");\n\t\t\t\t\tthis.close();\n\t\t\t\t} else {\n\t\t\t\t\t// 对方接受了的通话\n\t\t\t\t\tlet offer = JSON.parse(msg.content);\n\t\t\t\t\tthis.webrtc.setRemoteDescription(offer);\n\t\t\t\t\t// 状态为聊天中\n\t\t\t\t\tthis.state = 'CHATING'\n\t\t\t\t\t// 停止播放语音\n\t\t\t\t\tthis.audio.pause();\n\t\t\t\t\t// 发送candidate\n\t\t\t\t\tthis.candidates.forEach((candidate) => {\n\t\t\t\t\t\tthis.API.sendCandidate(this.friend.id, candidate);\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t},\n\t\t\tonRTCReject(msg) {\n\t\t\t\tif (msg.selfSend) {\n\t\t\t\t\tthis.$message.success(\"已在其他设备拒绝\");\n\t\t\t\t\tthis.close();\n\t\t\t\t} else {\n\t\t\t\t\tthis.$message.error(\"对方拒绝了您的通话请求\");\n\t\t\t\t\tthis.close();\n\t\t\t\t}\n\t\t\t},\n\t\t\tonRTCFailed(msg) {\n\t\t\t\t// 呼叫失败\n\t\t\t\tthis.$message.error(msg.content)\n\t\t\t\tthis.close();\n\t\t\t},\n\t\t\tonRTCCancel() {\n\t\t\t\t// 对方取消通话\n\t\t\t\tthis.$message.success(\"对方取消了呼叫\");\n\t\t\t\tthis.close();\n\t\t\t},\n\t\t\tonRTCHandup() {\n\t\t\t\t// 对方挂断\n\t\t\t\tthis.$message.success(\"对方已挂断\");\n\t\t\t\tthis.close();\n\t\t\t},\n\t\t\tonRTCCandidate(msg) {\n\t\t\t\tlet candidate = JSON.parse(msg.content);\n\t\t\t\tthis.webrtc.addIceCandidate(candidate);\n\t\t\t},\n\n\t\t\topenStream() {\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\tif (this.isVideo) {\n\t\t\t\t\t\t// 打开摄像头+麦克风\n\t\t\t\t\t\tthis.camera.openVideo().then((stream) => {\n\t\t\t\t\t\t\tthis.localStream = stream;\n\t\t\t\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t\t\t\tthis.$refs.localVideo.srcObject = stream;\n\t\t\t\t\t\t\t\tthis.$refs.localVideo.muted = true;\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tresolve(stream);\n\t\t\t\t\t\t}).catch((e) => {\n\t\t\t\t\t\t\tthis.$message.error(\"打开摄像头失败\")\n\t\t\t\t\t\t\tconsole.log(\"本摄像头打开失败:\" + e.message)\n\t\t\t\t\t\t\treject(e);\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// 打开麦克风\n\t\t\t\t\t\tthis.camera.openAudio().then((stream) => {\n\t\t\t\t\t\t\tthis.localStream = stream;\n\t\t\t\t\t\t\tthis.$refs.localVideo.srcObject = stream;\n\t\t\t\t\t\t\tresolve(stream);\n\t\t\t\t\t\t}).catch((e) => {\n\t\t\t\t\t\t\tthis.$message.error(\"打开麦克风失败\")\n\t\t\t\t\t\t\tconsole.log(\"打开麦克风失败:\" + e.message)\n\t\t\t\t\t\t\treject(e);\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tstartChatTime() {\n\t\t\t\tthis.videoTime = 0;\n\t\t\t\tthis.videoTimer && clearInterval(this.videoTimer);\n\t\t\t\tthis.videoTimer = setInterval(() => {\n\t\t\t\t\tthis.videoTime++;\n\t\t\t\t}, 1000)\n\t\t\t},\n\t\t\tcheckDevEnable() {\n\t\t\t\t// 检测摄像头\n\t\t\t\tif (!this.camera.isEnable()) {\n\t\t\t\t\tthis.message.error(\"访问摄像头失败\");\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t// 检测webrtc\n\t\t\t\tif (!this.webrtc.isEnable()) {\n\t\t\t\t\tthis.message.error(\"初始化RTC失败，原因可能是: 1.服务器缺少ssl证书 2.您的设备不支持WebRTC\");\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tstartHeartBeat() {\n\t\t\t\t// 每15s推送一次心跳\n\t\t\t\tthis.heartbeatTimer && clearInterval(this.heartbeatTimer);\n\t\t\t\tthis.heartbeatTimer = setInterval(() => {\n\t\t\t\t\tthis.API.heartbeat(this.friend.id);\n\t\t\t\t}, 15000)\n\t\t\t},\n\t\t\tclose() {\n\t\t\t\tthis.showRoom = false;\n\t\t\t\tthis.camera.close();\n\t\t\t\tthis.webrtc.close();\n\t\t\t\tthis.audio.pause();\n\t\t\t\tthis.videoTime = 0;\n\t\t\t\tthis.videoTimer && clearInterval(this.videoTimer);\n\t\t\t\tthis.heartbeatTimer && clearInterval(this.heartbeatTimer);\n\t\t\t\tthis.waitTimer && clearTimeout(this.waitTimer);\n\t\t\t\tthis.videoTimer = null;\n\t\t\t\tthis.heartbeatTimer = null;\n\t\t\t\tthis.waitTimer = null;\n\t\t\t\tthis.state = 'CLOSE';\n\t\t\t\tthis.candidates = [];\n\t\t\t},\n\t\t\tonQuit() {\n\t\t\t\tif (this.isChating) {\n\t\t\t\t\tthis.onHandup()\n\t\t\t\t} else if (this.isWaiting) {\n\t\t\t\t\tthis.onCancel();\n\t\t\t\t} else {\n\t\t\t\t\tthis.close();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\ttitle() {\n\t\t\t\tlet strTitle = `${this.modeText}通话-${this.friend.nickName}`;\n\t\t\t\tif (this.isChating) {\n\t\t\t\t\tstrTitle += `(${this.currentTime})`;\n\t\t\t\t} else if (this.isWaiting) {\n\t\t\t\t\tstrTitle += `(呼叫中)`;\n\t\t\t\t}\n\t\t\t\treturn strTitle;\n\t\t\t},\n\t\t\tcurrentTime() {\n\t\t\t\tlet min = Math.floor(this.videoTime / 60);\n\t\t\t\tlet sec = this.videoTime % 60;\n\t\t\t\tlet strTime = min < 10 ? \"0\" : \"\";\n\t\t\t\tstrTime += min;\n\t\t\t\tstrTime += \":\"\n\t\t\t\tstrTime += sec < 10 ? \"0\" : \"\";\n\t\t\t\tstrTime += sec;\n\t\t\t\treturn strTime;\n\t\t\t},\n\t\t\tconfiguration() {\n\t\t\t\tconst iceServers = this.$store.state.configStore.webrtc.iceServers;\n\t\t\t\treturn {\n\t\t\t\t\ticeServers: iceServers\n\t\t\t\t}\n\t\t\t},\n\t\t\tisVideo() {\n\t\t\t\treturn this.mode == \"video\"\n\t\t\t},\n\t\t\tmodeText() {\n\t\t\t\treturn this.isVideo ? \"视频\" : \"语音\";\n\t\t\t},\n\t\t\tisChating() {\n\t\t\t\treturn this.state == \"CHATING\";\n\t\t\t},\n\t\t\tisWaiting() {\n\t\t\t\treturn this.state == \"WAITING\";\n\t\t\t},\n\t\t\tisClose() {\n\t\t\t\treturn this.state == \"CLOSE\";\n\t\t\t}\n\t\t},\n\t\tmounted() {\n\t\t\t// 初始化音频文件\n\t\t\tthis.initAudio();\n\t\t},\n\t\tcreated() {\n\t\t\t// 监听页面刷新事件\n\t\t\twindow.addEventListener('beforeunload', () => {\n\t\t\t\tthis.onQuit();\n\t\t\t});\n\t\t},\n\t\tbeforeUnmount() {\n\t\t\tthis.onQuit();\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n\t.rtc-private-video {\n\t\tposition: relative;\n\n\t\t.el-loading-text {\n\t\t\tcolor: white !important;\n\t\t\tfont-size: 16px !important;\n\t\t}\n\n\t\t.path {\n\t\t\tstroke: white !important;\n\t\t}\n\n\t\t.rtc-video-box {\n\t\t\tposition: relative;\n\t\t\tborder: #4880b9 solid 1px;\n\t\t\tbackground-color: #eeeeee;\n\n\t\t\t.rtc-video-friend {\n\t\t\t\theight: 70vh;\n\n\t\t\t\t.friend-head-image {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t}\n\n\t\t\t\tvideo {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tobject-fit: cover;\n\t\t\t\t\ttransform: rotateY(180deg);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.rtc-video-mine {\n\t\t\t\tposition: absolute;\n\t\t\t\tz-index: 99999;\n\t\t\t\twidth: 25vh;\n\t\t\t\tright: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tbox-shadow: 0px 0px 5px #ccc;\n\t\t\t\tbackground-color: #cccccc;\n\n\t\t\t\tvideo {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tobject-fit: cover;\n\t\t\t\t\ttransform: rotateY(180deg);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t.rtc-voice-box {\n\t\t\tposition: relative;\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: center;\n\t\t\tborder: #4880b9 solid 1px;\n\t\t\twidth: 100%;\n\t\t\theight: 50vh;\n\t\t\tpadding-top: 10vh;\n\t\t\tbackground-color: aliceblue;\n\n\t\t\t.rtc-voice-name {\n\t\t\t\ttext-align: center;\n\t\t\t\tfont-size: 22px;\n\t\t\t\tfont-weight: 600;\n\t\t\t}\n\t\t}\n\n\t\t.rtc-control-bar {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-around;\n\t\t\tpadding: 10px;\n\n\t\t\t.icon {\n\t\t\t\tfont-size: 50px;\n\t\t\t\tcursor: pointer;\n\t\t\t}\n\t\t}\n\t}\n</style>"],"mappings":"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","ignoreList":[]}]}