{"remainingRequest":"/home/d/github/box-im/im-web/node_modules/babel-loader/lib/index.js!/home/d/github/box-im/im-web/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/d/github/box-im/im-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/d/github/box-im/im-web/src/components/common/HeadImage.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/d/github/box-im/im-web/src/components/common/HeadImage.vue","mtime":1727013808920},{"path":"/home/d/github/box-im/im-web/babel.config.js","mtime":1727013808912},{"path":"/home/d/github/box-im/im-web/node_modules/cache-loader/dist/cjs.js","mtime":1727014166207},{"path":"/home/d/github/box-im/im-web/node_modules/babel-loader/lib/index.js","mtime":1727014166227},{"path":"/home/d/github/box-im/im-web/node_modules/cache-loader/dist/cjs.js","mtime":1727014166207},{"path":"/home/d/github/box-im/im-web/node_modules/vue-loader/lib/index.js","mtime":1727014163811}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJoZWFkSW1hZ2UiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb2xvcnM6IFsiIzdkZDI0YiIsICIjYzc1MTVhIiwgIiNkYjY4ZWYiLCAiIzE1ZDI5YiIsICIjODUwMjliIiwgIiNjOWI0NTUiLCAiI2ZiMjYwOSIsICIjYmRhODE4IiwgIiNhZjA4MzEiLCAiIzMyNmViNiJdCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIGlkOiB7CiAgICAgIHR5cGU6IE51bWJlcgogICAgfSwKICAgIHNpemU6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiA1MAogICAgfSwKICAgIHdpZHRoOiB7CiAgICAgIHR5cGU6IE51bWJlcgogICAgfSwKICAgIGhlaWdodDogewogICAgICB0eXBlOiBOdW1iZXIKICAgIH0sCiAgICByYWRpdXM6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiMTAlIgogICAgfSwKICAgIHVybDogewogICAgICB0eXBlOiBTdHJpbmcKICAgIH0sCiAgICBuYW1lOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogIj8iCiAgICB9LAogICAgb25saW5lOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzaG93VXNlckluZm8oZSkgewogICAgICBpZiAodGhpcy5pZCAmJiB0aGlzLmlkID4gMCkgewogICAgICAgIHRoaXMuJGh0dHAoewogICAgICAgICAgdXJsOiBgL3VzZXIvZmluZC8ke3RoaXMuaWR9YCwKICAgICAgICAgIG1ldGhvZDogJ2dldCcKICAgICAgICB9KS50aGVuKHVzZXIgPT4gewogICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRVc2VySW5mb0JveFBvcyIsIGUpOwogICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzaG93VXNlckluZm9Cb3giLCB1c2VyKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGF2YXRhckltYWdlU3R5bGUoKSB7CiAgICAgIGxldCB3ID0gdGhpcy53aWR0aCA/IHRoaXMud2lkdGggOiB0aGlzLnNpemU7CiAgICAgIGxldCBoID0gdGhpcy5oZWlnaHQgPyB0aGlzLmhlaWdodCA6IHRoaXMuc2l6ZTsKICAgICAgcmV0dXJuIGB3aWR0aDoke3d9cHg7IGhlaWdodDoke2h9cHg7CgkJCQkJYm9yZGVyLXJhZGl1czogJHt0aGlzLnJhZGl1c307YDsKICAgIH0sCiAgICBhdmF0YXJUZXh0U3R5bGUoKSB7CiAgICAgIGxldCB3ID0gdGhpcy53aWR0aCA/IHRoaXMud2lkdGggOiB0aGlzLnNpemU7CiAgICAgIGxldCBoID0gdGhpcy5oZWlnaHQgPyB0aGlzLmhlaWdodCA6IHRoaXMuc2l6ZTsKICAgICAgcmV0dXJuIGB3aWR0aDogJHt3fXB4O2hlaWdodDoke2h9cHg7CgkJCQkJY29sb3I6JHt0aGlzLnRleHRDb2xvcn07Zm9udC1zaXplOiR7dyAqIDAuNn1weDsKCQkJCQlib3JkZXItcmFkaXVzOiAke3RoaXMucmFkaXVzfTtgOwogICAgfSwKICAgIHRleHRDb2xvcigpIHsKICAgICAgbGV0IGhhc2ggPSAwOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubmFtZS5sZW5ndGg7IGkrKykgewogICAgICAgIGhhc2ggKz0gdGhpcy5uYW1lLmNoYXJDb2RlQXQoaSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMuY29sb3JzW2hhc2ggJSB0aGlzLmNvbG9ycy5sZW5ndGhdOwogICAgfQogIH0KfTs="},{"version":3,"names":["name","data","colors","props","id","type","Number","size","default","width","height","radius","String","url","online","Boolean","methods","showUserInfo","e","$http","method","then","user","$store","commit","computed","avatarImageStyle","w","h","avatarTextStyle","textColor","hash","i","length","charCodeAt"],"sources":["src/components/common/HeadImage.vue"],"sourcesContent":["<template>\n\t<div class=\"head-image\" @click=\"showUserInfo($event)\">\n\t\t<img class=\"avatar-image\" v-show=\"url\" :src=\"url\" \n\t\t\t:style=\"avatarImageStyle\" loading=\"lazy\" />\n\t\t<div class=\"avatar-text\" v-show=\"!url\" :style=\"avatarTextStyle\">\n\t\t\t{{name.substring(0,1).toUpperCase()}}</div>\n\t\t<div v-show=\"online\" class=\"online\" title=\"用户当前在线\"></div>\n\t\t<slot></slot>\n\t</div>\n</template>\n\n<script>\n\n\texport default {\n\t\tname: \"headImage\",\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tcolors:[\"#7dd24b\",\"#c7515a\",\"#db68ef\",\"#15d29b\",\"#85029b\",\n\t\t\t\t\"#c9b455\",\"#fb2609\",\"#bda818\",\"#af0831\",\"#326eb6\"]\n\n\t\t\t}\n\t\t},\n\t\tprops: {\n\t\t\tid:{\n\t\t\t\ttype: Number\n\t\t\t},\n\t\t\tsize: {\n\t\t\t\ttype: Number,\n\t\t\t\tdefault: 50\n\t\t\t},\n\t\t\twidth: {\n\t\t\t\ttype: Number\n\t\t\t},\n\t\t\theight: {\n\t\t\t\ttype: Number\n\t\t\t},\n\t\t\tradius:{\n\t\t\t\ttype: String,\n\t\t\t\tdefault: \"10%\"\n\t\t\t},\n\t\t\turl: {\n\t\t\t\ttype: String\n\t\t\t},\n\t\t\tname:{\n\t\t\t\ttype: String,\n\t\t\t\tdefault: \"?\"\n\t\t\t},\n\t\t\tonline:{\n\t\t\t\ttype: Boolean,\n\t\t\t\tdefault:false\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\tshowUserInfo(e){\n\t\t\t\tif(this.id && this.id>0){\n\t\t\t\t\tthis.$http({\n\t\t\t\t\t\turl: `/user/find/${this.id}`,\n\t\t\t\t\t\tmethod: 'get'\n\t\t\t\t\t}).then((user) => {\n\t\t\t\t\t\tthis.$store.commit(\"setUserInfoBoxPos\",e);\n\t\t\t\t\t\tthis.$store.commit(\"showUserInfoBox\",user);\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcomputed:{\n\t\t\tavatarImageStyle() {\n\t\t\t\tlet w = this.width ? this.width : this.size;\n\t\t\t\tlet h = this.height ? this.height : this.size;\n\t\t\t\treturn `width:${w}px; height:${h}px;\n\t\t\t\t\tborder-radius: ${this.radius};`\n\t\t\t},\n\t\t\tavatarTextStyle() {\n\t\t\t\tlet w = this.width ? this.width : this.size;\n\t\t\t\tlet h = this.height ? this.height : this.size;\n\t\t\t\treturn `width: ${w}px;height:${h}px;\n\t\t\t\t\tcolor:${this.textColor};font-size:${w*0.6}px;\n\t\t\t\t\tborder-radius: ${this.radius};`\n\t\t\t},\n\t\t\ttextColor(){\n\t\t\t\tlet hash = 0;\n\t\t\t\tfor (var i = 0; i< this.name.length; i++) {\n\t\t\t\t\thash += this.name.charCodeAt(i);\n\t\t\t\t}\n\t\t\t\treturn this.colors[hash%this.colors.length];\n\t\t\t}\n\t\t}\t\n\t}\n</script>\n\n<style scoped lang=\"scss\">\n\t.head-image {\n\t\tposition: relative;\n\t\tcursor: pointer;\n\t\t.avatar-image {\n\t\t\tposition: relative;\n\t\t\toverflow: hidden;\n\t\t\tdisplay: block;\n\t\t}\n\t\t\n\t\t.avatar-text{\n\t\t\tbackground-color: #f2f2f2; /* 默认背景色 */\n\t\t\tborder-radius: 15%; /* 圆角效果 */\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tborder: 1px solid #ccc;\n\t\t} \n\t\t\n\t\t.online{\n\t\t\tposition: absolute;\n\t\t\tright: -5px;\n\t\t\tbottom: 0;\n\t\t\twidth: 12px;\n\t\t\theight: 12px;\n\t\t\tbackground: limegreen;\n\t\t\tborder-radius: 50%;\n\t\t\tborder: 3px solid white;\n\t\t}\n\t}\n</style>\n"],"mappings":"AAaA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,MAAA,0DACA;IAEA;EACA;EACAC,KAAA;IACAC,EAAA;MACAC,IAAA,EAAAC;IACA;IACAC,IAAA;MACAF,IAAA,EAAAC,MAAA;MACAE,OAAA;IACA;IACAC,KAAA;MACAJ,IAAA,EAAAC;IACA;IACAI,MAAA;MACAL,IAAA,EAAAC;IACA;IACAK,MAAA;MACAN,IAAA,EAAAO,MAAA;MACAJ,OAAA;IACA;IACAK,GAAA;MACAR,IAAA,EAAAO;IACA;IACAZ,IAAA;MACAK,IAAA,EAAAO,MAAA;MACAJ,OAAA;IACA;IACAM,MAAA;MACAT,IAAA,EAAAU,OAAA;MACAP,OAAA;IACA;EACA;EACAQ,OAAA;IACAC,aAAAC,CAAA;MACA,SAAAd,EAAA,SAAAA,EAAA;QACA,KAAAe,KAAA;UACAN,GAAA,qBAAAT,EAAA;UACAgB,MAAA;QACA,GAAAC,IAAA,CAAAC,IAAA;UACA,KAAAC,MAAA,CAAAC,MAAA,sBAAAN,CAAA;UACA,KAAAK,MAAA,CAAAC,MAAA,oBAAAF,IAAA;QACA;MACA;IACA;EACA;EACAG,QAAA;IACAC,iBAAA;MACA,IAAAC,CAAA,QAAAlB,KAAA,QAAAA,KAAA,QAAAF,IAAA;MACA,IAAAqB,CAAA,QAAAlB,MAAA,QAAAA,MAAA,QAAAH,IAAA;MACA,gBAAAoB,CAAA,cAAAC,CAAA;AACA,2BAAAjB,MAAA;IACA;IACAkB,gBAAA;MACA,IAAAF,CAAA,QAAAlB,KAAA,QAAAA,KAAA,QAAAF,IAAA;MACA,IAAAqB,CAAA,QAAAlB,MAAA,QAAAA,MAAA,QAAAH,IAAA;MACA,iBAAAoB,CAAA,aAAAC,CAAA;AACA,kBAAAE,SAAA,cAAAH,CAAA;AACA,2BAAAhB,MAAA;IACA;IACAmB,UAAA;MACA,IAAAC,IAAA;MACA,SAAAC,CAAA,MAAAA,CAAA,QAAAhC,IAAA,CAAAiC,MAAA,EAAAD,CAAA;QACAD,IAAA,SAAA/B,IAAA,CAAAkC,UAAA,CAAAF,CAAA;MACA;MACA,YAAA9B,MAAA,CAAA6B,IAAA,QAAA7B,MAAA,CAAA+B,MAAA;IACA;EACA;AACA","ignoreList":[]}]}