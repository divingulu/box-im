{"remainingRequest":"/home/d/github/box-im/im-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/d/github/box-im/im-web/src/components/group/GroupMemberSelector.vue?vue&type=style&index=0&id=4f385968&lang=scss","dependencies":[{"path":"/home/d/github/box-im/im-web/src/components/group/GroupMemberSelector.vue","mtime":1727013808920},{"path":"/home/d/github/box-im/im-web/node_modules/css-loader/dist/cjs.js","mtime":1727014164027},{"path":"/home/d/github/box-im/im-web/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1727014163855},{"path":"/home/d/github/box-im/im-web/node_modules/postcss-loader/src/index.js","mtime":1727014163867},{"path":"/home/d/github/box-im/im-web/node_modules/sass-loader/dist/cjs.js","mtime":1727014166331},{"path":"/home/d/github/box-im/im-web/node_modules/cache-loader/dist/cjs.js","mtime":1727014166207},{"path":"/home/d/github/box-im/im-web/node_modules/vue-loader/lib/index.js","mtime":1727014163811}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5ncm91cC1tZW1iZXItc2VsZWN0b3IgewoJZGlzcGxheTogZmxleDsKCgkubGVmdC1ib3ggewoJCXdpZHRoOiA0OCU7CgkJYm9yZGVyOiAjNTg3RkYwIHNvbGlkIDFweDsKCQlib3JkZXItcmFkaXVzOiA1cHg7CgkJb3ZlcmZsb3c6IGhpZGRlbjsKCX0KCgoJLmFycm93IHsKCQlkaXNwbGF5OiBmbGV4OwoJCWFsaWduLWl0ZW1zOiBjZW50ZXI7CgkJZm9udC1zaXplOiAyMHB4OwoJCXBhZGRpbmc6IDEwcHg7CgkJZm9udC13ZWlnaHQ6IDYwMDsKCQljb2xvcjogIzY4N0ZmMDsKCX0KCgkucmlnaHQtYm94IHsKCgkJd2lkdGg6IDQ4JTsKCQlib3JkZXI6ICM1ODdGRjAgc29saWQgMXB4OwoJCWJvcmRlci1yYWRpdXM6IDVweDsKCgkJLnNlbGVjdC10aXAgewoJCQl0ZXh0LWFsaWduOiBsZWZ0OwoJCQloZWlnaHQ6IDQwcHg7CgkJCWxpbmUtaGVpZ2h0OiA0MHB4OwoJCQl0ZXh0LWluZGVudDogNXB4OwoJCX0KCgkJLmNoZWNrZWQtbWVtYmVyLWxpc3QgewoJCQlwYWRkaW5nOiAxMHB4OwoJCQlkaXNwbGF5OiBmbGV4OwoJCQlmbGV4LWRpcmVjdGlvbjogcm93OwoJCQlmbGV4LXdyYXA6IHdyYXA7CgoJCQkubWVtYmVyLWl0ZW0gewoJCQkJcGFkZGluZzogMnB4OwoJCQl9CgkJfQoJfQp9Cg=="},{"version":3,"sources":["GroupMemberSelector.vue"],"names":[],"mappings":";AAiKA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"GroupMemberSelector.vue","sourceRoot":"src/components/group","sourcesContent":["<template>\n\t<el-dialog title=\"选择成员\" :visible.sync=\"isShow\" width=\"50%\">\n\t\t<div class=\"group-member-selector\">\n\t\t\t<div class=\"left-box\">\n\t\t\t\t<el-input placeholder=\"搜索\" v-model=\"searchText\">\n\t\t\t\t\t<i class=\"el-icon-search el-input__icon\" slot=\"suffix\"> </i>\n\t\t\t\t</el-input>\n\t\t\t\t<el-scrollbar style=\"height:400px;\">\n\t\t\t\t\t<div v-for=\"m in members\" :key=\"m.userId\">\n\t\t\t\t\t\t<group-member-item v-show=\"!m.quit&&m.showNickName.includes(searchText)\"\n\t\t\t\t\t\t\t:member=\"m\" @click.native=\"onClickMember(m)\">\n\t\t\t\t\t\t\t<el-checkbox :disabled=\"m.locked\" v-model=\"m.checked\" @change=\"onChange(m)\"\n\t\t\t\t\t\t\t\t@click.native.stop=\"\"></el-checkbox>\n\t\t\t\t\t\t</group-member-item>\n\t\t\t\t\t</div>\n\t\t\t\t</el-scrollbar>\n\t\t\t</div>\n\t\t\t<div class=\"arrow el-icon-d-arrow-right\"></div>\n\t\t\t<div class=\"right-box\">\n\t\t\t\t<div class=\"select-tip\"> 已勾选{{checkedMembers.length}}位成员</div>\n\t\t\t\t<div class=\"checked-member-list\">\n\t\t\t\t\t<div v-for=\"m in members\" :key=\"m.userId\">\n\t\t\t\t\t\t<group-member class=\"member-item\" v-if=\"m.checked\" :member=\"m\"></group-member>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<span slot=\"footer\" class=\"dialog-footer\">\n\t\t\t<el-button @click=\"close()\">取 消</el-button>\n\t\t\t<el-button type=\"primary\" @click=\"ok()\">确 定</el-button>\n\t\t</span>\n\t</el-dialog>\n</template>\n\n<script>\n\timport GroupMemberItem from './GroupMemberItem.vue';\n\timport GroupMember from './GroupMember.vue';\n\n\texport default {\n\t\tname: \"addGroupMember\",\n\t\tcomponents: {\n\t\t\tGroupMemberItem,\n\t\t\tGroupMember\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tisShow: false,\n\t\t\t\tsearchText: \"\",\n\t\t\t\tmaxSize: -1,\n\t\t\t\tmembers: []\n\t\t\t}\n\t\t},\n\t\tprops: {\n\t\t\tgroupId: {\n\t\t\t\ttype: Number\n\t\t\t}\t\n\t\t},\n\t\tmethods: {\n\t\t\topen(maxSize, checkedIds, lockedIds) {\n\t\t\t\tthis.maxSize = maxSize;\n\t\t\t\tthis.isShow = true;\n\t\t\t\tthis.loadGroupMembers(checkedIds, lockedIds);\n\t\t\t},\n\t\t\tloadGroupMembers(checkedIds, lockedIds) {\n\t\t\t\tthis.$http({\n\t\t\t\t\turl: `/group/members/${this.groupId}`,\n\t\t\t\t\tmethod: 'get'\n\t\t\t\t}).then((members) => {\n\t\t\t\t\tmembers.forEach((m) => {\n\t\t\t\t\t\t// 默认选择和锁定的用户\n\t\t\t\t\t\tm.checked = checkedIds.indexOf(m.userId) >= 0;\n\t\t\t\t\t\tm.locked = lockedIds.indexOf(m.userId) >= 0;\n\t\t\t\t\t});\n\t\t\t\t\tthis.members = members;\n\t\t\t\t});\n\t\t\t},\n\t\t\tonClickMember(m) {\n\t\t\t\tif (!m.locked) {\n\t\t\t\t\tm.checked = !m.checked;\n\t\t\t\t}\n\t\t\t\tif (this.checkedMembers.length > this.maxSize) {\n\t\t\t\t\tthis.$message.error(`最多选择${this.maxSize}位成员`)\n\t\t\t\t\tm.checked = false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tonChange(m) {\n\t\t\t\tif (this.checkedMembers.length > this.maxSize) {\n\t\t\t\t\tthis.$message.error(`最多选择${this.maxSize}位成员`)\n\t\t\t\t\tm.checked = false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tok() {\n\t\t\t\tthis.$emit(\"complete\", this.checkedMembers);\n\t\t\t\tthis.isShow = false;\n\t\t\t},\n\t\t\tclose() {\n\t\t\t\tthis.isShow = false;\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\tcheckedMembers() {\n\t\t\t\tlet ids = [];\n\t\t\t\tthis.members.forEach((m) => {\n\t\t\t\t\tif (m.checked) {\n\t\t\t\t\t\tids.push(m);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\treturn ids;\n\t\t\t}\n\t\t}\n\n\t}\n</script>\n\n<style lang=\"scss\">\n\t.group-member-selector {\n\t\tdisplay: flex;\n\n\t\t.left-box {\n\t\t\twidth: 48%;\n\t\t\tborder: #587FF0 solid 1px;\n\t\t\tborder-radius: 5px;\n\t\t\toverflow: hidden;\n\t\t}\n\n\n\t\t.arrow {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tfont-size: 20px;\n\t\t\tpadding: 10px;\n\t\t\tfont-weight: 600;\n\t\t\tcolor: #687Ff0;\n\t\t}\n\n\t\t.right-box {\n\n\t\t\twidth: 48%;\n\t\t\tborder: #587FF0 solid 1px;\n\t\t\tborder-radius: 5px;\n\n\t\t\t.select-tip {\n\t\t\t\ttext-align: left;\n\t\t\t\theight: 40px;\n\t\t\t\tline-height: 40px;\n\t\t\t\ttext-indent: 5px;\n\t\t\t}\n\n\t\t\t.checked-member-list {\n\t\t\t\tpadding: 10px;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\tflex-wrap: wrap;\n\n\t\t\t\t.member-item {\n\t\t\t\t\tpadding: 2px;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</style>"]}]}