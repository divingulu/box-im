{"remainingRequest":"/home/d/github/box-im/im-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/d/github/box-im/im-web/src/view/Home.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/d/github/box-im/im-web/src/view/Home.vue","mtime":1727013808920},{"path":"/home/d/github/box-im/im-web/node_modules/cache-loader/dist/cjs.js","mtime":1727014166207},{"path":"/home/d/github/box-im/im-web/node_modules/babel-loader/lib/index.js","mtime":1727014166227},{"path":"/home/d/github/box-im/im-web/node_modules/cache-loader/dist/cjs.js","mtime":1727014166207},{"path":"/home/d/github/box-im/im-web/node_modules/vue-loader/lib/index.js","mtime":1727014163811}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CglpbXBvcnQgSGVhZEltYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvY29tbW9uL0hlYWRJbWFnZS52dWUnOwoJaW1wb3J0IFNldHRpbmcgZnJvbSAnLi4vY29tcG9uZW50cy9zZXR0aW5nL1NldHRpbmcudnVlJzsKCWltcG9ydCBVc2VySW5mbyBmcm9tICcuLi9jb21wb25lbnRzL2NvbW1vbi9Vc2VySW5mby52dWUnOwoJaW1wb3J0IEZ1bGxJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL2NvbW1vbi9GdWxsSW1hZ2UudnVlJzsKCWltcG9ydCBSdGNQcml2YXRlVmlkZW8gZnJvbSAnLi4vY29tcG9uZW50cy9ydGMvUnRjUHJpdmF0ZVZpZGVvLnZ1ZSc7CglpbXBvcnQgUnRjUHJpdmF0ZUFjY2VwdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvcnRjL1J0Y1ByaXZhdGVBY2NlcHRvci52dWUnOwoJaW1wb3J0IFJ0Y0dyb3VwVmlkZW8gZnJvbSAnLi4vY29tcG9uZW50cy9ydGMvUnRjR3JvdXBWaWRlby52dWUnOwoKCWV4cG9ydCBkZWZhdWx0IHsKCQljb21wb25lbnRzOiB7CgkJCUhlYWRJbWFnZSwKCQkJU2V0dGluZywKCQkJVXNlckluZm8sCgkJCUZ1bGxJbWFnZSwKCQkJUnRjUHJpdmF0ZVZpZGVvLAoJCQlSdGNQcml2YXRlQWNjZXB0b3IsCgkJCVJ0Y0dyb3VwVmlkZW8KCQl9LAoJCWRhdGEoKSB7CgkJCXJldHVybiB7CgkJCQlzaG93U2V0dGluZ0RpYWxvZzogZmFsc2UsCgkJCQlsYXN0UGxheUF1ZGlvVGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCkgLSAxMDAwCgkJCX0KCQl9LAoJCW1ldGhvZHM6IHsKCQkJaW5pdCgpIHsKCQkJCXRoaXMuJGV2ZW50QnVzLiRvbignb3BlblByaXZhdGVWaWRlbycsIChyY3RJbmZvKSA9PiB7CgkJCQkJLy8g6L+b5YWl5Y2V5Lq66KeG6aKR6YCa6K+dCgkJCQkJdGhpcy4kcmVmcy5ydGNQcml2YXRlVmlkZW8ub3BlbihyY3RJbmZvKTsKCQkJCX0pOwoJCQkJdGhpcy4kZXZlbnRCdXMuJG9uKCdvcGVuR3JvdXBWaWRlbycsIChyY3RJbmZvKSA9PiB7CgkJCQkJLy8g6L+b5YWl5aSa5Lq66KeG6aKR6YCa6K+dCgkJCQkJdGhpcy4kcmVmcy5ydGNHcm91cFZpZGVvLm9wZW4ocmN0SW5mbyk7CgkJCQl9KTsKCgkJCQl0aGlzLiRzdG9yZS5kaXNwYXRjaCgibG9hZCIpLnRoZW4oKCkgPT4gewoJCQkJCS8vIHdz5Yid5aeL5YyWCgkJCQkJdGhpcy4kd3NBcGkuY29ubmVjdChwcm9jZXNzLmVudi5WVUVfQVBQX1dTX1VSTCwgc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiYWNjZXNzVG9rZW4iKSk7CgkJCQkJdGhpcy4kd3NBcGkub25Db25uZWN0KCgpID0+IHsKCQkJCQkJLy8g5Yqg6L2956a757q/5raI5oGvCgkJCQkJCXRoaXMucHVsbFByaXZhdGVPZmZsaW5lTWVzc2FnZSh0aGlzLiRzdG9yZS5zdGF0ZS5jaGF0U3RvcmUucHJpdmF0ZU1zZ01heElkKTsKCQkJCQkJdGhpcy5wdWxsR3JvdXBPZmZsaW5lTWVzc2FnZSh0aGlzLiRzdG9yZS5zdGF0ZS5jaGF0U3RvcmUuZ3JvdXBNc2dNYXhJZCk7CgkJCQkJfSk7CgkJCQkJdGhpcy4kd3NBcGkub25NZXNzYWdlKChjbWQsIG1zZ0luZm8pID0+IHsKCQkJCQkJaWYgKGNtZCA9PSAyKSB7CgkJCQkJCQkvLyDlhbPpl613cwoJCQkJCQkJdGhpcy4kd3NBcGkuY2xvc2UoMzAwMCkKCQkJCQkJCS8vIOW8guWcsOeZu+W9le+8jOW8uuWItuS4i+e6vwoJCQkJCQkJdGhpcy4kYWxlcnQoIuaCqOW3suWcqOWFtuS7luWcsOaWueeZu+mZhu+8jOWwhuiiq+W8uuWItuS4i+e6vyIsICLlvLrliLbkuIvnur/pgJrnn6UiLCB7CgkJCQkJCQkJY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAoJCQkJCQkJCWNhbGxiYWNrOiBhY3Rpb24gPT4gewoJCQkJCQkJCQlsb2NhdGlvbi5ocmVmID0gIi8iOwoJCQkJCQkJCX0KCQkJCQkJCX0pOwoKCQkJCQkJfSBlbHNlIGlmIChjbWQgPT0gMykgewoJCQkJCQkJLy8g5o+S5YWl56eB6IGK5raI5oGvCgkJCQkJCQl0aGlzLmhhbmRsZVByaXZhdGVNZXNzYWdlKG1zZ0luZm8pOwoJCQkJCQl9IGVsc2UgaWYgKGNtZCA9PSA0KSB7CgkJCQkJCQkvLyDmj5LlhaXnvqTogYrmtojmga8KCQkJCQkJCXRoaXMuaGFuZGxlR3JvdXBNZXNzYWdlKG1zZ0luZm8pOwoJCQkJCQl9IGVsc2UgaWYgKGNtZCA9PSA1KXsKCQkJCQkJCS8vIOWkhOeQhuezu+e7n+a2iOaBrwoJCQkJCQkJdGhpcy5oYW5kbGVTeXN0ZW1NZXNzYWdlKG1zZ0luZm8pOwoJCQkJCQl9CgkJCQkJfSk7CgkJCQkJdGhpcy4kd3NBcGkub25DbG9zZSgoZSkgPT4gewoJCQkJCQljb25zb2xlLmxvZyhlKTsKCQkJCQkJaWYgKGUuY29kZSAhPSAzMDAwKSB7CgkJCQkJCQkvLyDmlq3nur/ph43ov54KCQkJCQkJCXRoaXMuJG1lc3NhZ2UuZXJyb3IoIui/nuaOpeaWreW8gO+8jOato+WcqOWwneivlemHjeaWsOi/nuaOpS4uLiIpOwoJCQkJCQkJdGhpcy4kd3NBcGkucmVjb25uZWN0KHByb2Nlc3MuZW52LlZVRV9BUFBfV1NfVVJMLCBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKAoJCQkJCQkJCSJhY2Nlc3NUb2tlbiIpKTsKCQkJCQkJfQoJCQkJCX0pOwoJCQkJfSkuY2F0Y2goKGUpID0+IHsKCQkJCQljb25zb2xlLmxvZygi5Yid5aeL5YyW5aSx6LSlIiwgZSk7CgkJCQl9KQoJCQl9LAoJCQlwdWxsUHJpdmF0ZU9mZmxpbmVNZXNzYWdlKG1pbklkKSB7CgkJCQl0aGlzLiRzdG9yZS5jb21taXQoImxvYWRpbmdQcml2YXRlTXNnIiwgdHJ1ZSkKCQkJCXRoaXMuJGh0dHAoewoJCQkJCXVybDogIi9tZXNzYWdlL3ByaXZhdGUvcHVsbE9mZmxpbmVNZXNzYWdlP21pbklkPSIgKyBtaW5JZCwKCQkJCQltZXRob2Q6ICdHRVQnCgkJCQl9KS5jYXRjaCgoKSA9PiB7CgkJCQkJdGhpcy4kc3RvcmUuY29tbWl0KCJsb2FkaW5nUHJpdmF0ZU1zZyIsIGZhbHNlKQoJCQkJfSkKCQkJfSwKCQkJcHVsbEdyb3VwT2ZmbGluZU1lc3NhZ2UobWluSWQpIHsKCQkJCXRoaXMuJHN0b3JlLmNvbW1pdCgibG9hZGluZ0dyb3VwTXNnIiwgdHJ1ZSkKCQkJCXRoaXMuJGh0dHAoewoJCQkJCXVybDogIi9tZXNzYWdlL2dyb3VwL3B1bGxPZmZsaW5lTWVzc2FnZT9taW5JZD0iICsgbWluSWQsCgkJCQkJbWV0aG9kOiAnR0VUJwoJCQkJfSkuY2F0Y2goKCkgPT4gewoJCQkJCXRoaXMuJHN0b3JlLmNvbW1pdCgibG9hZGluZ0dyb3VwTXNnIiwgZmFsc2UpCgkJCQl9KQoJCQl9LAoJCQloYW5kbGVQcml2YXRlTWVzc2FnZShtc2cpIHsKCQkJCS8vIOa2iOaBr+WKoOi9veagh+W/lwoJCQkJaWYgKG1zZy50eXBlID09IHRoaXMuJGVudW1zLk1FU1NBR0VfVFlQRS5MT0FESU5HKSB7CgkJCQkJdGhpcy4kc3RvcmUuY29tbWl0KCJsb2FkaW5nUHJpdmF0ZU1zZyIsIEpTT04ucGFyc2UobXNnLmNvbnRlbnQpKQoJCQkJCXJldHVybjsKCQkJCX0KCQkJCS8vIOa2iOaBr+W3suivu+WkhOeQhu+8jOa4heepuuW3suivu+aVsOmHjwoJCQkJaWYgKG1zZy50eXBlID09IHRoaXMuJGVudW1zLk1FU1NBR0VfVFlQRS5SRUFERUQpIHsKCQkJCQl0aGlzLiRzdG9yZS5jb21taXQoInJlc2V0VW5yZWFkQ291bnQiLCB7CgkJCQkJCXR5cGU6ICdQUklWQVRFJywKCQkJCQkJdGFyZ2V0SWQ6IG1zZy5yZWN2SWQKCQkJCQl9KQoJCQkJCXJldHVybjsKCQkJCX0KCQkJCS8vIOa2iOaBr+WbnuaJp+WkhOeQhizmlLnmtojmga/nirbmgIHkuLrlt7Lor7sKCQkJCWlmIChtc2cudHlwZSA9PSB0aGlzLiRlbnVtcy5NRVNTQUdFX1RZUEUuUkVDRUlQVCkgewoJCQkJCXRoaXMuJHN0b3JlLmNvbW1pdCgicmVhZGVkTWVzc2FnZSIsIHsKCQkJCQkJZnJpZW5kSWQ6IG1zZy5zZW5kSWQKCQkJCQl9KQoJCQkJCXJldHVybjsKCQkJCX0KCQkJCS8vIOagh+iusOi/meadoea2iOaBr+aYr+S4jeaYr+iHquW3seWPkeeahAoJCQkJbXNnLnNlbGZTZW5kID0gbXNnLnNlbmRJZCA9PSB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyU3RvcmUudXNlckluZm8uaWQ7CgkJCQkvLyDljZXkurp3ZWJydGMg5L+h5LukCgkJCQlpZiAodGhpcy4kbXNnVHlwZS5pc1J0Y1ByaXZhdGUobXNnLnR5cGUpKSB7CgkJCQkJdGhpcy4kcmVmcy5ydGNQcml2YXRlVmlkZW8ub25SVENNZXNzYWdlKG1zZykKCQkJCQlyZXR1cm47CgkJCQl9CgkJCQkvLyDlpb3lj4tpZAoJCQkJbGV0IGZyaWVuZElkID0gbXNnLnNlbGZTZW5kID8gbXNnLnJlY3ZJZCA6IG1zZy5zZW5kSWQ7CgkJCQl0aGlzLmxvYWRGcmllbmRJbmZvKGZyaWVuZElkKS50aGVuKChmcmllbmQpID0+IHsKCQkJCQl0aGlzLmluc2VydFByaXZhdGVNZXNzYWdlKGZyaWVuZCwgbXNnKTsKCQkJCX0pCgkJCX0sCgkJCWluc2VydFByaXZhdGVNZXNzYWdlKGZyaWVuZCwgbXNnKSB7CgoJCQkJbGV0IGNoYXRJbmZvID0gewoJCQkJCXR5cGU6ICdQUklWQVRFJywKCQkJCQl0YXJnZXRJZDogZnJpZW5kLmlkLAoJCQkJCXNob3dOYW1lOiBmcmllbmQubmlja05hbWUsCgkJCQkJaGVhZEltYWdlOiBmcmllbmQuaGVhZEltYWdlCgkJCQl9OwoJCQkJLy8g5omT5byA5Lya6K+dCgkJCQl0aGlzLiRzdG9yZS5jb21taXQoIm9wZW5DaGF0IiwgY2hhdEluZm8pOwoJCQkJLy8g5o+S5YWl5raI5oGvCgkJCQl0aGlzLiRzdG9yZS5jb21taXQoImluc2VydE1lc3NhZ2UiLCBtc2cpOwoJCQkJLy8g5pKt5pS+5o+Q56S66Z+zCgkJCQlpZiAoIW1zZy5zZWxmU2VuZCAmJiB0aGlzLiRtc2dUeXBlLmlzTm9ybWFsKG1zZy50eXBlKSAmJgoJCQkJCW1zZy5zdGF0dXMgIT0gdGhpcy4kZW51bXMuTUVTU0FHRV9TVEFUVVMuUkVBREVEKSB7CgkJCQkJdGhpcy5wbGF5QXVkaW9UaXAoKTsKCQkJCX0KCQkJfSwKCQkJaGFuZGxlR3JvdXBNZXNzYWdlKG1zZykgewoJCQkJLy8g5raI5oGv5Yqg6L295qCH5b+XCgkJCQlpZiAobXNnLnR5cGUgPT0gdGhpcy4kZW51bXMuTUVTU0FHRV9UWVBFLkxPQURJTkcpIHsKCQkJCQl0aGlzLiRzdG9yZS5jb21taXQoImxvYWRpbmdHcm91cE1zZyIsIEpTT04ucGFyc2UobXNnLmNvbnRlbnQpKQoJCQkJCXJldHVybjsKCQkJCX0KCQkJCS8vIOa2iOaBr+W3suivu+WkhOeQhgoJCQkJaWYgKG1zZy50eXBlID09IHRoaXMuJGVudW1zLk1FU1NBR0VfVFlQRS5SRUFERUQpIHsKCQkJCQkvLyDmiJHlt7Lor7vlr7nmlrnnmoTmtojmga/vvIzmuIXnqbrlt7Lor7vmlbDph48KCQkJCQlsZXQgY2hhdEluZm8gPSB7CgkJCQkJCXR5cGU6ICdHUk9VUCcsCgkJCQkJCXRhcmdldElkOiBtc2cuZ3JvdXBJZAoJCQkJCX0KCQkJCQl0aGlzLiRzdG9yZS5jb21taXQoInJlc2V0VW5yZWFkQ291bnQiLCBjaGF0SW5mbykKCQkJCQlyZXR1cm47CgkJCQl9CgkJCQkvLyDmtojmga/lm57miaflpITnkIYKCQkJCWlmIChtc2cudHlwZSA9PSB0aGlzLiRlbnVtcy5NRVNTQUdFX1RZUEUuUkVDRUlQVCkgewoJCQkJCS8vIOabtOaWsOa2iOaBr+W3suivu+S6uuaVsAoJCQkJCWxldCBtc2dJbmZvID0gewoJCQkJCQlpZDogbXNnLmlkLAoJCQkJCQlncm91cElkOiBtc2cuZ3JvdXBJZCwKCQkJCQkJcmVhZGVkQ291bnQ6IG1zZy5yZWFkZWRDb3VudCwKCQkJCQkJcmVjZWlwdE9rOiBtc2cucmVjZWlwdE9rCgkJCQkJfTsKCQkJCQl0aGlzLiRzdG9yZS5jb21taXQoInVwZGF0ZU1lc3NhZ2UiLCBtc2dJbmZvKQoJCQkJCXJldHVybjsKCQkJCX0KCQkJCS8vIOagh+iusOi/meadoea2iOaBr+aYr+S4jeaYr+iHquW3seWPkeeahAoJCQkJbXNnLnNlbGZTZW5kID0gbXNnLnNlbmRJZCA9PSB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyU3RvcmUudXNlckluZm8uaWQ7CgkJCQkvLyDnvqTop4bpopHkv6Hku6QKCQkJCWlmICh0aGlzLiRtc2dUeXBlLmlzUnRjR3JvdXAobXNnLnR5cGUpKSB7CgkJCQkJdGhpcy4kbmV4dFRpY2soKCkgPT4gewoJCQkJCQl0aGlzLiRyZWZzLnJ0Y0dyb3VwVmlkZW8ub25SVENNZXNzYWdlKG1zZyk7CgkJCQkJfSkKCQkJCQlyZXR1cm47CgkJCQl9CgkJCQl0aGlzLmxvYWRHcm91cEluZm8obXNnLmdyb3VwSWQpLnRoZW4oKGdyb3VwKSA9PiB7CgkJCQkJLy8g5o+S5YWl576k6IGK5raI5oGvCgkJCQkJdGhpcy5pbnNlcnRHcm91cE1lc3NhZ2UoZ3JvdXAsIG1zZyk7CgkJCQl9KQoJCQl9LAoJCQlpbnNlcnRHcm91cE1lc3NhZ2UoZ3JvdXAsIG1zZykgewoKCQkJCWxldCBjaGF0SW5mbyA9IHsKCQkJCQl0eXBlOiAnR1JPVVAnLAoJCQkJCXRhcmdldElkOiBncm91cC5pZCwKCQkJCQlzaG93TmFtZTogZ3JvdXAuc2hvd0dyb3VwTmFtZSwKCQkJCQloZWFkSW1hZ2U6IGdyb3VwLmhlYWRJbWFnZVRodW1iCgkJCQl9OwoJCQkJLy8g5omT5byA5Lya6K+dCgkJCQl0aGlzLiRzdG9yZS5jb21taXQoIm9wZW5DaGF0IiwgY2hhdEluZm8pOwoJCQkJLy8g5o+S5YWl5raI5oGvCgkJCQl0aGlzLiRzdG9yZS5jb21taXQoImluc2VydE1lc3NhZ2UiLCBtc2cpOwoJCQkJLy8g5pKt5pS+5o+Q56S66Z+zCgkJCQlpZiAoIW1zZy5zZWxmU2VuZCAmJiBtc2cudHlwZSA8PSB0aGlzLiRlbnVtcy5NRVNTQUdFX1RZUEUuVklERU8gJiYKCQkJCQltc2cuc3RhdHVzICE9IHRoaXMuJGVudW1zLk1FU1NBR0VfU1RBVFVTLlJFQURFRCkgewoJCQkJCXRoaXMucGxheUF1ZGlvVGlwKCk7CgkJCQl9CgkJCX0sCgkJCWhhbmRsZVN5c3RlbU1lc3NhZ2UobXNnKXsKCQkJCS8vIOeUqOaIt+iiq+WwgeemgQoJCQkJCgkJCQlpZiAobXNnLnR5cGUgPT0gdGhpcy4kZW51bXMuTUVTU0FHRV9UWVBFLlVTRVJfQkFOTkVEKSB7CgkJCQkJdGhpcy4kd3NBcGkuY2xvc2UoMzAwMCk7CgkJCQkJdGhpcy4kYWxlcnQoIuaCqOeahOi0puWPt+W3suiiq+euoeeQhuWRmOWwgeemgSzljp/lm6A6IisgbXNnLmNvbnRlbnQsICLotKblj7fooqvlsIHnpoEiLCB7CgkJCQkJCWNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKCQkJCQkJY2FsbGJhY2s6IGFjdGlvbiA9PiB7CgkJCQkJCQl0aGlzLm9uRXhpdCgpOwoJCQkJCQl9CgkJCQkJfSk7CgkJCQkJcmV0dXJuOwoJCQkJfQoJCQl9LAoJCQlvbkV4aXQoKSB7CgkJCQl0aGlzLiR3c0FwaS5jbG9zZSgzMDAwKTsKCQkJCXNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oImFjY2Vzc1Rva2VuIik7CgkJCQlsb2NhdGlvbi5ocmVmID0gIi8iOwoJCQl9LAoJCQlwbGF5QXVkaW9UaXAoKSB7CgkJCQkvLyDnprvnur/mtojmga/kuI3mkq3mlL7pk4Plo7AKCQkJCWlmKHRoaXMuJHN0b3JlLmdldHRlcnMuaXNMb2FkaW5nKCkpewoJCQkJCXJldHVybjsKCQkJCX0KCQkJCS8vIOmYsuatoui/h+S6juWvhumbhuaSreaUvgoJCQkJaWYgKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gdGhpcy5sYXN0UGxheUF1ZGlvVGltZSA+IDEwMDApIHsKCQkJCQl0aGlzLmxhc3RQbGF5QXVkaW9UaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CgkJCQkJbGV0IGF1ZGlvID0gbmV3IEF1ZGlvKCk7CgkJCQkJbGV0IHVybCA9IHJlcXVpcmUoYEAvYXNzZXRzL2F1ZGlvL3RpcC53YXZgKTsKCQkJCQlhdWRpby5zcmMgPSB1cmw7CgkJCQkJYXVkaW8ucGxheSgpOwoJCQkJfQoKCQkJfSwKCQkJc2hvd1NldHRpbmcoKSB7CgkJCQl0aGlzLnNob3dTZXR0aW5nRGlhbG9nID0gdHJ1ZTsKCQkJfSwKCQkJY2xvc2VTZXR0aW5nKCkgewoJCQkJdGhpcy5zaG93U2V0dGluZ0RpYWxvZyA9IGZhbHNlOwoJCQl9LAoJCQlsb2FkRnJpZW5kSW5mbyhpZCkgewoJCQkJcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKCQkJCQlsZXQgZnJpZW5kID0gdGhpcy4kc3RvcmUuc3RhdGUuZnJpZW5kU3RvcmUuZnJpZW5kcy5maW5kKChmKSA9PiBmLmlkID09IGlkKTsKCQkJCQlpZiAoZnJpZW5kKSB7CgkJCQkJCXJlc29sdmUoZnJpZW5kKTsKCQkJCQl9IGVsc2UgewoJCQkJCQl0aGlzLiRodHRwKHsKCQkJCQkJCXVybDogYC9mcmllbmQvZmluZC8ke2lkfWAsCgkJCQkJCQltZXRob2Q6ICdnZXQnCgkJCQkJCX0pLnRoZW4oKGZyaWVuZCkgPT4gewoJCQkJCQkJdGhpcy4kc3RvcmUuY29tbWl0KCJhZGRGcmllbmQiLCBmcmllbmQpOwoJCQkJCQkJcmVzb2x2ZShmcmllbmQpCgkJCQkJCX0pCgkJCQkJfQoJCQkJfSk7CgkJCX0sCgkJCWxvYWRHcm91cEluZm8oaWQpIHsKCQkJCXJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CgkJCQkJbGV0IGdyb3VwID0gdGhpcy4kc3RvcmUuc3RhdGUuZ3JvdXBTdG9yZS5ncm91cHMuZmluZCgoZykgPT4gZy5pZCA9PSBpZCk7CgkJCQkJaWYgKGdyb3VwKSB7CgkJCQkJCXJlc29sdmUoZ3JvdXApOwoJCQkJCX0gZWxzZSB7CgkJCQkJCXRoaXMuJGh0dHAoewoJCQkJCQkJdXJsOiBgL2dyb3VwL2ZpbmQvJHtpZH1gLAoJCQkJCQkJbWV0aG9kOiAnZ2V0JwoJCQkJCQl9KS50aGVuKChncm91cCkgPT4gewoJCQkJCQkJcmVzb2x2ZShncm91cCkKCQkJCQkJCXRoaXMuJHN0b3JlLmNvbW1pdCgiYWRkR3JvdXAiLCBncm91cCk7CgkJCQkJCX0pCgkJCQkJfQoJCQkJfSk7CgkJCX0KCQl9LAoJCWNvbXB1dGVkOiB7CgkJCXVpU3RvcmUoKSB7CgkJCQlyZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUudWlTdG9yZTsKCQkJfSwKCQkJdW5yZWFkQ291bnQoKSB7CgkJCQlsZXQgdW5yZWFkQ291bnQgPSAwOwoJCQkJbGV0IGNoYXRzID0gdGhpcy4kc3RvcmUuc3RhdGUuY2hhdFN0b3JlLmNoYXRzOwoJCQkJY2hhdHMuZm9yRWFjaCgoY2hhdCkgPT4gewoJCQkJCWlmKCFjaGF0LmRlbGV0ZSl7CgkJCQkJCXVucmVhZENvdW50ICs9IGNoYXQudW5yZWFkQ291bnQKCQkJCQl9CgkJCQl9KTsKCQkJCXJldHVybiB1bnJlYWRDb3VudDsKCQkJfQoJCX0sCgkJd2F0Y2g6IHsKCQkJdW5yZWFkQ291bnQ6IHsKCQkJCWhhbmRsZXIobmV3Q291bnQsIG9sZENvdW50KSB7CgkJCQkJbGV0IHRpcCA9IG5ld0NvdW50ID4gMCA/IGAke25ld0NvdW50feadoeacquivu2AgOiAiIjsKCQkJCQl0aGlzLiRlbG0uc2V0VGl0bGVUaXAodGlwKTsKCQkJCX0sCgkJCQlpbW1lZGlhdGU6IHRydWUKCQkJfQoJCX0sCgkJbW91bnRlZCgpIHsKCQkJdGhpcy5pbml0KCk7CgkJfSwKCQl1bm1vdW50ZWQoKSB7CgkJCXRoaXMuJHdzQXBpLmNsb3NlKCk7CgkJfQoJfQo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";AAgDA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/view","sourcesContent":["<template>\n\t<el-container class=\"home-page\">\n\t\t<el-aside width=\"80px\" class=\"navi-bar\">\n\t\t\t<div class=\"user-head-image\">\n\t\t\t\t<head-image :name=\"$store.state.userStore.userInfo.nickName\"\n\t\t\t\t\t:url=\"$store.state.userStore.userInfo.headImageThumb\" :size=\"60\"\n\t\t\t\t\t@click.native=\"showSettingDialog = true\">\n\t\t\t\t</head-image>\n\t\t\t</div>\n\t\t\t<el-menu background-color=\"#E8F2FF\" style=\"margin-top: 25px;\">\n\t\t\t\t<el-menu-item title=\"聊天\">\n\t\t\t\t\t<router-link class=\"link\" v-bind:to=\"'/home/chat'\">\n\t\t\t\t\t\t<span class=\"icon iconfont icon-chat\"></span>\n\t\t\t\t\t\t<div v-show=\"unreadCount > 0\" class=\"unread-text\">{{ unreadCount }}</div>\n\t\t\t\t\t</router-link>\n\t\t\t\t</el-menu-item>\n\t\t\t\t<el-menu-item title=\"好友\">\n\t\t\t\t\t<router-link class=\"link\" v-bind:to=\"'/home/friend'\">\n\t\t\t\t\t\t<span class=\"icon iconfont icon-friend\"></span>\n\t\t\t\t\t</router-link>\n\t\t\t\t</el-menu-item>\n\t\t\t\t<el-menu-item title=\"群聊\">\n\t\t\t\t\t<router-link class=\"link\" v-bind:to=\"'/home/group'\">\n\t\t\t\t\t\t<span class=\"icon iconfont icon-group\"></span>\n\t\t\t\t\t</router-link>\n\t\t\t\t</el-menu-item>\n\t\t\t\t<el-menu-item title=\"设置\" @click=\"showSetting()\">\n\t\t\t\t\t<span class=\"icon iconfont icon-setting\"></span>\n\t\t\t\t</el-menu-item>\n\t\t\t</el-menu>\n\t\t\t<div class=\"exit-box\" @click=\"onExit()\" title=\"退出\">\n\t\t\t\t<span class=\"icon iconfont icon-exit\"></span>\n\t\t\t</div>\n\t\t</el-aside>\n\t\t<el-main class=\"content-box\">\n\t\t\t<router-view></router-view>\n\t\t</el-main>\n\t\t<setting :visible=\"showSettingDialog\" @close=\"closeSetting()\"></setting>\n\t\t<user-info v-show=\"uiStore.userInfo.show\" :pos=\"uiStore.userInfo.pos\" :user=\"uiStore.userInfo.user\"\n\t\t\t@close=\"$store.commit('closeUserInfoBox')\"></user-info>\n\t\t<full-image :visible=\"uiStore.fullImage.show\" :url=\"uiStore.fullImage.url\"\n\t\t\t@close=\"$store.commit('closeFullImageBox')\"></full-image>\n\t\t<rtc-private-video ref=\"rtcPrivateVideo\"></rtc-private-video>\n\t\t<rtc-group-video ref=\"rtcGroupVideo\"></rtc-group-video>\n\t</el-container>\n</template>\n\n<script>\n\timport HeadImage from '../components/common/HeadImage.vue';\n\timport Setting from '../components/setting/Setting.vue';\n\timport UserInfo from '../components/common/UserInfo.vue';\n\timport FullImage from '../components/common/FullImage.vue';\n\timport RtcPrivateVideo from '../components/rtc/RtcPrivateVideo.vue';\n\timport RtcPrivateAcceptor from '../components/rtc/RtcPrivateAcceptor.vue';\n\timport RtcGroupVideo from '../components/rtc/RtcGroupVideo.vue';\n\n\texport default {\n\t\tcomponents: {\n\t\t\tHeadImage,\n\t\t\tSetting,\n\t\t\tUserInfo,\n\t\t\tFullImage,\n\t\t\tRtcPrivateVideo,\n\t\t\tRtcPrivateAcceptor,\n\t\t\tRtcGroupVideo\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tshowSettingDialog: false,\n\t\t\t\tlastPlayAudioTime: new Date().getTime() - 1000\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tinit() {\n\t\t\t\tthis.$eventBus.$on('openPrivateVideo', (rctInfo) => {\n\t\t\t\t\t// 进入单人视频通话\n\t\t\t\t\tthis.$refs.rtcPrivateVideo.open(rctInfo);\n\t\t\t\t});\n\t\t\t\tthis.$eventBus.$on('openGroupVideo', (rctInfo) => {\n\t\t\t\t\t// 进入多人视频通话\n\t\t\t\t\tthis.$refs.rtcGroupVideo.open(rctInfo);\n\t\t\t\t});\n\n\t\t\t\tthis.$store.dispatch(\"load\").then(() => {\n\t\t\t\t\t// ws初始化\n\t\t\t\t\tthis.$wsApi.connect(process.env.VUE_APP_WS_URL, sessionStorage.getItem(\"accessToken\"));\n\t\t\t\t\tthis.$wsApi.onConnect(() => {\n\t\t\t\t\t\t// 加载离线消息\n\t\t\t\t\t\tthis.pullPrivateOfflineMessage(this.$store.state.chatStore.privateMsgMaxId);\n\t\t\t\t\t\tthis.pullGroupOfflineMessage(this.$store.state.chatStore.groupMsgMaxId);\n\t\t\t\t\t});\n\t\t\t\t\tthis.$wsApi.onMessage((cmd, msgInfo) => {\n\t\t\t\t\t\tif (cmd == 2) {\n\t\t\t\t\t\t\t// 关闭ws\n\t\t\t\t\t\t\tthis.$wsApi.close(3000)\n\t\t\t\t\t\t\t// 异地登录，强制下线\n\t\t\t\t\t\t\tthis.$alert(\"您已在其他地方登陆，将被强制下线\", \"强制下线通知\", {\n\t\t\t\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\t\t\t\tcallback: action => {\n\t\t\t\t\t\t\t\t\tlocation.href = \"/\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t} else if (cmd == 3) {\n\t\t\t\t\t\t\t// 插入私聊消息\n\t\t\t\t\t\t\tthis.handlePrivateMessage(msgInfo);\n\t\t\t\t\t\t} else if (cmd == 4) {\n\t\t\t\t\t\t\t// 插入群聊消息\n\t\t\t\t\t\t\tthis.handleGroupMessage(msgInfo);\n\t\t\t\t\t\t} else if (cmd == 5){\n\t\t\t\t\t\t\t// 处理系统消息\n\t\t\t\t\t\t\tthis.handleSystemMessage(msgInfo);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tthis.$wsApi.onClose((e) => {\n\t\t\t\t\t\tconsole.log(e);\n\t\t\t\t\t\tif (e.code != 3000) {\n\t\t\t\t\t\t\t// 断线重连\n\t\t\t\t\t\t\tthis.$message.error(\"连接断开，正在尝试重新连接...\");\n\t\t\t\t\t\t\tthis.$wsApi.reconnect(process.env.VUE_APP_WS_URL, sessionStorage.getItem(\n\t\t\t\t\t\t\t\t\"accessToken\"));\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}).catch((e) => {\n\t\t\t\t\tconsole.log(\"初始化失败\", e);\n\t\t\t\t})\n\t\t\t},\n\t\t\tpullPrivateOfflineMessage(minId) {\n\t\t\t\tthis.$store.commit(\"loadingPrivateMsg\", true)\n\t\t\t\tthis.$http({\n\t\t\t\t\turl: \"/message/private/pullOfflineMessage?minId=\" + minId,\n\t\t\t\t\tmethod: 'GET'\n\t\t\t\t}).catch(() => {\n\t\t\t\t\tthis.$store.commit(\"loadingPrivateMsg\", false)\n\t\t\t\t})\n\t\t\t},\n\t\t\tpullGroupOfflineMessage(minId) {\n\t\t\t\tthis.$store.commit(\"loadingGroupMsg\", true)\n\t\t\t\tthis.$http({\n\t\t\t\t\turl: \"/message/group/pullOfflineMessage?minId=\" + minId,\n\t\t\t\t\tmethod: 'GET'\n\t\t\t\t}).catch(() => {\n\t\t\t\t\tthis.$store.commit(\"loadingGroupMsg\", false)\n\t\t\t\t})\n\t\t\t},\n\t\t\thandlePrivateMessage(msg) {\n\t\t\t\t// 消息加载标志\n\t\t\t\tif (msg.type == this.$enums.MESSAGE_TYPE.LOADING) {\n\t\t\t\t\tthis.$store.commit(\"loadingPrivateMsg\", JSON.parse(msg.content))\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// 消息已读处理，清空已读数量\n\t\t\t\tif (msg.type == this.$enums.MESSAGE_TYPE.READED) {\n\t\t\t\t\tthis.$store.commit(\"resetUnreadCount\", {\n\t\t\t\t\t\ttype: 'PRIVATE',\n\t\t\t\t\t\ttargetId: msg.recvId\n\t\t\t\t\t})\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// 消息回执处理,改消息状态为已读\n\t\t\t\tif (msg.type == this.$enums.MESSAGE_TYPE.RECEIPT) {\n\t\t\t\t\tthis.$store.commit(\"readedMessage\", {\n\t\t\t\t\t\tfriendId: msg.sendId\n\t\t\t\t\t})\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// 标记这条消息是不是自己发的\n\t\t\t\tmsg.selfSend = msg.sendId == this.$store.state.userStore.userInfo.id;\n\t\t\t\t// 单人webrtc 信令\n\t\t\t\tif (this.$msgType.isRtcPrivate(msg.type)) {\n\t\t\t\t\tthis.$refs.rtcPrivateVideo.onRTCMessage(msg)\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// 好友id\n\t\t\t\tlet friendId = msg.selfSend ? msg.recvId : msg.sendId;\n\t\t\t\tthis.loadFriendInfo(friendId).then((friend) => {\n\t\t\t\t\tthis.insertPrivateMessage(friend, msg);\n\t\t\t\t})\n\t\t\t},\n\t\t\tinsertPrivateMessage(friend, msg) {\n\n\t\t\t\tlet chatInfo = {\n\t\t\t\t\ttype: 'PRIVATE',\n\t\t\t\t\ttargetId: friend.id,\n\t\t\t\t\tshowName: friend.nickName,\n\t\t\t\t\theadImage: friend.headImage\n\t\t\t\t};\n\t\t\t\t// 打开会话\n\t\t\t\tthis.$store.commit(\"openChat\", chatInfo);\n\t\t\t\t// 插入消息\n\t\t\t\tthis.$store.commit(\"insertMessage\", msg);\n\t\t\t\t// 播放提示音\n\t\t\t\tif (!msg.selfSend && this.$msgType.isNormal(msg.type) &&\n\t\t\t\t\tmsg.status != this.$enums.MESSAGE_STATUS.READED) {\n\t\t\t\t\tthis.playAudioTip();\n\t\t\t\t}\n\t\t\t},\n\t\t\thandleGroupMessage(msg) {\n\t\t\t\t// 消息加载标志\n\t\t\t\tif (msg.type == this.$enums.MESSAGE_TYPE.LOADING) {\n\t\t\t\t\tthis.$store.commit(\"loadingGroupMsg\", JSON.parse(msg.content))\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// 消息已读处理\n\t\t\t\tif (msg.type == this.$enums.MESSAGE_TYPE.READED) {\n\t\t\t\t\t// 我已读对方的消息，清空已读数量\n\t\t\t\t\tlet chatInfo = {\n\t\t\t\t\t\ttype: 'GROUP',\n\t\t\t\t\t\ttargetId: msg.groupId\n\t\t\t\t\t}\n\t\t\t\t\tthis.$store.commit(\"resetUnreadCount\", chatInfo)\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// 消息回执处理\n\t\t\t\tif (msg.type == this.$enums.MESSAGE_TYPE.RECEIPT) {\n\t\t\t\t\t// 更新消息已读人数\n\t\t\t\t\tlet msgInfo = {\n\t\t\t\t\t\tid: msg.id,\n\t\t\t\t\t\tgroupId: msg.groupId,\n\t\t\t\t\t\treadedCount: msg.readedCount,\n\t\t\t\t\t\treceiptOk: msg.receiptOk\n\t\t\t\t\t};\n\t\t\t\t\tthis.$store.commit(\"updateMessage\", msgInfo)\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// 标记这条消息是不是自己发的\n\t\t\t\tmsg.selfSend = msg.sendId == this.$store.state.userStore.userInfo.id;\n\t\t\t\t// 群视频信令\n\t\t\t\tif (this.$msgType.isRtcGroup(msg.type)) {\n\t\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t\tthis.$refs.rtcGroupVideo.onRTCMessage(msg);\n\t\t\t\t\t})\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.loadGroupInfo(msg.groupId).then((group) => {\n\t\t\t\t\t// 插入群聊消息\n\t\t\t\t\tthis.insertGroupMessage(group, msg);\n\t\t\t\t})\n\t\t\t},\n\t\t\tinsertGroupMessage(group, msg) {\n\n\t\t\t\tlet chatInfo = {\n\t\t\t\t\ttype: 'GROUP',\n\t\t\t\t\ttargetId: group.id,\n\t\t\t\t\tshowName: group.showGroupName,\n\t\t\t\t\theadImage: group.headImageThumb\n\t\t\t\t};\n\t\t\t\t// 打开会话\n\t\t\t\tthis.$store.commit(\"openChat\", chatInfo);\n\t\t\t\t// 插入消息\n\t\t\t\tthis.$store.commit(\"insertMessage\", msg);\n\t\t\t\t// 播放提示音\n\t\t\t\tif (!msg.selfSend && msg.type <= this.$enums.MESSAGE_TYPE.VIDEO &&\n\t\t\t\t\tmsg.status != this.$enums.MESSAGE_STATUS.READED) {\n\t\t\t\t\tthis.playAudioTip();\n\t\t\t\t}\n\t\t\t},\n\t\t\thandleSystemMessage(msg){\n\t\t\t\t// 用户被封禁\n\t\t\t\t\n\t\t\t\tif (msg.type == this.$enums.MESSAGE_TYPE.USER_BANNED) {\n\t\t\t\t\tthis.$wsApi.close(3000);\n\t\t\t\t\tthis.$alert(\"您的账号已被管理员封禁,原因:\"+ msg.content, \"账号被封禁\", {\n\t\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\t\tcallback: action => {\n\t\t\t\t\t\t\tthis.onExit();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t},\n\t\t\tonExit() {\n\t\t\t\tthis.$wsApi.close(3000);\n\t\t\t\tsessionStorage.removeItem(\"accessToken\");\n\t\t\t\tlocation.href = \"/\";\n\t\t\t},\n\t\t\tplayAudioTip() {\n\t\t\t\t// 离线消息不播放铃声\n\t\t\t\tif(this.$store.getters.isLoading()){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// 防止过于密集播放\n\t\t\t\tif (new Date().getTime() - this.lastPlayAudioTime > 1000) {\n\t\t\t\t\tthis.lastPlayAudioTime = new Date().getTime();\n\t\t\t\t\tlet audio = new Audio();\n\t\t\t\t\tlet url = require(`@/assets/audio/tip.wav`);\n\t\t\t\t\taudio.src = url;\n\t\t\t\t\taudio.play();\n\t\t\t\t}\n\n\t\t\t},\n\t\t\tshowSetting() {\n\t\t\t\tthis.showSettingDialog = true;\n\t\t\t},\n\t\t\tcloseSetting() {\n\t\t\t\tthis.showSettingDialog = false;\n\t\t\t},\n\t\t\tloadFriendInfo(id) {\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\tlet friend = this.$store.state.friendStore.friends.find((f) => f.id == id);\n\t\t\t\t\tif (friend) {\n\t\t\t\t\t\tresolve(friend);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.$http({\n\t\t\t\t\t\t\turl: `/friend/find/${id}`,\n\t\t\t\t\t\t\tmethod: 'get'\n\t\t\t\t\t\t}).then((friend) => {\n\t\t\t\t\t\t\tthis.$store.commit(\"addFriend\", friend);\n\t\t\t\t\t\t\tresolve(friend)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tloadGroupInfo(id) {\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\tlet group = this.$store.state.groupStore.groups.find((g) => g.id == id);\n\t\t\t\t\tif (group) {\n\t\t\t\t\t\tresolve(group);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.$http({\n\t\t\t\t\t\t\turl: `/group/find/${id}`,\n\t\t\t\t\t\t\tmethod: 'get'\n\t\t\t\t\t\t}).then((group) => {\n\t\t\t\t\t\t\tresolve(group)\n\t\t\t\t\t\t\tthis.$store.commit(\"addGroup\", group);\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\tuiStore() {\n\t\t\t\treturn this.$store.state.uiStore;\n\t\t\t},\n\t\t\tunreadCount() {\n\t\t\t\tlet unreadCount = 0;\n\t\t\t\tlet chats = this.$store.state.chatStore.chats;\n\t\t\t\tchats.forEach((chat) => {\n\t\t\t\t\tif(!chat.delete){\n\t\t\t\t\t\tunreadCount += chat.unreadCount\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn unreadCount;\n\t\t\t}\n\t\t},\n\t\twatch: {\n\t\t\tunreadCount: {\n\t\t\t\thandler(newCount, oldCount) {\n\t\t\t\t\tlet tip = newCount > 0 ? `${newCount}条未读` : \"\";\n\t\t\t\t\tthis.$elm.setTitleTip(tip);\n\t\t\t\t},\n\t\t\t\timmediate: true\n\t\t\t}\n\t\t},\n\t\tmounted() {\n\t\t\tthis.init();\n\t\t},\n\t\tunmounted() {\n\t\t\tthis.$wsApi.close();\n\t\t}\n\t}\n</script>\n\n<style scoped lang=\"scss\">\n\t.navi-bar {\n\t\tbackground: #E8F2FF;\n\t\tpadding: 10px;\n\t\tpadding-top: 20px;\n\t\tborder-right: #53a0e79c solid 1px;\n\t\t\n\t\t.el-menu {\n\t\t\tborder: none;\n\t\t\tflex: 1;\n\n\t\t\t.el-menu-item {\n\t\t\t\tmargin: 25px 0;\n\t\t\t\tbackground-color: #E8F2FF !important;\n\t\t\t\tpadding: 0 !important;\n\t\t\t\ttext-align: center;\n\n\t\t\t\t.link {\n\t\t\t\t\ttext-decoration: none;\n\t\t\t\t\t\t\n\t\t\t\t\t&.router-link-active .icon {\n\t\t\t\t\t\tcolor: #195ee2;\n\t\t\t\t\t\tfont-size: 28px;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t.icon {\n\t\t\t\t\tfont-size: 26px;\n\t\t\t\t\tcolor: #888;\n\t\t\t\t}\n\n\t\t\t\t.unread-text {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tline-height: 20px;\n\t\t\t\t\tbackground-color: #f56c6c;\n\t\t\t\t\tleft: 36px;\n\t\t\t\t\ttop: 7px;\n\t\t\t\t\tcolor: white;\n\t\t\t\t\tborder-radius: 30px;\n\t\t\t\t\tpadding: 0 5px;\n\t\t\t\t\tfont-size: 10px;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\twhite-space: nowrap;\n\t\t\t\t\tborder: 1px solid #f1e5e5;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t.exit-box {\n\t\t\tposition: absolute;\n\t\t\twidth: 60px;\n\t\t\tbottom: 40px;\n\t\t\ttext-align: center;\n\t\t\tcursor: pointer;\n\n\t\t\t.icon {\n\t\t\t\tfont-size: 28px;\n\t\t\t}\n\n\t\t\t&:hover {\n\t\t\t\tfont-weight: 600;\n\t\t\t}\n\t\t}\n\t}\n\n\t.content-box {\n\t\tpadding: 0;\n\t\tbackground-color: #f8f8f8;\n\t\tcolor: black;\n\t\ttext-align: center;\n\t}\n</style>"]}]}